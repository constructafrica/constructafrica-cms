import*as e from"crypto";import t,{randomBytes as a,createHash as i}from"crypto";import n,{EventEmitter as r}from"events";import*as o from"http";import*as s from"https";import c from"util";import{exec as l}from"child_process";import u from"path";import p,{Readable as d}from"stream";import m from"fs";import f from"os";import h from"buffer";async function v({items:e,collection:t,userId:a,schema:i,accountability:n,ItemsService:r,idKey:o="id"}){if(!e||0===e.length||!a)return e.map(e=>({...e,is_favorited:!1,favorite_id:null}));const s=new r("favourites",{schema:i,accountability:n}),c=e.map(e=>e[o]).filter(Boolean);if(0===c.length)return e;const l=await s.readByQuery({filter:{_and:[{user_created:{_eq:a}},{collection:{_eq:t}},{item_id:{_in:c}}]},fields:["id","item_id"],limit:-1}),u=new Map(l.map(e=>[e.item_id,e.id]));return e.map(e=>({...e,is_favorited:u.has(e[o]),favorite_id:u.get(e[o])??null}))}async function g({itemId:e,collection:t,userId:a,schema:i,accountability:n,ItemsService:r}){if(!e||!a)return{is_favorited:!1,favorite_id:null};try{const o=new r("favourites",{schema:i,accountability:n}),s=await o.readByQuery({filter:{_and:[{user_created:{_eq:a}},{collection:{_eq:t}},{item_id:{_eq:e}}]},fields:["id"],limit:1});return s.length>0?{is_favorited:!0,favorite_id:s[0].id}:{is_favorited:!1,favorite_id:null}}catch(e){return console.warn("Failed to fetch favorite status:",e.message),{is_favorited:!1,favorite_id:null}}}class y{computeHMACSignature(e,t){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,t){throw new Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(e){throw new Error("computeSHA256 not implemented.")}}class b extends Error{}class _ extends y{computeHMACSignature(t,a){return e.createHmac("sha256",a).update(t,"utf8").digest("hex")}async computeHMACSignatureAsync(e,t){return await this.computeHMACSignature(e,t)}async computeSHA256Async(t){return new Uint8Array(await e.createHash("sha256").update(t).digest())}}class x{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(e,t,a,i,n,r,o,s){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){const e=new TypeError(x.TIMEOUT_ERROR_CODE);return e.code=x.TIMEOUT_ERROR_CODE,e}}x.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"],x.TIMEOUT_ERROR_CODE="ETIMEDOUT";class w{constructor(e,t){this._statusCode=e,this._headers=t}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(e){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}}const P=o.default||o,S=s.default||s,O=new P.Agent({keepAlive:!0}),j=new S.Agent({keepAlive:!0});class T extends x{constructor(e){super(),this._agent=e}getClientName(){return"node"}makeRequest(e,t,a,i,n,r,o,s){const c="http"===o;let l=this._agent;l||(l=c?O:j);return new Promise((o,u)=>{const p=(c?P:S).request({host:e,port:t,path:a,method:i,agent:l,headers:n,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});p.setTimeout(s,()=>{p.destroy(x.makeTimeoutError())}),p.on("response",e=>{o(new E(e))}),p.on("error",e=>{u(e)}),p.once("socket",e=>{e.connecting?e.once(c?"connect":"secureConnect",()=>{p.write(r),p.end()}):(p.write(r),p.end())})})}}class E extends w{constructor(e){super(e.statusCode,e.headers||{}),this._res=e}getRawResponse(){return this._res}toStream(e){return this._res.once("end",()=>e()),this._res}toJSON(){return new Promise((e,t)=>{let a="";this._res.setEncoding("utf8"),this._res.on("data",e=>{a+=e}),this._res.once("end",()=>{try{e(JSON.parse(a))}catch(e){t(e)}})})}}var k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function A(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function C(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var a=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(a,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}),a}var I=TypeError,R=c.inspect,z="function"==typeof Map&&Map.prototype,M=Object.getOwnPropertyDescriptor&&z?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,q=z&&M&&"function"==typeof M.get?M.get:null,L=z&&Map.prototype.forEach,J="function"==typeof Set&&Set.prototype,U=Object.getOwnPropertyDescriptor&&J?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,B=J&&U&&"function"==typeof U.get?U.get:null,D=J&&Set.prototype.forEach,$="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,N="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,F="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,H=Boolean.prototype.valueOf,G=Object.prototype.toString,W=Function.prototype.toString,Q=String.prototype.match,K=String.prototype.slice,V=String.prototype.replace,Y=String.prototype.toUpperCase,Z=String.prototype.toLowerCase,X=RegExp.prototype.test,ee=Array.prototype.concat,te=Array.prototype.join,ae=Array.prototype.slice,ie=Math.floor,ne="function"==typeof BigInt?BigInt.prototype.valueOf:null,re=Object.getOwnPropertySymbols,oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,se="function"==typeof Symbol&&"object"==typeof Symbol.iterator,ce="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===se||"symbol")?Symbol.toStringTag:null,le=Object.prototype.propertyIsEnumerable,ue=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function pe(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||X.call(/e/,t))return t;var a=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var i=e<0?-ie(-e):ie(e);if(i!==e){var n=String(i),r=K.call(t,n.length+1);return V.call(n,a,"$&_")+"."+V.call(V.call(r,/([0-9]{3})/g,"$&_"),/_$/,"")}}return V.call(t,a,"$&_")}var de=R,me=de.custom,fe=Pe(me)?me:null,he={__proto__:null,double:'"',single:"'"},ve={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},ge=function e(t,a,i,n){var r=a||{};if(Oe(r,"quoteStyle")&&!Oe(he,r.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Oe(r,"maxStringLength")&&("number"==typeof r.maxStringLength?r.maxStringLength<0&&r.maxStringLength!==1/0:null!==r.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=!Oe(r,"customInspect")||r.customInspect;if("boolean"!=typeof o&&"symbol"!==o)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Oe(r,"indent")&&null!==r.indent&&"\t"!==r.indent&&!(parseInt(r.indent,10)===r.indent&&r.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Oe(r,"numericSeparator")&&"boolean"!=typeof r.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=r.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return Ee(t,r);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var c=String(t);return s?pe(t,c):c}if("bigint"==typeof t){var l=String(t)+"n";return s?pe(t,l):l}var u=void 0===r.depth?5:r.depth;if(void 0===i&&(i=0),i>=u&&u>0&&"object"==typeof t)return xe(t)?"[Array]":"[Object]";var p=function(e,t){var a;if("\t"===e.indent)a="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;a=te.call(Array(e.indent+1)," ")}return{base:a,prev:te.call(Array(t+1),a)}}(r,i);if(void 0===n)n=[];else if(Te(n,t)>=0)return"[Circular]";function d(t,a,o){if(a&&(n=ae.call(n)).push(a),o){var s={depth:r.depth};return Oe(r,"quoteStyle")&&(s.quoteStyle=r.quoteStyle),e(t,s,i+1,n)}return e(t,r,i+1,n)}if("function"==typeof t&&!we(t)){var m=function(e){if(e.name)return e.name;var t=Q.call(W.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),f=ze(t,d);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(f.length>0?" { "+te.call(f,", ")+" }":"")}if(Pe(t)){var h=se?V.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):oe.call(t);return"object"!=typeof t||se?h:Ae(h)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var v="<"+Z.call(String(t.nodeName)),g=t.attributes||[],y=0;y<g.length;y++)v+=" "+g[y].name+"="+ye(be(g[y].value),"double",r);return v+=">",t.childNodes&&t.childNodes.length&&(v+="..."),v+="</"+Z.call(String(t.nodeName))+">"}if(xe(t)){if(0===t.length)return"[]";var b=ze(t,d);return p&&!function(e){for(var t=0;t<e.length;t++)if(Te(e[t],"\n")>=0)return!1;return!0}(b)?"["+Re(b,p)+"]":"[ "+te.call(b,", ")+" ]"}if(function(e){return"[object Error]"===je(e)&&_e(e)}(t)){var _=ze(t,d);return"cause"in Error.prototype||!("cause"in t)||le.call(t,"cause")?0===_.length?"["+String(t)+"]":"{ ["+String(t)+"] "+te.call(_,", ")+" }":"{ ["+String(t)+"] "+te.call(ee.call("[cause]: "+d(t.cause),_),", ")+" }"}if("object"==typeof t&&o){if(fe&&"function"==typeof t[fe]&&de)return de(t,{depth:u-i});if("symbol"!==o&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!q||!e||"object"!=typeof e)return!1;try{q.call(e);try{B.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var x=[];return L&&L.call(t,function(e,a){x.push(d(a,t,!0)+" => "+d(e,t))}),Ie("Map",q.call(t),x,p)}if(function(e){if(!B||!e||"object"!=typeof e)return!1;try{B.call(e);try{q.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var w=[];return D&&D.call(t,function(e){w.push(d(e,t))}),Ie("Set",B.call(t),w,p)}if(function(e){if(!$||!e||"object"!=typeof e)return!1;try{$.call(e,$);try{N.call(e,N)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Ce("WeakMap");if(function(e){if(!N||!e||"object"!=typeof e)return!1;try{N.call(e,N);try{$.call(e,$)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Ce("WeakSet");if(function(e){if(!F||!e||"object"!=typeof e)return!1;try{return F.call(e),!0}catch(e){}return!1}(t))return Ce("WeakRef");if(function(e){return"[object Number]"===je(e)&&_e(e)}(t))return Ae(d(Number(t)));if(function(e){if(!e||"object"!=typeof e||!ne)return!1;try{return ne.call(e),!0}catch(e){}return!1}(t))return Ae(d(ne.call(t)));if(function(e){return"[object Boolean]"===je(e)&&_e(e)}(t))return Ae(H.call(t));if(function(e){return"[object String]"===je(e)&&_e(e)}(t))return Ae(d(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==k&&t===k)return"{ [object globalThis] }";if(!function(e){return"[object Date]"===je(e)&&_e(e)}(t)&&!we(t)){var P=ze(t,d),S=ue?ue(t)===Object.prototype:t instanceof Object||t.constructor===Object,O=t instanceof Object?"":"null prototype",j=!S&&ce&&Object(t)===t&&ce in t?K.call(je(t),8,-1):O?"Object":"",T=(S||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(j||O?"["+te.call(ee.call([],j||[],O||[]),": ")+"] ":"");return 0===P.length?T+"{}":p?T+"{"+Re(P,p)+"}":T+"{ "+te.call(P,", ")+" }"}return String(t)};function ye(e,t,a){var i=a.quoteStyle||t,n=he[i];return n+e+n}function be(e){return V.call(String(e),/"/g,"&quot;")}function _e(e){return!ce||!("object"==typeof e&&(ce in e||void 0!==e[ce]))}function xe(e){return"[object Array]"===je(e)&&_e(e)}function we(e){return"[object RegExp]"===je(e)&&_e(e)}function Pe(e){if(se)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!oe)return!1;try{return oe.call(e),!0}catch(e){}return!1}var Se=Object.prototype.hasOwnProperty||function(e){return e in this};function Oe(e,t){return Se.call(e,t)}function je(e){return G.call(e)}function Te(e,t){if(e.indexOf)return e.indexOf(t);for(var a=0,i=e.length;a<i;a++)if(e[a]===t)return a;return-1}function Ee(e,t){if(e.length>t.maxStringLength){var a=e.length-t.maxStringLength,i="... "+a+" more character"+(a>1?"s":"");return Ee(K.call(e,0,t.maxStringLength),t)+i}var n=ve[t.quoteStyle||"single"];return n.lastIndex=0,ye(V.call(V.call(e,n,"\\$1"),/[\x00-\x1f]/g,ke),"single",t)}function ke(e){var t=e.charCodeAt(0),a={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return a?"\\"+a:"\\x"+(t<16?"0":"")+Y.call(t.toString(16))}function Ae(e){return"Object("+e+")"}function Ce(e){return e+" { ? }"}function Ie(e,t,a,i){return e+" ("+t+") {"+(i?Re(a,i):te.call(a,", "))+"}"}function Re(e,t){if(0===e.length)return"";var a="\n"+t.prev+t.base;return a+te.call(e,","+a)+"\n"+t.prev}function ze(e,t){var a=xe(e),i=[];if(a){i.length=e.length;for(var n=0;n<e.length;n++)i[n]=Oe(e,n)?t(e[n],e):""}var r,o="function"==typeof re?re(e):[];if(se){r={};for(var s=0;s<o.length;s++)r["$"+o[s]]=o[s]}for(var c in e)Oe(e,c)&&(a&&String(Number(c))===c&&c<e.length||se&&r["$"+c]instanceof Symbol||(X.call(/[^\w$]/,c)?i.push(t(c,e)+": "+t(e[c],e)):i.push(c+": "+t(e[c],e))));if("function"==typeof re)for(var l=0;l<o.length;l++)le.call(e,o[l])&&i.push("["+t(o[l])+"]: "+t(e[o[l]],e));return i}var Me=ge,qe=I,Le=function(e,t,a){for(var i,n=e;null!=(i=n.next);n=i)if(i.key===t)return n.next=i.next,a||(i.next=e.next,e.next=i),i},Je=Object,Ue=Error,Be=EvalError,De=RangeError,$e=ReferenceError,Ne=SyntaxError,Fe=URIError,He=Math.abs,Ge=Math.floor,We=Math.max,Qe=Math.min,Ke=Math.pow,Ve=Math.round,Ye=Number.isNaN||function(e){return e!=e},Ze=Object.getOwnPropertyDescriptor;if(Ze)try{Ze([],"length")}catch(e){Ze=null}var Xe=Ze,et=Object.defineProperty||!1;if(et)try{et({},"a",{value:1})}catch(e){et=!1}var tt,at,it,nt,rt,ot,st,ct,lt,ut,pt,dt,mt,ft,ht,vt,gt=et;function yt(){return ot?rt:(ot=1,rt="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null)}function bt(){return ct?st:(ct=1,st=Je.getPrototypeOf||null)}function _t(){if(ut)return lt;ut=1;var e=Object.prototype.toString,t=Math.max,a=function(e,t){for(var a=[],i=0;i<e.length;i+=1)a[i]=e[i];for(var n=0;n<t.length;n+=1)a[n+e.length]=t[n];return a};return lt=function(i){var n=this;if("function"!=typeof n||"[object Function]"!==e.apply(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r,o=function(e,t){for(var a=[],i=t||0,n=0;i<e.length;i+=1,n+=1)a[n]=e[i];return a}(arguments,1),s=t(0,n.length-o.length),c=[],l=0;l<s;l++)c[l]="$"+l;if(r=Function("binder","return function ("+function(e,t){for(var a="",i=0;i<e.length;i+=1)a+=e[i],i+1<e.length&&(a+=t);return a}(c,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof r){var e=n.apply(this,a(o,arguments));return Object(e)===e?e:this}return n.apply(i,a(o,arguments))}),n.prototype){var u=function(){};u.prototype=n.prototype,r.prototype=new u,u.prototype=null}return r},lt}function xt(){if(dt)return pt;dt=1;var e=_t();return pt=Function.prototype.bind||e}function wt(){return ft?mt:(ft=1,mt=Function.prototype.call)}function Pt(){return vt?ht:(vt=1,ht=Function.prototype.apply)}var St,Ot,jt,Tt,Et,kt,At,Ct="undefined"!=typeof Reflect&&Reflect&&Reflect.apply,It=xt(),Rt=Pt(),zt=wt(),Mt=Ct||It.call(zt,Rt),qt=xt(),Lt=I,Jt=wt(),Ut=Mt,Bt=function(e){if(e.length<1||"function"!=typeof e[0])throw new Lt("a function is required");return Ut(qt,Jt,e)};var Dt=Je,$t=Ue,Nt=Be,Ft=De,Ht=$e,Gt=Ne,Wt=I,Qt=Fe,Kt=He,Vt=Ge,Yt=We,Zt=Qe,Xt=Ke,ea=Ve,ta=function(e){return Ye(e)||0===e?e:e<0?-1:1},aa=Function,ia=function(e){try{return aa('"use strict"; return ('+e+").constructor;")()}catch(e){}},na=Xe,ra=gt,oa=function(){throw new Wt},sa=na?function(){try{return oa}catch(e){try{return na(arguments,"callee").get}catch(e){return oa}}}():oa,ca=function(){if(nt)return it;nt=1;var e="undefined"!=typeof Symbol&&Symbol,t=at?tt:(at=1,tt=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),a=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(a))return!1;for(var i in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0});return it=function(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&t())))}}()(),la=function(){if(Tt)return jt;Tt=1;var e=yt(),t=bt(),a=function(){if(Ot)return St;Ot=1;var e,t=Bt,a=Xe;try{e=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var i=!!e&&a&&a(Object.prototype,"__proto__"),n=Object,r=n.getPrototypeOf;return St=i&&"function"==typeof i.get?t([i.get]):"function"==typeof r&&function(e){return r(null==e?e:n(e))}}();return jt=e?function(t){return e(t)}:t?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("getProto: not an object");return t(e)}:a?function(e){return a(e)}:null}(),ua=bt(),pa=yt(),da=Pt(),ma=wt(),fa={},ha="undefined"!=typeof Uint8Array&&la?la(Uint8Array):At,va={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?At:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?At:ArrayBuffer,"%ArrayIteratorPrototype%":ca&&la?la([][Symbol.iterator]()):At,"%AsyncFromSyncIteratorPrototype%":At,"%AsyncFunction%":fa,"%AsyncGenerator%":fa,"%AsyncGeneratorFunction%":fa,"%AsyncIteratorPrototype%":fa,"%Atomics%":"undefined"==typeof Atomics?At:Atomics,"%BigInt%":"undefined"==typeof BigInt?At:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?At:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?At:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?At:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$t,"%eval%":eval,"%EvalError%":Nt,"%Float16Array%":"undefined"==typeof Float16Array?At:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?At:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?At:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?At:FinalizationRegistry,"%Function%":aa,"%GeneratorFunction%":fa,"%Int8Array%":"undefined"==typeof Int8Array?At:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?At:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?At:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ca&&la?la(la([][Symbol.iterator]())):At,"%JSON%":"object"==typeof JSON?JSON:At,"%Map%":"undefined"==typeof Map?At:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&ca&&la?la((new Map)[Symbol.iterator]()):At,"%Math%":Math,"%Number%":Number,"%Object%":Dt,"%Object.getOwnPropertyDescriptor%":na,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?At:Promise,"%Proxy%":"undefined"==typeof Proxy?At:Proxy,"%RangeError%":Ft,"%ReferenceError%":Ht,"%Reflect%":"undefined"==typeof Reflect?At:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?At:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&ca&&la?la((new Set)[Symbol.iterator]()):At,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?At:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ca&&la?la(""[Symbol.iterator]()):At,"%Symbol%":ca?Symbol:At,"%SyntaxError%":Gt,"%ThrowTypeError%":sa,"%TypedArray%":ha,"%TypeError%":Wt,"%Uint8Array%":"undefined"==typeof Uint8Array?At:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?At:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?At:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?At:Uint32Array,"%URIError%":Qt,"%WeakMap%":"undefined"==typeof WeakMap?At:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?At:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?At:WeakSet,"%Function.prototype.call%":ma,"%Function.prototype.apply%":da,"%Object.defineProperty%":ra,"%Object.getPrototypeOf%":ua,"%Math.abs%":Kt,"%Math.floor%":Vt,"%Math.max%":Yt,"%Math.min%":Zt,"%Math.pow%":Xt,"%Math.round%":ea,"%Math.sign%":ta,"%Reflect.getPrototypeOf%":pa};if(la)try{null.error}catch(e){var ga=la(la(e));va["%Error.prototype%"]=ga}var ya=function e(t){var a;if("%AsyncFunction%"===t)a=ia("async function () {}");else if("%GeneratorFunction%"===t)a=ia("function* () {}");else if("%AsyncGeneratorFunction%"===t)a=ia("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(a=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var n=e("%AsyncGenerator%");n&&la&&(a=la(n.prototype))}return va[t]=a,a},ba={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_a=xt(),xa=function(){if(kt)return Et;kt=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,a=xt();return Et=a.call(e,t)}(),wa=_a.call(ma,Array.prototype.concat),Pa=_a.call(da,Array.prototype.splice),Sa=_a.call(ma,String.prototype.replace),Oa=_a.call(ma,String.prototype.slice),ja=_a.call(ma,RegExp.prototype.exec),Ta=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ea=/\\(\\)?/g,ka=function(e,t){var a,i=e;if(xa(ba,i)&&(i="%"+(a=ba[i])[0]+"%"),xa(va,i)){var n=va[i];if(n===fa&&(n=ya(i)),void 0===n&&!t)throw new Wt("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:i,value:n}}throw new Gt("intrinsic "+e+" does not exist!")},Aa=function(e,t){if("string"!=typeof e||0===e.length)throw new Wt("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new Wt('"allowMissing" argument must be a boolean');if(null===ja(/^%?[^%]*%?$/,e))throw new Gt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var a=function(e){var t=Oa(e,0,1),a=Oa(e,-1);if("%"===t&&"%"!==a)throw new Gt("invalid intrinsic syntax, expected closing `%`");if("%"===a&&"%"!==t)throw new Gt("invalid intrinsic syntax, expected opening `%`");var i=[];return Sa(e,Ta,function(e,t,a,n){i[i.length]=a?Sa(n,Ea,"$1"):t||e}),i}(e),i=a.length>0?a[0]:"",n=ka("%"+i+"%",t),r=n.name,o=n.value,s=!1,c=n.alias;c&&(i=c[0],Pa(a,wa([0,1],c)));for(var l=1,u=!0;l<a.length;l+=1){var p=a[l],d=Oa(p,0,1),m=Oa(p,-1);if(('"'===d||"'"===d||"`"===d||'"'===m||"'"===m||"`"===m)&&d!==m)throw new Gt("property names with quotes must have matching quotes");if("constructor"!==p&&u||(s=!0),xa(va,r="%"+(i+="."+p)+"%"))o=va[r];else if(null!=o){if(!(p in o)){if(!t)throw new Wt("base intrinsic for "+e+" exists, but the property is not available.");return}if(na&&l+1>=a.length){var f=na(o,p);o=(u=!!f)&&"get"in f&&!("originalValue"in f.get)?f.get:o[p]}else u=xa(o,p),o=o[p];u&&!s&&(va[r]=o)}}return o},Ca=Aa,Ia=Bt,Ra=Ia([Ca("%String.prototype.indexOf%")]),za=function(e,t){var a=Ca(e,!!t);return"function"==typeof a&&Ra(e,".prototype.")>-1?Ia([a]):a},Ma=za,qa=ge,La=I,Ja=Aa("%Map%",!0),Ua=Ma("Map.prototype.get",!0),Ba=Ma("Map.prototype.set",!0),Da=Ma("Map.prototype.has",!0),$a=Ma("Map.prototype.delete",!0),Na=Ma("Map.prototype.size",!0),Fa=!!Ja&&function(){var e,t={assert:function(e){if(!t.has(e))throw new La("Side channel does not contain "+qa(e))},delete:function(t){if(e){var a=$a(e,t);return 0===Na(e)&&(e=void 0),a}return!1},get:function(t){if(e)return Ua(e,t)},has:function(t){return!!e&&Da(e,t)},set:function(t,a){e||(e=new Ja),Ba(e,t,a)}};return t},Ha=za,Ga=ge,Wa=Fa,Qa=I,Ka=Aa("%WeakMap%",!0),Va=Ha("WeakMap.prototype.get",!0),Ya=Ha("WeakMap.prototype.set",!0),Za=Ha("WeakMap.prototype.has",!0),Xa=Ha("WeakMap.prototype.delete",!0),ei=I,ti=ge,ai=function(){var e,t={assert:function(e){if(!t.has(e))throw new qe("Side channel does not contain "+Me(e))},delete:function(t){var a=e&&e.next,i=function(e,t){if(e)return Le(e,t,!0)}(e,t);return i&&a&&a===i&&(e=void 0),!!i},get:function(t){return function(e,t){if(e){var a=Le(e,t);return a&&a.value}}(e,t)},has:function(t){return function(e,t){return!!e&&!!Le(e,t)}(e,t)},set:function(t,a){e||(e={next:void 0}),function(e,t,a){var i=Le(e,t);i?i.value=a:e.next={key:t,next:e.next,value:a}}(e,t,a)}};return t},ii=(Ka?function(){var e,t,a={assert:function(e){if(!a.has(e))throw new Qa("Side channel does not contain "+Ga(e))},delete:function(a){if(Ka&&a&&("object"==typeof a||"function"==typeof a)){if(e)return Xa(e,a)}else if(Wa&&t)return t.delete(a);return!1},get:function(a){return Ka&&a&&("object"==typeof a||"function"==typeof a)&&e?Va(e,a):t&&t.get(a)},has:function(a){return Ka&&a&&("object"==typeof a||"function"==typeof a)&&e?Za(e,a):!!t&&t.has(a)},set:function(a,i){Ka&&a&&("object"==typeof a||"function"==typeof a)?(e||(e=new Ka),Ya(e,a,i)):Wa&&(t||(t=Wa()),t.set(a,i))}};return a}:Wa)||Fa||ai,ni=String.prototype.replace,ri=/%20/g,oi="RFC3986",si={default:oi,formatters:{RFC1738:function(e){return ni.call(e,ri,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:oi},ci=si,li=Object.prototype.hasOwnProperty,ui=Array.isArray,pi=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),di=function(e,t){for(var a=t&&t.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)void 0!==e[i]&&(a[i]=e[i]);return a},mi=1024,fi={arrayToObject:di,assign:function(e,t){return Object.keys(t).reduce(function(e,a){return e[a]=t[a],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],a=[],i=0;i<t.length;++i)for(var n=t[i],r=n.obj[n.prop],o=Object.keys(r),s=0;s<o.length;++s){var c=o[s],l=r[c];"object"==typeof l&&null!==l&&-1===a.indexOf(l)&&(t.push({obj:r,prop:c}),a.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),a=t.obj[t.prop];if(ui(a)){for(var i=[],n=0;n<a.length;++n)void 0!==a[n]&&i.push(a[n]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,a){var i=e.replace(/\+/g," ");if("iso-8859-1"===a)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,a,i,n){if(0===e.length)return e;var r=e;if("symbol"==typeof e?r=Symbol.prototype.toString.call(e):"string"!=typeof e&&(r=String(e)),"iso-8859-1"===a)return escape(r).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var o="",s=0;s<r.length;s+=mi){for(var c=r.length>=mi?r.slice(s,s+mi):r,l=[],u=0;u<c.length;++u){var p=c.charCodeAt(u);45===p||46===p||95===p||126===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||n===ci.RFC1738&&(40===p||41===p)?l[l.length]=c.charAt(u):p<128?l[l.length]=pi[p]:p<2048?l[l.length]=pi[192|p>>6]+pi[128|63&p]:p<55296||p>=57344?l[l.length]=pi[224|p>>12]+pi[128|p>>6&63]+pi[128|63&p]:(u+=1,p=65536+((1023&p)<<10|1023&c.charCodeAt(u)),l[l.length]=pi[240|p>>18]+pi[128|p>>12&63]+pi[128|p>>6&63]+pi[128|63&p])}o+=l.join("")}return o},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(ui(e)){for(var a=[],i=0;i<e.length;i+=1)a.push(t(e[i]));return a}return t(e)},merge:function e(t,a,i){if(!a)return t;if("object"!=typeof a&&"function"!=typeof a){if(ui(t))t.push(a);else{if(!t||"object"!=typeof t)return[t,a];(i&&(i.plainObjects||i.allowPrototypes)||!li.call(Object.prototype,a))&&(t[a]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(a);var n=t;return ui(t)&&!ui(a)&&(n=di(t,i)),ui(t)&&ui(a)?(a.forEach(function(a,n){if(li.call(t,n)){var r=t[n];r&&"object"==typeof r&&a&&"object"==typeof a?t[n]=e(r,a,i):t.push(a)}else t[n]=a}),t):Object.keys(a).reduce(function(t,n){var r=a[n];return li.call(t,n)?t[n]=e(t[n],r,i):t[n]=r,t},n)}},hi=function(){var e,t={assert:function(e){if(!t.has(e))throw new ei("Side channel does not contain "+ti(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,a){e||(e=ii()),e.set(t,a)}};return t},vi=fi,gi=si,yi=Object.prototype.hasOwnProperty,bi={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},_i=Array.isArray,xi=Array.prototype.push,wi=function(e,t){xi.apply(e,_i(t)?t:[t])},Pi=Date.prototype.toISOString,Si=gi.default,Oi={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:vi.encode,encodeValuesOnly:!1,filter:void 0,format:Si,formatter:gi.formatters[Si],indices:!1,serializeDate:function(e){return Pi.call(e)},skipNulls:!1,strictNullHandling:!1},ji={},Ti=function e(t,a,i,n,r,o,s,c,l,u,p,d,m,f,h,v,g,y){for(var b,_=t,x=y,w=0,P=!1;void 0!==(x=x.get(ji))&&!P;){var S=x.get(t);if(w+=1,void 0!==S){if(S===w)throw new RangeError("Cyclic object value");P=!0}void 0===x.get(ji)&&(w=0)}if("function"==typeof u?_=u(a,_):_ instanceof Date?_=m(_):"comma"===i&&_i(_)&&(_=vi.maybeMap(_,function(e){return e instanceof Date?m(e):e})),null===_){if(o)return l&&!v?l(a,Oi.encoder,g,"key",f):a;_=""}if("string"==typeof(b=_)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||vi.isBuffer(_))return l?[h(v?a:l(a,Oi.encoder,g,"key",f))+"="+h(l(_,Oi.encoder,g,"value",f))]:[h(a)+"="+h(String(_))];var O,j=[];if(void 0===_)return j;if("comma"===i&&_i(_))v&&l&&(_=vi.maybeMap(_,l)),O=[{value:_.length>0?_.join(",")||null:void 0}];else if(_i(u))O=u;else{var T=Object.keys(_);O=p?T.sort(p):T}var E=c?String(a).replace(/\./g,"%2E"):String(a),k=n&&_i(_)&&1===_.length?E+"[]":E;if(r&&_i(_)&&0===_.length)return k+"[]";for(var A=0;A<O.length;++A){var C=O[A],I="object"==typeof C&&C&&void 0!==C.value?C.value:_[C];if(!s||null!==I){var R=d&&c?String(C).replace(/\./g,"%2E"):String(C),z=_i(_)?"function"==typeof i?i(k,R):k:k+(d?"."+R:"["+R+"]");y.set(t,w);var M=hi();M.set(ji,y),wi(j,e(I,z,i,n,r,o,s,c,"comma"===i&&v&&_i(_)?null:l,u,p,d,m,f,h,v,g,M))}}return j},Ei=fi,ki=Object.prototype.hasOwnProperty,Ai=Array.isArray,Ci={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Ei.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Ii=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},Ri=function(e,t,a){if(e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&a>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(1===t.arrayLimit?"":"s")+" allowed in an array.");return e},zi=function(e,t,a,i){if(e){var n=a.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,r=/(\[[^[\]]*])/g,o=a.depth>0&&/(\[[^[\]]*])/.exec(n),s=o?n.slice(0,o.index):n,c=[];if(s){if(!a.plainObjects&&ki.call(Object.prototype,s)&&!a.allowPrototypes)return;c.push(s)}for(var l=0;a.depth>0&&null!==(o=r.exec(n))&&l<a.depth;){if(l+=1,!a.plainObjects&&ki.call(Object.prototype,o[1].slice(1,-1))&&!a.allowPrototypes)return;c.push(o[1])}if(o){if(!0===a.strictDepth)throw new RangeError("Input depth exceeded depth option of "+a.depth+" and strictDepth is true");c.push("["+n.slice(o.index)+"]")}return function(e,t,a,i){var n=0;if(e.length>0&&"[]"===e[e.length-1]){var r=e.slice(0,-1).join("");n=Array.isArray(t)&&t[r]?t[r].length:0}for(var o=i?t:Ri(t,a,n),s=e.length-1;s>=0;--s){var c,l=e[s];if("[]"===l&&a.parseArrays)c=a.allowEmptyArrays&&(""===o||a.strictNullHandling&&null===o)?[]:Ei.combine([],o);else{c=a.plainObjects?{__proto__:null}:{};var u="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,p=a.decodeDotInKeys?u.replace(/%2E/g,"."):u,d=parseInt(p,10);a.parseArrays||""!==p?!isNaN(d)&&l!==p&&String(d)===p&&d>=0&&a.parseArrays&&d<=a.arrayLimit?(c=[])[d]=o:"__proto__"!==p&&(c[p]=o):c={0:o}}o=c}return o}(c,t,a,i)}},Mi=function(e,t){var a,i=e,n=function(e){if(!e)return Oi;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||Oi.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var a=gi.default;if(void 0!==e.format){if(!yi.call(gi.formatters,e.format))throw new TypeError("Unknown format option provided.");a=e.format}var i,n=gi.formatters[a],r=Oi.filter;if(("function"==typeof e.filter||_i(e.filter))&&(r=e.filter),i=e.arrayFormat in bi?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":Oi.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var o=void 0===e.allowDots?!0===e.encodeDotInKeys||Oi.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:Oi.addQueryPrefix,allowDots:o,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:Oi.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Oi.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?Oi.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:Oi.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:Oi.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:Oi.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:Oi.encodeValuesOnly,filter:r,format:a,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:Oi.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:Oi.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Oi.strictNullHandling}}(t);"function"==typeof n.filter?i=(0,n.filter)("",i):_i(n.filter)&&(a=n.filter);var r=[];if("object"!=typeof i||null===i)return"";var o=bi[n.arrayFormat],s="comma"===o&&n.commaRoundTrip;a||(a=Object.keys(i)),n.sort&&a.sort(n.sort);for(var c=hi(),l=0;l<a.length;++l){var u=a[l],p=i[u];n.skipNulls&&null===p||wi(r,Ti(p,u,o,s,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var d=r.join(n.delimiter),m=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),d.length>0?m+d:""},qi=function(e,t){var a=function(e){if(!e)return Ci;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==e.throwOnLimitExceeded&&"boolean"!=typeof e.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var t=void 0===e.charset?Ci.charset:e.charset,a=void 0===e.duplicates?Ci.duplicates:e.duplicates;if("combine"!==a&&"first"!==a&&"last"!==a)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||Ci.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:Ci.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:Ci.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:Ci.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:Ci.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Ci.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:Ci.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:Ci.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:Ci.decoder,delimiter:"string"==typeof e.delimiter||Ei.isRegExp(e.delimiter)?e.delimiter:Ci.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:Ci.depth,duplicates:a,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:Ci.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:Ci.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:Ci.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:Ci.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Ci.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof e.throwOnLimitExceeded&&e.throwOnLimitExceeded}}(t);if(""===e||null==e)return a.plainObjects?{__proto__:null}:{};for(var i="string"==typeof e?function(e,t){var a={__proto__:null},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var n=t.parameterLimit===1/0?void 0:t.parameterLimit,r=i.split(t.delimiter,t.throwOnLimitExceeded?n+1:n);if(t.throwOnLimitExceeded&&r.length>n)throw new RangeError("Parameter limit exceeded. Only "+n+" parameter"+(1===n?"":"s")+" allowed.");var o,s=-1,c=t.charset;if(t.charsetSentinel)for(o=0;o<r.length;++o)0===r[o].indexOf("utf8=")&&("utf8=%E2%9C%93"===r[o]?c="utf-8":"utf8=%26%2310003%3B"===r[o]&&(c="iso-8859-1"),s=o,o=r.length);for(o=0;o<r.length;++o)if(o!==s){var l,u,p=r[o],d=p.indexOf("]="),m=-1===d?p.indexOf("="):d+1;-1===m?(l=t.decoder(p,Ci.decoder,c,"key"),u=t.strictNullHandling?null:""):(l=t.decoder(p.slice(0,m),Ci.decoder,c,"key"),u=Ei.maybeMap(Ri(p.slice(m+1),t,Ai(a[l])?a[l].length:0),function(e){return t.decoder(e,Ci.decoder,c,"value")})),u&&t.interpretNumericEntities&&"iso-8859-1"===c&&(u=Ii(String(u))),p.indexOf("[]=")>-1&&(u=Ai(u)?[u]:u);var f=ki.call(a,l);f&&"combine"===t.duplicates?a[l]=Ei.combine(a[l],u):f&&"last"!==t.duplicates||(a[l]=u)}return a}(e,a):e,n=a.plainObjects?{__proto__:null}:{},r=Object.keys(i),o=0;o<r.length;++o){var s=r[o],c=zi(s,i[s],a,"string"==typeof e);n=Ei.merge(n,c,a)}return!0===a.allowSparse?n:Ei.compact(n)},Li={formats:si,parse:qi,stringify:Mi};const Ji=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders","streaming"];function Ui(e){return e&&"object"==typeof e&&Ji.some(t=>Object.prototype.hasOwnProperty.call(e,t))}function Bi(e,t){return Li.stringify(e,{serializeDate:e=>Math.floor(e.getTime()/1e3).toString(),arrayFormat:"v2"==t?"repeat":"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}const Di=(()=>{const e={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return t=>{const a=t.replace(/["\n\r\u2028\u2029]/g,t=>e[t]);return e=>a.replace(/\{([\s\S]+?)\}/g,(t,a)=>{const i=e[a];return["number","string","boolean"].includes(typeof i)?encodeURIComponent(i):""})}})();function $i(e){if(!Array.isArray(e)||!e[0]||"object"!=typeof e[0])return{};if(!Ui(e[0]))return e.shift();const t=Object.keys(e[0]),a=t.filter(e=>Ji.includes(e));return a.length>0&&a.length!==t.length&&Wi(`Options found in arguments (${a.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function Ni(e){const t={host:null,headers:{},settings:{},streaming:!1};if(e.length>0){const a=e[e.length-1];if("string"==typeof a)t.authenticator=Ki(e.pop());else if(Ui(a)){const a=Object.assign({},e.pop()),i=Object.keys(a).filter(e=>!Ji.includes(e));if(i.length&&Wi(`Invalid options found (${i.join(", ")}); ignoring.`),a.apiKey&&(t.authenticator=Ki(a.apiKey)),a.idempotencyKey&&(t.headers["Idempotency-Key"]=a.idempotencyKey),a.stripeAccount&&(t.headers["Stripe-Account"]=a.stripeAccount),a.stripeContext){if(t.headers["Stripe-Account"])throw new Error("Can't specify both stripeAccount and stripeContext.");t.headers["Stripe-Context"]=a.stripeContext}if(a.apiVersion&&(t.headers["Stripe-Version"]=a.apiVersion),Number.isInteger(a.maxNetworkRetries)&&(t.settings.maxNetworkRetries=a.maxNetworkRetries),Number.isInteger(a.timeout)&&(t.settings.timeout=a.timeout),a.host&&(t.host=a.host),a.authenticator){if(a.apiKey)throw new Error("Can't specify both apiKey and authenticator.");if("function"!=typeof a.authenticator)throw new Error("The authenticator must be a function receiving a request as the first parameter.");t.authenticator=a.authenticator}a.additionalHeaders&&(t.headers=a.additionalHeaders),a.streaming&&(t.streaming=!0)}}return t}function Fi(e){if("object"!=typeof e)throw new Error("Argument must be an object");return Object.keys(e).reduce((t,a)=>(null!=e[a]&&(t[a]=e[a]),t),{})}function Hi(e,t){return t?e.then(e=>{setTimeout(()=>{t(null,e)},0)},e=>{setTimeout(()=>{t(e,null)},0)}):e}function Gi(e){return"OAuth"===e?"oauth":e[0].toLowerCase()+e.substring(1)}function Wi(e){return"function"!=typeof process.emitWarning?console.warn(`Stripe: ${e}`):process.emitWarning(e,"Stripe")}function Qi(e,t,a){if(!Number.isInteger(t)){if(void 0!==a)return a;throw new Error(`${e} must be an integer`)}return t}function Ki(e){const t=t=>(t.headers.Authorization="Bearer "+e,Promise.resolve());return t._apiKey=e,t}function Vi(e,t){return this[e]instanceof Date?Math.floor(this[e].getTime()/1e3).toString():t}function Yi(e){return e&&e.startsWith("/v2")?"v2":"v1"}function Zi(e){return Array.isArray(e)?e.join(", "):String(e)}function Xi(e){return Object.entries(e).map(([e,t])=>[e,Zi(t)])}class en extends x{constructor(e){if(super(),!e){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=en.makeFetchWithAbortTimeout(e):this._fetchFn=en.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(t,a,i)=>{let n;const r=new Promise((e,t)=>{n=setTimeout(()=>{n=null,t(x.makeTimeoutError())},i)}),o=e(t,a);return Promise.race([o,r]).finally(()=>{n&&clearTimeout(n)})}}static makeFetchWithAbortTimeout(e){return async(t,a,i)=>{const n=new AbortController;let r=setTimeout(()=>{r=null,n.abort(x.makeTimeoutError())},i);try{return await e(t,Object.assign(Object.assign({},a),{signal:n.signal}))}catch(e){throw"AbortError"===e.name?x.makeTimeoutError():e}finally{r&&clearTimeout(r)}}}getClientName(){return"fetch"}async makeRequest(e,t,a,i,n,r,o,s){const c=new URL(a,`${"http"===o?"http":"https"}://${e}`);c.port=t;const l=r||("POST"==i||"PUT"==i||"PATCH"==i?"":void 0),u=await this._fetchFn(c.toString(),{method:i,headers:Xi(n),body:l},s);return new tn(u)}}class tn extends w{constructor(e){super(e.status,tn._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){const t={};for(const a of e){if(!Array.isArray(a)||2!=a.length)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");t[a[0]]=a[1]}return t}}class an extends y{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,t){throw new b("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,t){const a=new TextEncoder,i=await this.subtleCrypto.importKey("raw",a.encode(t),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=await this.subtleCrypto.sign("hmac",i,a.encode(e)),r=new Uint8Array(n),o=new Array(r.length);for(let e=0;e<r.length;e++)o[e]=nn[r[e]];return o.join("")}async computeSHA256Async(e){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",e))}}const nn=new Array(256);for(let e=0;e<nn.length;e++)nn[e]=e.toString(16).padStart(2,"0");class rn{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}secureCompare(e,t){if(e.length!==t.length)return!1;const a=e.length;let i=0;for(let n=0;n<a;++n)i|=e.charCodeAt(n)^t.charCodeAt(n);return 0===i}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(e){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new en(e)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new an(e)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}}const on=e=>{switch(e.type){case"card_error":return new ln(e);case"invalid_request_error":return new un(e);case"api_error":return new pn(e);case"authentication_error":return new dn(e);case"rate_limit_error":return new fn(e);case"idempotency_error":return new gn(e);case"invalid_grant":return new yn(e);default:return new bn(e)}},sn=e=>"temporary_session_expired"===e.type?new _n(e):"invalid_fields"===e.code?new un(e):on(e);class cn extends Error{constructor(e={},t=null){var a;super(e.message),this.type=t||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=null!==(a=e.message)&&void 0!==a?a:"",this.userMessage=e.user_message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}}cn.generate=on;class ln extends cn{constructor(e={}){super(e,"StripeCardError")}}class un extends cn{constructor(e={}){super(e,"StripeInvalidRequestError")}}class pn extends cn{constructor(e={}){super(e,"StripeAPIError")}}class dn extends cn{constructor(e={}){super(e,"StripeAuthenticationError")}}class mn extends cn{constructor(e={}){super(e,"StripePermissionError")}}class fn extends cn{constructor(e={}){super(e,"StripeRateLimitError")}}class hn extends cn{constructor(e={}){super(e,"StripeConnectionError")}}class vn extends cn{constructor(e,t,a={}){super(a,"StripeSignatureVerificationError"),this.header=e,this.payload=t}}class gn extends cn{constructor(e={}){super(e,"StripeIdempotencyError")}}class yn extends cn{constructor(e={}){super(e,"StripeInvalidGrantError")}}class bn extends cn{constructor(e={}){super(e,"StripeUnknownError")}}class _n extends cn{constructor(e={}){super(e,"TemporarySessionExpiredError")}}var xn=Object.freeze({__proto__:null,StripeAPIError:pn,StripeAuthenticationError:dn,StripeCardError:ln,StripeConnectionError:hn,StripeError:cn,StripeIdempotencyError:gn,StripeInvalidGrantError:yn,StripeInvalidRequestError:un,StripePermissionError:mn,StripeRateLimitError:fn,StripeSignatureVerificationError:vn,StripeUnknownError:bn,TemporarySessionExpiredError:_n,generateV1Error:on,generateV2Error:sn});class wn extends cn{}class Pn{constructor(e,t){this._stripe=e,this._maxBufferedRequestMetric=t}_normalizeStripeContext(e,t){return e?e.toString()||null:(null==t?void 0:t.toString())||null}_addHeadersDirectlyToObject(e,t){e.requestId=t["request-id"],e.stripeAccount=e.stripeAccount||t["stripe-account"],e.apiVersion=e.apiVersion||t["stripe-version"],e.idempotencyKey=e.idempotencyKey||t["idempotency-key"]}_makeResponseEvent(e,t,a){const i=Date.now(),n=i-e.request_start_time;return Fi({api_version:a["stripe-version"],account:a["stripe-account"],idempotency_key:a["idempotency-key"],method:e.method,path:e.path,status:t,request_id:this._getRequestId(a),elapsed:n,request_start_time:e.request_start_time,request_end_time:i})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,t,a){return i=>{const n=i.getHeaders(),r=i.toStream(()=>{const a=this._makeResponseEvent(e,i.getStatusCode(),n);this._stripe._emitter.emit("response",a),this._recordRequestMetrics(this._getRequestId(n),a.elapsed,t)});return this._addHeadersDirectlyToObject(r,n),a(null,r)}}_jsonResponseHandler(e,t,a,i){return n=>{const r=n.getHeaders(),o=this._getRequestId(r),s=n.getStatusCode(),c=this._makeResponseEvent(e,s,r);this._stripe._emitter.emit("response",c),n.toJSON().then(e=>{if(e.error){let a;throw"string"==typeof e.error&&(e.error={type:e.error,message:e.error_description}),e.error.headers=r,e.error.statusCode=s,e.error.requestId=o,a=401===s?new dn(e.error):403===s?new mn(e.error):429===s?new fn(e.error):"v2"===t?sn(e.error):on(e.error),a}return e},e=>{throw new pn({message:"Invalid JSON received from the Stripe API",exception:e,requestId:r["request-id"]})}).then(e=>{this._recordRequestMetrics(o,c.elapsed,a);const t=n.getRawResponse();this._addHeadersDirectlyToObject(t,r),Object.defineProperty(e,"lastResponse",{enumerable:!1,writable:!1,value:t}),i(null,e)},e=>i(e,null))}}static _generateConnectionErrorMessage(e){return"An error occurred with our connection to Stripe."+(e>0?` Request was retried ${e} times.`:"")}static _shouldRetry(e,t,a,i){return!(!i||0!==t||!x.CONNECTION_CLOSED_ERROR_CODES.includes(i.code))||!(t>=a)&&(!e||"false"!==e.getHeaders()["stripe-should-retry"]&&("true"===e.getHeaders()["stripe-should-retry"]||(409===e.getStatusCode()||e.getStatusCode()>=500)))}_getSleepTimeInMS(e,t=null){const a=this._stripe.getInitialNetworkRetryDelay(),i=this._stripe.getMaxNetworkRetryDelay();let n=Math.min(a*Math.pow(2,e-1),i);return n*=.5*(1+Math.random()),n=Math.max(a,n),Number.isInteger(t)&&t<=60&&(n=Math.max(n,t)),1e3*n}_getMaxNetworkRetries(e={}){return void 0!==e.maxNetworkRetries&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,t,a){const i=this._getMaxNetworkRetries(t),n=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if("v2"===a){if("POST"===e||"DELETE"===e)return n()}else if("v1"===a&&"POST"===e&&i>0)return n();return null}_makeHeaders({contentType:e,contentLength:t,apiVersion:a,clientUserAgent:i,method:n,userSuppliedHeaders:r,userSuppliedSettings:o,stripeAccount:s,stripeContext:c,apiMode:l}){const u={Accept:"application/json","Content-Type":e,"User-Agent":this._getUserAgentString(l),"X-Stripe-Client-User-Agent":i,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":a,"Stripe-Account":s,"Stripe-Context":c,"Idempotency-Key":this._defaultIdempotencyKey(n,o,l)},p="POST"==n||"PUT"==n||"PATCH"==n;return(p||t)&&(p||Wi(`${n} method had non-zero contentLength but no payload is expected for this verb`),u["Content-Length"]=t),Object.assign(Fi(u),(d=r)&&"object"==typeof d?Object.keys(d).reduce((e,t)=>(e[function(e){return e.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")}(t)]=d[t],e),{}):d);var d}_getUserAgentString(e){return`Stripe/${e} NodeBindings/${this._stripe.getConstant("PACKAGE_VERSION")} ${this._stripe._appInfo?this._stripe.getAppInfoAsString():""}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){const e=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:e})}}_recordRequestMetrics(e,t,a){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)Wi("Request metrics buffer is full, dropping telemetry message.");else{const i={request_id:e,request_duration_ms:t};a&&a.length>0&&(i.usage=a),this._stripe._prevRequestMetrics.push(i)}}_rawRequest(e,t,a,i,n){return new Promise((r,o)=>{let s;try{const r=e.toUpperCase();if("POST"!==r&&a&&0!==Object.keys(a).length)throw new Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");const o=[].slice.call([a,i]),c=$i(o),l="POST"===r?Object.assign({},c):null,u=Ni(o),p=u.headers,d=u.authenticator;s={requestMethod:r,requestPath:t,bodyData:l,queryData:{},authenticator:d,headers:p,host:u.host,streaming:!!u.streaming,settings:{},usage:n||["raw_request"]}}catch(e){return void o(e)}const{headers:c,settings:l}=s,u=s.authenticator;this._request(s.requestMethod,s.host,t,s.bodyData,u,{headers:c,settings:l,streaming:s.streaming},s.usage,function(e,t){e?o(e):r(t)})})}_request(e,t,a,i,n,r,o=[],s,c=null){var l;let u;n=null!==(l=null!=n?n:this._stripe._authenticator)&&void 0!==l?l:null;const p=Yi(a),d=(e,t,a,i,n)=>setTimeout(e,this._getSleepTimeInMS(i,n),t,a,i+1),m=(i,c,l)=>{const f=r.settings&&r.settings.timeout&&Number.isInteger(r.settings.timeout)&&r.settings.timeout>=0?r.settings.timeout:this._stripe.getApiField("timeout"),h={host:t||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:a,method:e,headers:Object.assign({},c),body:u,protocol:this._stripe.getApiField("protocol")};n(h).then(()=>{const t=this._stripe.getApiField("httpClient").makeRequest(h.host,h.port,h.path,h.method,h.headers,h.body,h.protocol,f),n=Date.now(),u=Fi({api_version:i,account:Zi(c["Stripe-Account"]),idempotency_key:Zi(c["Idempotency-Key"]),method:e,path:a,request_start_time:n}),v=l||0,g=this._getMaxNetworkRetries(r.settings||{});this._stripe._emitter.emit("request",u),t.then(e=>Pn._shouldRetry(e,v,g)?d(m,i,c,v,function(e){const t=Array.isArray(e)?e[0]:e;return Number(t)}(e.getHeaders()["retry-after"])):r.streaming&&e.getStatusCode()<400?this._streamingResponseHandler(u,o,s)(e):this._jsonResponseHandler(u,p,o,s)(e)).catch(e=>{if(Pn._shouldRetry(null,v,g,e))return d(m,i,c,v,null);{const t=e.code&&e.code===x.TIMEOUT_ERROR_CODE;return s(new hn({message:t?`Request aborted due to timeout being reached (${f}ms)`:Pn._generateConnectionErrorMessage(v),detail:e}))}})}).catch(e=>{throw new cn({message:"Unable to authenticate the request",exception:e})})},f=(t,a)=>{if(t)return s(t);u=a,this._stripe.getClientUserAgent(t=>{var a,i,n;const o=this._stripe.getApiField("version"),s=this._makeHeaders({contentType:"v2"==p?"application/json":"application/x-www-form-urlencoded",contentLength:(new TextEncoder).encode(u).length,apiVersion:o,clientUserAgent:t,method:e,userSuppliedHeaders:null!==(a=r.headers)&&void 0!==a?a:null,userSuppliedSettings:null!==(i=r.settings)&&void 0!==i?i:{},stripeAccount:null!==(n=r.stripeAccount)&&void 0!==n?n:this._stripe.getApiField("stripeAccount"),stripeContext:this._normalizeStripeContext(r.stripeContext,this._stripe.getApiField("stripeContext")),apiMode:p});m(o,s,0)})};if(c)c(e,i,r.headers,f);else{let e;e="v2"==p?i?function(e){return JSON.stringify(e,Vi)}(i):"":Bi(i||{},p),f(null,e)}}}class Sn{constructor(e,t,a,i){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=t,this.spec=a,this.stripeResource=i}async iterate(e){if(!e||!e.data||"number"!=typeof e.data.length)throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");const t=An(this.requestArgs);if(this.index<e.data.length){const a=t?e.data.length-1-this.index:this.index,i=e.data[a];return this.index+=1,{value:i,done:!1}}if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);const t=await this.pagePromise;return this.iterate(t)}return{done:!0,value:void 0}}getNextPage(e){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;const e=(async()=>{const e=await this._next();return this.promiseCache.currentPromise=null,e})();return this.promiseCache.currentPromise=e,e}}class On extends Sn{getNextPage(e){const t=An(this.requestArgs),a=function(e,t){const a=t?0:e.data.length-1,i=e.data[a],n=i&&i.id;if(!n)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return n}(e,t);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[t?"ending_before":"starting_after"]:a})}}class jn extends Sn{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}}class Tn{constructor(e,t,a,i){this.currentPageIterator=(async()=>(await e).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await e).next_page_url||null)(),this.requestArgs=t,this.spec=a,this.stripeResource=i}async turnPage(){const e=await this.nextPageUrl;if(!e)return null;this.spec.fullPath=e;const t=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(t.next_page_url),this.currentPageIterator=Promise.resolve(t.data[Symbol.iterator]()),this.currentPageIterator}async next(){{const e=(await this.currentPageIterator).next();if(!e.done)return{done:!1,value:e.value}}const e=await this.turnPage();if(!e)return{done:!0,value:void 0};const t=e.next();return t.done?{done:!0,value:void 0}:{done:!1,value:t.value}}}const En=e=>{const t=(a=(...t)=>e.next(...t),function(){const e=[].slice.call(arguments),t=function(e){if(0===e.length)return;const t=e[0];if("function"!=typeof t)throw Error("The first argument to autoPagingEach, if present, must be a callback function; received "+typeof t);if(2===t.length)return t;if(t.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${t}`);return function(e,a){a(t(e))}}(e),i=function(e){if(e.length<2)return null;const t=e[1];if("function"!=typeof t)throw Error("The second argument to autoPagingEach, if present, must be a callback function; received "+typeof t);return t}(e);if(e.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${e}`);const n=function(e,t){return new Promise((a,i)=>{function n(i){if(i.done)return void a();const r=i.value;return new Promise(e=>{t(r,e)}).then(t=>!1===t?n({done:!0,value:void 0}):e().then(n))}e().then(n).catch(i)})}(a,t);return Hi(n,i)});var a;const i=function(e){return function(t,a){const i=t&&t.limit;if(!i)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(i>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");return Hi(new Promise((t,a)=>{const n=[];e(e=>{if(n.push(e),n.length>=i)return!1}).then(()=>{t(n)}).catch(a)}),a)}}(t),n={autoPagingEach:t,autoPagingToArray:i,next:()=>e.next(),return:()=>({}),[kn()]:()=>n};return n};function kn(){return"undefined"!=typeof Symbol&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function An(e){return!!$i([].slice.call(e)).ending_before}function Cn(e,t){if(this._stripe=e,t)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=Di(this.basePath||e.getApiField("basePath")),this.resourcePath=this.path,this.path=Di(this.path),this.initialize(...arguments)}Cn.extend=function(e){const t=this,a=Object.prototype.hasOwnProperty.call(e,"constructor")?e.constructor:function(...e){t.apply(this,e)};return Object.assign(a,t),a.prototype=Object.create(t.prototype),Object.assign(a.prototype,e),a},Cn.method=function(e){if(void 0!==e.path&&void 0!==e.fullPath)throw new Error(`Method spec specified both a 'path' (${e.path}) and a 'fullPath' (${e.fullPath}).`);return function(...t){const a="function"==typeof t[t.length-1]&&t.pop();e.urlParams=function(e){const t=e.match(/\{\w+\}/g);return t?t.map(e=>e.replace(/[{}]/g,"")):[]}(e.fullPath||this.createResourcePathWithSymbols(e.path||""));const i=Hi(this._makeRequest(t,e,{}),a);return Object.assign(i,((e,t,a,i)=>{const n=Yi(a.fullPath||a.path);return"v2"!==n&&"search"===a.methodType?En(new jn(i,t,a,e)):"v2"!==n&&"list"===a.methodType?En(new On(i,t,a,e)):"v2"===n&&"list"===a.methodType?En(new Tn(i,t,a,e)):null})(this,t,e,i)),i}},Cn.MAX_BUFFERED_REQUEST_METRICS=100,Cn.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(e,t){const a=[this.basePath(t),this.path(t)];if("function"==typeof e){const i=e(t);i&&a.push(i)}else a.push(e);return this._joinUrlParts(a)},createResourcePathWithSymbols(e){return e?`/${this._joinUrlParts([this.resourcePath,e])}`:`/${this.resourcePath}`},_joinUrlParts:e=>e.join("/").replace(/\/{2,}/g,"/"),_getRequestOpts(e,t,a){var i;const n=(t.method||"GET").toUpperCase(),r=t.usage||[],o=t.urlParams||[],s=t.encode||(e=>e),c=!!t.fullPath,l=Di(c?t.fullPath:t.path||""),u=c?t.fullPath:this.createResourcePathWithSymbols(t.path),p=[].slice.call(e),d=o.reduce((e,t)=>{const a=p.shift();if("string"!=typeof a)throw new Error(`Stripe: Argument "${t}" must be a string, but got: ${a} (on API request to \`${n} ${u}\`)`);return e[t]=a,e},{}),m=$i(p),f=s(Object.assign({},m,a)),h=Ni(p),v=h.host||t.host,g=!!t.streaming||!!h.streaming;if(p.filter(e=>null!=e).length)throw new Error(`Stripe: Unknown arguments (${p}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${n} \`${u}\`)`);const y=c?l(d):this.createFullPath(l,d),b=Object.assign(h.headers,t.headers);t.validator&&t.validator(f,{headers:b});const _="GET"===t.method||"DELETE"===t.method;return{requestMethod:n,requestPath:y,bodyData:_?null:f,queryData:_?f:{},authenticator:null!==(i=h.authenticator)&&void 0!==i?i:null,headers:b,host:null!=v?v:null,streaming:g,settings:h.settings,usage:r}},_makeRequest(e,t,a){return new Promise((i,n)=>{var r;let o;try{o=this._getRequestOpts(e,t,a)}catch(e){return void n(e)}const s=0===Object.keys(o.queryData).length,c=[o.requestPath,s?"":"?",Bi(o.queryData,Yi(o.requestPath))].join(""),{headers:l,settings:u}=o;this._stripe._requestSender._request(o.requestMethod,o.host,c,o.bodyData,o.authenticator,{headers:l,settings:u,streaming:o.streaming},o.usage,function(e,a){e?n(e):i(t.transformResponseData?t.transformResponseData(a):a)},null===(r=this.requestDataProcessor)||void 0===r?void 0:r.bind(this))})}};class In{constructor(e=[]){this._segments=[...e]}get segments(){return[...this._segments]}push(e){if(!e)throw new Error("Segment cannot be null or undefined");return new In([...this._segments,e])}pop(){if(0===this._segments.length)throw new Error("Cannot pop from an empty context");return new In(this._segments.slice(0,-1))}toString(){return this._segments.join("/")}static parse(e){return new In(e?e.split("/"):[])}}function Rn(e){const t={DEFAULT_TOLERANCE:300,signature:null,constructEvent(e,a,i,n,r,o){try{if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(e,a,i,n||t.DEFAULT_TOLERANCE,r,o)}catch(e){throw e instanceof b&&(e.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),e}return e instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(e)):JSON.parse(e)},async constructEventAsync(e,a,i,n,r,o){if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");await this.signature.verifyHeaderAsync(e,a,i,n||t.DEFAULT_TOLERANCE,r,o);return e instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(e)):JSON.parse(e)},generateTestHeaderString:function(e){const t=c(e),a=t.signature||t.cryptoProvider.computeHMACSignature(t.payloadString,t.secret);return t.generateHeaderString(a)},generateTestHeaderStringAsync:async function(e){const t=c(e),a=t.signature||await t.cryptoProvider.computeHMACSignatureAsync(t.payloadString,t.secret);return t.generateHeaderString(a)}},a={EXPECTED_SCHEME:"v1",verifyHeader(e,t,a,o,c,l){const{decodedHeader:u,decodedPayload:p,details:d,suspectPayloadType:m}=n(e,t,this.EXPECTED_SCHEME),f=/\s/.test(a);return r(p,u,d,(c=c||s()).computeHMACSignature(i(p,d),a),o,m,f,l),!0},async verifyHeaderAsync(e,t,a,o,c,l){const{decodedHeader:u,decodedPayload:p,details:d,suspectPayloadType:m}=n(e,t,this.EXPECTED_SCHEME),f=/\s/.test(a);c=c||s();return r(p,u,d,await c.computeHMACSignatureAsync(i(p,d),a),o,m,f,l)}};function i(e,t){return`${t.timestamp}.${e}`}function n(e,t,a){if(!e)throw new vn(t,e,{message:"No webhook payload was provided."});const i="string"!=typeof e&&!(e instanceof Uint8Array),n=new TextDecoder("utf8"),r=e instanceof Uint8Array?n.decode(e):e;if(Array.isArray(t))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(null==t||""==t)throw new vn(t,e,{message:"No stripe-signature header value was provided."});const o=t instanceof Uint8Array?n.decode(t):t,s=function(e,t){if("string"!=typeof e)return null;return e.split(",").reduce((e,a)=>{const i=a.split("=");return"t"===i[0]&&(e.timestamp=parseInt(i[1],10)),i[0]===t&&e.signatures.push(i[1]),e},{timestamp:-1,signatures:[]})}(o,a);if(!s||-1===s.timestamp)throw new vn(o,r,{message:"Unable to extract timestamp and signatures from header"});if(!s.signatures.length)throw new vn(o,r,{message:"No signatures found with expected scheme"});return{decodedPayload:r,decodedHeader:o,details:s,suspectPayloadType:i}}function r(t,a,i,n,r,o,s,c){const l="\nLearn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature",u=s?"\n\nNote: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value":"";if(!!!i.signatures.filter(e.secureCompare.bind(e,n)).length){if(o)throw new vn(a,t,{message:"Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. \nSignature verification is impossible without access to the original signed material. \n"+l+"\n"+u});throw new vn(a,t,{message:"No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? \n If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.\n"+l+"\n"+u})}const p=Math.floor(("number"==typeof c?c:Date.now())/1e3)-i.timestamp;if(r>0&&p>r)throw new vn(a,t,{message:"Timestamp outside the tolerance zone"});return!0}let o=null;function s(){return o||(o=e.createDefaultCryptoProvider()),o}function c(e){if(!e)throw new cn({message:"Options are required"});const t=Math.floor(e.timestamp)||Math.floor(Date.now()/1e3),i=e.scheme||a.EXPECTED_SCHEME,n=e.cryptoProvider||s(),r=`${t}.${e.payload}`;return Object.assign(Object.assign({},e),{timestamp:t,scheme:i,cryptoProvider:n,payloadString:r,generateHeaderString:e=>`t=${t},${i}=${e}`})}return t.signature=a,t}const zn="2025-10-29.clover";function Mn(e,t){for(const a in t){if(!Object.prototype.hasOwnProperty.call(t,a))continue;const i=a[0].toLowerCase()+a.substring(1),n=new t[a](e);this[i]=n}}function qn(e,t){return function(e){return new Mn(e,t)}}const Ln=Cn.method,Jn=Cn.extend({retrieve:Ln({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:Ln({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:Ln({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:Ln({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:Ln({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:Ln({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:Ln({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})}),Un=Cn.method,Bn=Cn.extend({retrieve:Un({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:Un({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})}),Dn=Cn.method,$n=Cn.extend({create:Dn({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:Dn({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:Dn({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:Dn({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:Dn({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:Dn({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})}),Nn=Cn.method,Fn=Cn.extend({retrieve:Nn({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:Nn({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:Nn({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:Nn({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:Nn({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),Hn=Cn.method,Gn=Cn.extend({create:Hn({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:Hn({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:Hn({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:Hn({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:Hn({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:Hn({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:Hn({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})}),Wn=Cn.method,Qn=Cn.extend({create:Wn({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:Wn({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:Wn({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})}),Kn=Cn.method,Vn=Cn.extend({create:Kn({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:Kn({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:Kn({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:Kn({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),Yn=Cn.method,Zn=Cn.extend({create:Yn({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:Yn({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:Yn({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:Yn({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),Xn=Cn.method,er=Cn.extend({deliverCard:Xn({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:Xn({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:Xn({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:Xn({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:Xn({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})}),tr=Cn.method,ar=Cn.extend({create:tr({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:tr({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:tr({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:tr({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),ir=Cn.method,nr=Cn.extend({create:ir({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:ir({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:ir({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:ir({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:ir({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),rr=Cn.method,or=Cn.extend({create:rr({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})}),sr=Cn.method,cr=Cn.extend({create:sr({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),lr=Cn.method,ur=Cn.extend({retrieve:lr({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})}),pr=Cn.method,dr=Cn.extend({retrieve:pr({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:pr({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})}),mr=Cn.method,fr=Cn.extend({create:mr({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:mr({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:mr({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:mr({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:mr({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:mr({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})}),hr=Cn.method,vr=Cn.extend({create:hr({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:hr({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:hr({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),gr=Cn.method,yr=Cn.extend({fundCashBalance:gr({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),br=Cn.method,_r=Cn.extend({create:br({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:br({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:br({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),xr=Cn.method,wr=Cn.extend({create:xr({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:xr({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:xr({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:xr({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:xr({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),Pr=Cn.method,Sr=Cn.extend({retrieve:Pr({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:Pr({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),Or=Cn.method,jr=Cn.extend({create:Or({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:Or({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:Or({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:Or({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:Or({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:Or({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:Or({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:Or({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})}),Tr=Cn.method,Er=Cn.extend({retrieve(...e){return Tr({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:e=>this.addFetchRelatedObjectIfNeeded(e)}).apply(this,e)},list(...e){return Tr({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:e=>Object.assign(Object.assign({},e),{data:e.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,e)},addFetchRelatedObjectIfNeeded(e){return e.related_object&&e.related_object.url?Object.assign(Object.assign({},e),{fetchRelatedObject:()=>Tr({method:"GET",fullPath:e.related_object.url}).apply(this,[{stripeContext:e.context}])}):e}}),kr=Cn.method,Ar=Cn.extend({create:kr({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:kr({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:kr({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:kr({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})}),Cr=Cn.method,Ir=Cn.extend({create:Cr({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:Cr({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:Cr({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:Cr({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:Cr({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:Cr({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:Cr({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),Rr=Cn.method,zr=Cn.extend({fail:Rr({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:Rr({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:Rr({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),Mr=Cn.method,qr=Cn.extend({create:Mr({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:Mr({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:Mr({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:Mr({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),Lr=Cn.method,Jr=Cn.extend({create:Lr({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:Lr({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:Lr({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:Lr({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:Lr({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),Ur=Cn.method,Br=Cn.extend({create:Ur({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})}),Dr=Cn.method,$r=Cn.extend({create:Dr({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})}),Nr=Cn.method,Fr=Cn.extend({create:Nr({method:"POST",fullPath:"/v2/billing/meter_event_session"})}),Hr=Cn.method,Gr=Cn.extend({create:Hr({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})}),Wr=Cn.method,Qr=Cn.extend({create:Wr({method:"POST",fullPath:"/v1/billing/meter_events"})}),Kr=Cn.method,Vr=Cn.extend({create:Kr({method:"POST",fullPath:"/v2/billing/meter_events"})}),Yr=Cn.method,Zr=Cn.extend({create:Yr({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:Yr({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:Yr({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:Yr({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:Yr({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:Yr({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:Yr({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})}),Xr=Cn.method,eo=Cn.extend({create:Xr({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:Xr({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:Xr({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:Xr({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:Xr({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})}),to=Cn.method,ao=Cn.extend({update:to({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:to({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:to({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:to({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),io=Cn.method,no=Cn.extend({create:io({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:io({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:io({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:io({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),ro=Cn.method,oo=Cn.extend({update:ro({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:ro({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:ro({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:ro({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),so=Cn.method,co=Cn.extend({create:so({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:so({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:so({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:so({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),lo=Cn.method,uo=Cn.extend({create:lo({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:lo({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:lo({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:lo({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})}),po=Cn.method,mo=Cn.extend({activate:po({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:po({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:po({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})}),fo=Cn.method,ho=Cn.extend({retrieve:fo({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:fo({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})}),vo=Cn.method,go=Cn.extend({retrieve:vo({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:vo({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})}),yo=Cn.method,bo=Cn.extend({create:yo({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:yo({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:yo({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:yo({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:yo({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:yo({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),collectInputs:yo({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_inputs"}),collectPaymentMethod:yo({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_payment_method"}),confirmPaymentIntent:yo({method:"POST",fullPath:"/v1/terminal/readers/{reader}/confirm_payment_intent"}),processPaymentIntent:yo({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:yo({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:yo({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:yo({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),_o=Cn.method,xo=Cn.extend({presentPaymentMethod:_o({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"}),succeedInputCollection:_o({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection"}),timeoutInputCollection:_o({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection"})}),wo=Cn.method,Po=Cn.extend({create:wo({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),So=Cn.method,Oo=Cn.extend({retrieve:So({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:So({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),jo=Cn.method,To=Cn.extend({create:jo({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),Eo=Cn.method,ko=Cn.extend({retrieve:Eo({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:Eo({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),Ao=Cn.method,Co=Cn.extend({expire:Ao({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),Io=Cn.method,Ro=Cn.extend({create:Io({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:Io({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:Io({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:Io({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})}),zo=Cn.method,Mo=Cn.extend({create:zo({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:zo({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:zo({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),qo=Cn.method,Lo=Cn.extend({retrieve:qo({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:qo({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),Jo=Cn.method,Uo=Cn.extend({create:Jo({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:Jo({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:Jo({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})}),Bo=Cn.method,Do=Cn.extend({retrieve:Bo({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:Bo({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),$o=Cn.method,No=Cn.extend({create:$o({method:"POST",fullPath:"/v1/apps/secrets"}),list:$o({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:$o({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:$o({method:"GET",fullPath:"/v1/apps/secrets/find"})}),Fo=Cn.method,Ho=Cn.extend({create:Fo({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),Go=Cn.method,Wo=Cn.extend({create:Go({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:Go({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:Go({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:Go({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:Go({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:Go({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),Qo=Cn.method,Ko=Cn.extend({create:Qo({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:Qo({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),Vo=Cn.method,Yo=Cn.extend({retrieve:Vo({method:"GET",fullPath:"/v1/tax/settings"}),update:Vo({method:"POST",fullPath:"/v1/tax/settings"})}),Zo=Cn.method,Xo=Cn.extend({retrieve:Zo({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:Zo({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})}),es=Cn.method,ts=Cn.extend({create:es({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:es({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:es({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:es({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:es({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),as=Cn.method,is=Cn.extend({retrieve:as({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:as({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:as({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})}),ns=Cn.method,rs=Cn.extend({retrieve:ns({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:ns({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),os=Cn.method,ss=Cn.extend({retrieve:os({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:os({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})}),cs=Cn.method,ls=Cn.extend({retrieve:cs({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:cs({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:cs({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),us=Cn.method,ps=Cn.extend({retrieve:us({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:us({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:us({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:us({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})}),ds=Cn.method,ms=Cn.extend({createForceCapture:ds({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:ds({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:ds({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})}),fs=Cn.method,hs=Cn.extend({retrieve:fs({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:fs({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),vs=Cn.method,gs=Cn.extend({create:vs({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:vs({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:vs({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:vs({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),ys=Cn.method,bs=Cn.extend({create:ys({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:ys({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:ys({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:ys({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:ys({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),_s=Cn.method,xs=Cn.extend({retrieve:_s({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:_s({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),ws=Cn.method,Ps=Cn.extend({create:ws({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:ws({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:ws({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:ws({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:ws({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:ws({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),Ss=Cn.method,Os=Cn.extend({create:Ss({method:"POST",fullPath:"/v1/accounts"}),retrieve(e,...t){return"string"==typeof e?Ss({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[e,...t]):(null==e&&[].shift.apply([e,...t]),Ss({method:"GET",fullPath:"/v1/account"}).apply(this,[e,...t]))},update:Ss({method:"POST",fullPath:"/v1/accounts/{account}"}),list:Ss({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:Ss({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:Ss({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:Ss({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:Ss({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:Ss({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:Ss({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:Ss({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:Ss({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:Ss({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:Ss({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:Ss({method:"GET",fullPath:"/v1/account"}),retrieveCapability:Ss({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:Ss({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:Ss({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:Ss({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:Ss({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:Ss({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})}),js=Cn.method,Ts=Cn.extend({create:js({method:"POST",fullPath:"/v1/account_links"})}),Es=Cn.method,ks=Cn.extend({create:Es({method:"POST",fullPath:"/v1/account_sessions"})}),As=Cn.method,Cs=Cn.extend({create:As({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:As({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:As({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:As({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})}),Is=Cn.method,Rs=Cn.extend({retrieve:Is({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:Is({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:Is({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:Is({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:Is({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:Is({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})}),zs=Cn.method,Ms=Cn.extend({retrieve:zs({method:"GET",fullPath:"/v1/balance"})}),qs=Cn.method,Ls=Cn.extend({retrieve:qs({method:"GET",fullPath:"/v1/balance_settings"}),update:qs({method:"POST",fullPath:"/v1/balance_settings"})}),Js=Cn.method,Us=Cn.extend({retrieve:Js({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:Js({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})}),Bs=Cn.method,Ds=Cn.extend({create:Bs({method:"POST",fullPath:"/v1/charges"}),retrieve:Bs({method:"GET",fullPath:"/v1/charges/{charge}"}),update:Bs({method:"POST",fullPath:"/v1/charges/{charge}"}),list:Bs({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:Bs({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:Bs({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})}),$s=Cn.method,Ns=Cn.extend({retrieve:$s({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})}),Fs=Cn.method,Hs=Cn.extend({retrieve:Fs({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:Fs({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})}),Gs=Cn.method,Ws=Cn.extend({create:Gs({method:"POST",fullPath:"/v1/coupons"}),retrieve:Gs({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:Gs({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:Gs({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:Gs({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})}),Qs=Cn.method,Ks=Cn.extend({create:Qs({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:Qs({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:Qs({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:Qs({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:Qs({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:Qs({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:Qs({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:Qs({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})}),Vs=Cn.method,Ys=Cn.extend({create:Vs({method:"POST",fullPath:"/v1/customer_sessions"})}),Zs=Cn.method,Xs=Cn.extend({create:Zs({method:"POST",fullPath:"/v1/customers"}),retrieve:Zs({method:"GET",fullPath:"/v1/customers/{customer}"}),update:Zs({method:"POST",fullPath:"/v1/customers/{customer}"}),list:Zs({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:Zs({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:Zs({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:Zs({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:Zs({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:Zs({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:Zs({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:Zs({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:Zs({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:Zs({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:Zs({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:Zs({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:Zs({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:Zs({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:Zs({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:Zs({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:Zs({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:Zs({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:Zs({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:Zs({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:Zs({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:Zs({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:Zs({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:Zs({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:Zs({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})}),ec=Cn.method,tc=Cn.extend({retrieve:ec({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:ec({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:ec({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:ec({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})}),ac=Cn.method,ic=Cn.extend({create:ac({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(e,t)=>{if(!t.headers||!t.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:ac({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})}),nc=Cn.method,rc=Cn.extend({retrieve:nc({method:"GET",fullPath:"/v1/events/{id}"}),list:nc({method:"GET",fullPath:"/v1/events",methodType:"list"})}),oc=Cn.method,sc=Cn.extend({retrieve:oc({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:oc({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})}),cc=Cn.method,lc=Cn.extend({create:cc({method:"POST",fullPath:"/v1/file_links"}),retrieve:cc({method:"GET",fullPath:"/v1/file_links/{link}"}),update:cc({method:"POST",fullPath:"/v1/file_links/{link}"}),list:cc({method:"GET",fullPath:"/v1/file_links",methodType:"list"})}),uc=(e,t,a)=>{const i=(Math.round(1e16*Math.random())+Math.round(1e16*Math.random())).toString();a["Content-Type"]=`multipart/form-data; boundary=${i}`;const n=new TextEncoder;let r=new Uint8Array(0);const o=n.encode("\r\n");function s(e){const t=r,a=e instanceof Uint8Array?e:new Uint8Array(n.encode(e));r=new Uint8Array(t.length+a.length+2),r.set(t),r.set(a,t.length),r.set(o,r.length-2)}function c(e){return`"${e.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}const l=function(e){const t={},a=(e,i)=>{Object.entries(e).forEach(([e,n])=>{const r=i?`${i}[${e}]`:e;if(function(e){const t=typeof e;return("function"===t||"object"===t)&&!!e}(n)){if(!(n instanceof Uint8Array||Object.prototype.hasOwnProperty.call(n,"data")))return a(n,r);t[r]=n}else t[r]=String(n)})};return a(e,null),t}(t);for(const e in l){if(!Object.prototype.hasOwnProperty.call(l,e))continue;const t=l[e];if(s(`--${i}`),Object.prototype.hasOwnProperty.call(t,"data")){const a=t;s(`Content-Disposition: form-data; name=${c(e)}; filename=${c(a.name||"blob")}`),s(`Content-Type: ${a.type||"application/octet-stream"}`),s(""),s(a.data)}else s(`Content-Disposition: form-data; name=${c(e)}`),s(""),s(t)}return s(`--${i}--`),r};const pc=Cn.method,dc=Cn.extend({create:pc({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:pc({method:"GET",fullPath:"/v1/files/{file}"}),list:pc({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:function(e,t,a,i){if(t=t||{},"POST"!==e)return i(null,Bi(t));this._stripe._platformFunctions.tryBufferData(t).then(e=>{const t=uc(0,e,a);return i(null,t)}).catch(e=>i(e,null))}}),mc=Cn.method,fc=Cn.extend({create:mc({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:mc({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:mc({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:mc({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:mc({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})}),hc=Cn.method,vc=Cn.extend({retrieve:hc({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:hc({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})}),gc=Cn.method,yc=Cn.extend({retrieve:gc({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:gc({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:gc({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:gc({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})}),bc=Cn.method,_c=Cn.extend({create:bc({method:"POST",fullPath:"/v1/invoices"}),retrieve:bc({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:bc({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:bc({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:bc({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:bc({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),attachPayment:bc({method:"POST",fullPath:"/v1/invoices/{invoice}/attach_payment"}),createPreview:bc({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:bc({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:bc({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:bc({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:bc({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:bc({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:bc({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:bc({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:bc({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:bc({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:bc({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})}),xc=Cn.method,wc=Cn.extend({retrieve:xc({method:"GET",fullPath:"/v1/mandates/{mandate}"})}),Pc=Cn.method,Sc="connect.stripe.com",Oc=Cn.extend({basePath:"/",authorizeUrl(e,t){e=e||{};let a="oauth/authorize";return(t=t||{}).express&&(a=`express/${a}`),e.response_type||(e.response_type="code"),e.client_id||(e.client_id=this._stripe.getClientId()),e.scope||(e.scope="read_write"),`https://${Sc}/${a}?${Bi(e)}`},token:Pc({method:"POST",path:"oauth/token",host:Sc}),deauthorize(e,...t){return e.client_id||(e.client_id=this._stripe.getClientId()),Pc({method:"POST",path:"oauth/deauthorize",host:Sc}).apply(this,[e,...t])}}),jc=Cn.method,Tc=Cn.extend({retrieve:jc({method:"GET",fullPath:"/v1/payment_attempt_records/{id}"}),list:jc({method:"GET",fullPath:"/v1/payment_attempt_records",methodType:"list"})}),Ec=Cn.method,kc=Cn.extend({create:Ec({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:Ec({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:Ec({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:Ec({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:Ec({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:Ec({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:Ec({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:Ec({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:Ec({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),listAmountDetailsLineItems:Ec({method:"GET",fullPath:"/v1/payment_intents/{intent}/amount_details_line_items",methodType:"list"}),search:Ec({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:Ec({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})}),Ac=Cn.method,Cc=Cn.extend({create:Ac({method:"POST",fullPath:"/v1/payment_links"}),retrieve:Ac({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:Ac({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:Ac({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:Ac({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})}),Ic=Cn.method,Rc=Cn.extend({create:Ic({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:Ic({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:Ic({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:Ic({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})}),zc=Cn.method,Mc=Cn.extend({create:zc({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:zc({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:zc({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:zc({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:zc({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})}),qc=Cn.method,Lc=Cn.extend({create:qc({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:qc({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:qc({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:qc({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:qc({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:qc({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})}),Jc=Cn.method,Uc=Cn.extend({retrieve:Jc({method:"GET",fullPath:"/v1/payment_records/{id}"}),reportPayment:Jc({method:"POST",fullPath:"/v1/payment_records/report_payment"}),reportPaymentAttempt:Jc({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt"}),reportPaymentAttemptCanceled:Jc({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_canceled"}),reportPaymentAttemptFailed:Jc({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_failed"}),reportPaymentAttemptGuaranteed:Jc({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_guaranteed"}),reportPaymentAttemptInformational:Jc({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_informational"}),reportRefund:Jc({method:"POST",fullPath:"/v1/payment_records/{id}/report_refund"})}),Bc=Cn.method,Dc=Cn.extend({create:Bc({method:"POST",fullPath:"/v1/payouts"}),retrieve:Bc({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:Bc({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:Bc({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:Bc({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:Bc({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})}),$c=Cn.method,Nc=Cn.extend({create:$c({method:"POST",fullPath:"/v1/plans"}),retrieve:$c({method:"GET",fullPath:"/v1/plans/{plan}"}),update:$c({method:"POST",fullPath:"/v1/plans/{plan}"}),list:$c({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:$c({method:"DELETE",fullPath:"/v1/plans/{plan}"})}),Fc=Cn.method,Hc=Cn.extend({create:Fc({method:"POST",fullPath:"/v1/prices"}),retrieve:Fc({method:"GET",fullPath:"/v1/prices/{price}"}),update:Fc({method:"POST",fullPath:"/v1/prices/{price}"}),list:Fc({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:Fc({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})}),Gc=Cn.method,Wc=Cn.extend({create:Gc({method:"POST",fullPath:"/v1/products"}),retrieve:Gc({method:"GET",fullPath:"/v1/products/{id}"}),update:Gc({method:"POST",fullPath:"/v1/products/{id}"}),list:Gc({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:Gc({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:Gc({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:Gc({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:Gc({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:Gc({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:Gc({method:"GET",fullPath:"/v1/products/search",methodType:"search"})}),Qc=Cn.method,Kc=Cn.extend({create:Qc({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:Qc({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:Qc({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:Qc({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})}),Vc=Cn.method,Yc=Cn.extend({create:Vc({method:"POST",fullPath:"/v1/quotes"}),retrieve:Vc({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:Vc({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:Vc({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:Vc({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:Vc({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:Vc({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:Vc({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:Vc({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:Vc({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})}),Zc=Cn.method,Xc=Cn.extend({create:Zc({method:"POST",fullPath:"/v1/refunds"}),retrieve:Zc({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:Zc({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:Zc({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:Zc({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})}),el=Cn.method,tl=Cn.extend({retrieve:el({method:"GET",fullPath:"/v1/reviews/{review}"}),list:el({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:el({method:"POST",fullPath:"/v1/reviews/{review}/approve"})}),al=Cn.method,il=Cn.extend({list:al({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})}),nl=Cn.method,rl=Cn.extend({create:nl({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:nl({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:nl({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:nl({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:nl({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:nl({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:nl({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})}),ol=Cn.method,sl=Cn.extend({create:ol({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:ol({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:ol({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:ol({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})}),cl=Cn.method,ll=Cn.extend({create:cl({method:"POST",fullPath:"/v1/sources"}),retrieve:cl({method:"GET",fullPath:"/v1/sources/{source}"}),update:cl({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:cl({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:cl({method:"POST",fullPath:"/v1/sources/{source}/verify"})}),ul=Cn.method,pl=Cn.extend({create:ul({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:ul({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:ul({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:ul({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:ul({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})}),dl=Cn.method,ml=Cn.extend({create:dl({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:dl({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:dl({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:dl({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:dl({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:dl({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})}),fl=Cn.method,hl=Cn.extend({create:fl({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:fl({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:fl({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:fl({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:fl({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:fl({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),migrate:fl({method:"POST",fullPath:"/v1/subscriptions/{subscription}/migrate"}),resume:fl({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:fl({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})}),vl=Cn.method,gl=Cn.extend({retrieve:vl({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:vl({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})}),yl=Cn.method,bl=Cn.extend({create:yl({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:yl({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:yl({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:yl({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})}),_l=Cn.method,xl=Cn.extend({create:_l({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:_l({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:_l({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:_l({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})}),wl=Cn.method,Pl=Cn.extend({create:wl({method:"POST",fullPath:"/v1/tokens"}),retrieve:wl({method:"GET",fullPath:"/v1/tokens/{token}"})}),Sl=Cn.method,Ol=Cn.extend({create:Sl({method:"POST",fullPath:"/v1/topups"}),retrieve:Sl({method:"GET",fullPath:"/v1/topups/{topup}"}),update:Sl({method:"POST",fullPath:"/v1/topups/{topup}"}),list:Sl({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:Sl({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})}),jl=Cn.method,Tl=Cn.extend({create:jl({method:"POST",fullPath:"/v1/transfers"}),retrieve:jl({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:jl({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:jl({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:jl({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:jl({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:jl({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:jl({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})}),El=Cn.method,kl=Cn.extend({create:El({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:El({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:El({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:El({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:El({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),Al=qn(0,{Secrets:No}),Cl=qn(0,{Alerts:$n,CreditBalanceSummary:ur,CreditBalanceTransactions:dr,CreditGrants:fr,MeterEventAdjustments:Br,MeterEvents:Qr,Meters:Zr}),Il=qn(0,{Configurations:ar,Sessions:Ho}),Rl=qn(0,{Sessions:Wo}),zl=qn(0,{Orders:eo,Products:go,Suppliers:Xo}),Ml=qn(0,{ActiveEntitlements:Bn,Features:Ar}),ql=qn(0,{Accounts:Jn,Sessions:Ko,Transactions:ss}),Ll=qn(0,{Requests:Uo}),Jl=qn(0,{VerificationReports:xs,VerificationSessions:Ps}),Ul=qn(0,{Authorizations:Fn,Cardholders:Vn,Cards:Zn,Disputes:wr,PersonalizationDesigns:uo,PhysicalBundles:ho,Tokens:is,Transactions:ls}),Bl=qn(0,{EarlyFraudWarnings:Sr,ValueListItems:gs,ValueLists:bs}),Dl=qn(0,{ReportRuns:Mo,ReportTypes:Lo}),$l=qn(0,{ScheduledQueryRuns:Do}),Nl=qn(0,{Calculations:Qn,Registrations:Ro,Settings:Yo,Transactions:ps}),Fl=qn(0,{Configurations:nr,ConnectionTokens:cr,Locations:Jr,Readers:bo}),Hl=qn(0,{ConfirmationTokens:or,Customers:yr,Refunds:Co,TestClocks:ts,Issuing:qn(0,{Authorizations:Gn,Cards:er,PersonalizationDesigns:mo,Transactions:ms}),Terminal:qn(0,{Readers:xo}),Treasury:qn(0,{InboundTransfers:zr,OutboundPayments:ao,OutboundTransfers:oo,ReceivedCredits:Po,ReceivedDebits:To})}),Gl=qn(0,{CreditReversals:vr,DebitReversals:_r,FinancialAccounts:Ir,InboundTransfers:qr,OutboundPayments:no,OutboundTransfers:co,ReceivedCredits:Oo,ReceivedDebits:ko,TransactionEntries:rs,Transactions:hs}),Wl=qn(0,{Billing:qn(0,{MeterEventAdjustments:$r,MeterEventSession:Fr,MeterEventStream:Gr,MeterEvents:Vr}),Core:qn(0,{EventDestinations:jr,Events:Er})});var Ql=Object.freeze({__proto__:null,Account:Os,AccountLinks:Ts,AccountSessions:ks,Accounts:Os,ApplePayDomains:Cs,ApplicationFees:Rs,Apps:Al,Balance:Ms,BalanceSettings:Ls,BalanceTransactions:Us,Billing:Cl,BillingPortal:Il,Charges:Ds,Checkout:Rl,Climate:zl,ConfirmationTokens:Ns,CountrySpecs:Hs,Coupons:Ws,CreditNotes:Ks,CustomerSessions:Ys,Customers:Xs,Disputes:tc,Entitlements:Ml,EphemeralKeys:ic,Events:rc,ExchangeRates:sc,FileLinks:lc,Files:dc,FinancialConnections:ql,Forwarding:Ll,Identity:Jl,InvoiceItems:fc,InvoicePayments:vc,InvoiceRenderingTemplates:yc,Invoices:_c,Issuing:Ul,Mandates:wc,OAuth:Oc,PaymentAttemptRecords:Tc,PaymentIntents:kc,PaymentLinks:Cc,PaymentMethodConfigurations:Rc,PaymentMethodDomains:Mc,PaymentMethods:Lc,PaymentRecords:Uc,Payouts:Dc,Plans:Nc,Prices:Hc,Products:Wc,PromotionCodes:Kc,Quotes:Yc,Radar:Bl,Refunds:Xc,Reporting:Dl,Reviews:tl,SetupAttempts:il,SetupIntents:rl,ShippingRates:sl,Sigma:$l,Sources:ll,SubscriptionItems:pl,SubscriptionSchedules:ml,Subscriptions:hl,Tax:Nl,TaxCodes:gl,TaxIds:bl,TaxRates:xl,Terminal:Fl,TestHelpers:Hl,Tokens:Pl,Topups:Ol,Transfers:Tl,Treasury:Gl,V2:Wl,WebhookEndpoints:kl});const Kl="api.stripe.com",Vl="/v1/",Yl=zn,Zl=["name","version","url","partner_id"],Xl=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],eu=e=>new Pn(e,Cn.MAX_BUFFERED_REQUEST_METRICS);const tu=function(e,t=eu){function a(i,n={}){if(!(this instanceof a))return new a(i,n);const r=this._getPropsFromConfig(n);this._platformFunctions=e,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=a.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);const o=r.httpAgent||null;this._api={host:r.host||Kl,port:r.port||"443",protocol:r.protocol||"https",basePath:Vl,version:r.apiVersion||Yl,timeout:Qi("timeout",r.timeout,8e4),maxNetworkRetries:Qi("maxNetworkRetries",r.maxNetworkRetries,2),agent:o,httpClient:r.httpClient||(o?this._platformFunctions.createNodeHttpClient(o):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:r.stripeAccount||null,stripeContext:r.stripeContext||null};const s=r.typescript||!1;s!==a.USER_AGENT.typescript&&(a.USER_AGENT.typescript=s),r.appInfo&&this._setAppInfo(r.appInfo),this._prepResources(),this._setAuthenticator(i,r.authenticator),this.errors=xn,this.webhooks=a.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=!1!==r.telemetry,this._requestSender=t(this),this.StripeResource=a.StripeResource}return a.PACKAGE_VERSION="19.3.1",a.API_VERSION=zn,a.USER_AGENT=Object.assign({bindings_version:a.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},"undefined"==typeof process?{}:{lang_version:process.version,platform:process.platform}),a.StripeResource=Cn,a.StripeContext=In,a.resources=Ql,a.HttpClient=x,a.HttpClientResponse=w,a.CryptoProvider=y,a.webhooks=Rn(e),a.errors=xn,a.createNodeHttpClient=e.createNodeHttpClient,a.createFetchHttpClient=e.createFetchHttpClient,a.createNodeCryptoProvider=e.createNodeCryptoProvider,a.createSubtleCryptoProvider=e.createSubtleCryptoProvider,a.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(e,t,a,i){return this._requestSender._rawRequest(e,t,a,i)},_setAuthenticator(e,t){if(e&&t)throw new Error("Can't specify both apiKey and authenticator");if(!e&&!t)throw new Error("Neither apiKey nor config.authenticator provided");this._authenticator=e?Ki(e):t},_setAppInfo(e){if(e&&"object"!=typeof e)throw new Error("AppInfo must be an object.");if(e&&!e.name)throw new Error("AppInfo.name is required");e=e||{},this._appInfo=Zl.reduce((t,a)=>("string"==typeof e[a]&&((t=t||{})[a]=e[a]),t),{})},_setApiField(e,t){this._api[e]=t},getApiField(e){return this._api[e]},setClientId(e){this._clientId=e},getClientId(){return this._clientId},getConstant:e=>{switch(e){case"DEFAULT_HOST":return Kl;case"DEFAULT_PORT":return"443";case"DEFAULT_BASE_PATH":return Vl;case"DEFAULT_API_VERSION":return Yl;case"DEFAULT_TIMEOUT":return 8e4;case"MAX_NETWORK_RETRY_DELAY_SEC":return 5;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return.5}return a[e]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(e,t,a){const i=Qi(e,t,a);this._setApiField(e,i)},getMaxNetworkRetryDelay:()=>5,getInitialNetworkRetryDelay:()=>.5,getClientUserAgent(e){return this.getClientUserAgentSeeded(a.USER_AGENT,e)},getClientUserAgentSeeded(e,t){this._platformFunctions.getUname().then(a=>{var i;const n={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=encodeURIComponent(null!==(i=e[t])&&void 0!==i?i:"null"));n.uname=encodeURIComponent(a||"UNKNOWN");const r=this.getApiField("httpClient");r&&(n.httplib=encodeURIComponent(r.getClientName())),this._appInfo&&(n.application=this._appInfo),t(JSON.stringify(n))})},getAppInfoAsString(){if(!this._appInfo)return"";let e=this._appInfo.name;return this._appInfo.version&&(e+=`/${this._appInfo.version}`),this._appInfo.url&&(e+=` (${this._appInfo.url})`),e},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(const e in Ql)Object.prototype.hasOwnProperty.call(Ql,e)&&(this[Gi(e)]=new Ql[e](this))},_getPropsFromConfig(e){if(!e)return{};const t="string"==typeof e;if(!(e===Object(e)&&!Array.isArray(e))&&!t)throw new Error("Config must either be an object or a string");if(t)return{apiVersion:e};if(Object.keys(e).filter(e=>!Xl.includes(e)).length>0)throw new Error(`Config object may only contain the following: ${Xl.join(", ")}`);return e},parseEventNotification(e,t,a,i,n,r){const o=this.webhooks.constructEvent(e,t,a,i,n,r);return o.context&&(o.context=In.parse(o.context)),o.fetchEvent=()=>this._requestSender._rawRequest("GET",`/v2/core/events/${o.id}`,void 0,{stripeContext:o.context},["fetch_event"]),o.fetchRelatedObject=()=>o.related_object?this._requestSender._rawRequest("GET",o.related_object.url,void 0,{stripeContext:o.context},["fetch_related_object"]):Promise.resolve(null),o}},a}(new class extends rn{constructor(){super(),this._exec=l,this._UNAME_CACHE=null}uuid4(){return e.randomUUID?e.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((e,t)=>{try{this._exec("uname -a",(t,a)=>{if(t)return e(null);e(a)})}catch(t){e(null)}})),this._UNAME_CACHE}secureCompare(t,a){if(!t||!a)throw new Error("secureCompare must receive two arguments");if(t.length!==a.length)return!1;if(e.timingSafeEqual){const i=new TextEncoder,n=i.encode(t),r=i.encode(a);return e.timingSafeEqual(n,r)}return super.secureCompare(t,a)}createEmitter(){return new r}tryBufferData(e){if(!(e.file.data instanceof r))return Promise.resolve(e);const t=[];return new Promise((a,i)=>{e.file.data.on("data",e=>{t.push(e)}).once("end",()=>{const i=Object.assign({},e);i.file.data=function(e){const t=e.reduce((e,t)=>e+t.length,0),a=new Uint8Array(t);let i=0;return e.forEach(e=>{a.set(e,i),i+=e.length}),a}(t),a(i)}).on("error",e=>{i(new wn({message:"An error occurred while attempting to process the file for upload.",detail:e}))})})}createNodeHttpClient(e){return new T(e)}createDefaultHttpClient(){return new T}createNodeCryptoProvider(){return new _}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}});var au={},iu={},nu={};Object.defineProperty(nu,"__esModule",{value:!0}),nu.ApplicationInSerializer=void 0,nu.ApplicationInSerializer={_fromJsonObject:e=>({metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}),_toJsonObject:e=>({metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid})};var ru={};Object.defineProperty(ru,"__esModule",{value:!0}),ru.ApplicationOutSerializer=void 0,ru.ApplicationOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),id:e.id,metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt)}),_toJsonObject:e=>({createdAt:e.createdAt,id:e.id,metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt})};var ou={};Object.defineProperty(ou,"__esModule",{value:!0}),ou.ApplicationPatchSerializer=void 0,ou.ApplicationPatchSerializer={_fromJsonObject:e=>({metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}),_toJsonObject:e=>({metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid})};var su={};Object.defineProperty(su,"__esModule",{value:!0}),su.ListResponseApplicationOutSerializer=void 0;const cu=ru;su.ListResponseApplicationOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>cu.ApplicationOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>cu.ApplicationOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})};var lu={},uu={};Object.defineProperty(uu,"__esModule",{value:!0}),uu.ApiException=void 0;class pu extends Error{constructor(e,t,a){super(`HTTP-Code: ${e}\nHeaders: ${JSON.stringify(a)}`),this.code=e,this.body=t,this.headers={},a.forEach((e,t)=>{this.headers[t]=e})}}uu.ApiException=pu;var du=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function mu(e){return"string"==typeof e&&du.test(e)}function fu(e){if(!mu(e))throw TypeError("Invalid UUID");var t,a=new Uint8Array(16);return a[0]=(t=parseInt(e.slice(0,8),16))>>>24,a[1]=t>>>16&255,a[2]=t>>>8&255,a[3]=255&t,a[4]=(t=parseInt(e.slice(9,13),16))>>>8,a[5]=255&t,a[6]=(t=parseInt(e.slice(14,18),16))>>>8,a[7]=255&t,a[8]=(t=parseInt(e.slice(19,23),16))>>>8,a[9]=255&t,a[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,a[11]=t/4294967296&255,a[12]=t>>>24&255,a[13]=t>>>16&255,a[14]=t>>>8&255,a[15]=255&t,a}for(var hu,vu=[],gu=0;gu<256;++gu)vu.push((gu+256).toString(16).slice(1));function yu(e,t=0){return(vu[e[t+0]]+vu[e[t+1]]+vu[e[t+2]]+vu[e[t+3]]+"-"+vu[e[t+4]]+vu[e[t+5]]+"-"+vu[e[t+6]]+vu[e[t+7]]+"-"+vu[e[t+8]]+vu[e[t+9]]+"-"+vu[e[t+10]]+vu[e[t+11]]+vu[e[t+12]]+vu[e[t+13]]+vu[e[t+14]]+vu[e[t+15]]).toLowerCase()}var bu,_u,xu=new Uint8Array(16);function wu(){if(!hu&&!(hu="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hu(xu)}var Pu=0,Su=0;function Ou(e,t,a){var i=t&&a||0,n=t||new Array(16),r=(e=e||{}).node,o=e.clockseq;if(e._v6||(r||(r=bu),null==o&&(o=_u)),null==r||null==o){var s=e.random||(e.rng||wu)();null==r&&(r=[s[0],s[1],s[2],s[3],s[4],s[5]],bu||e._v6||(r[0]|=1,bu=r)),null==o&&(o=16383&(s[6]<<8|s[7]),void 0!==_u||e._v6||(_u=o))}var c=void 0!==e.msecs?e.msecs:Date.now(),l=void 0!==e.nsecs?e.nsecs:Su+1,u=c-Pu+(l-Su)/1e4;if(u<0&&void 0===e.clockseq&&(o=o+1&16383),(u<0||c>Pu)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Pu=c,Su=l,_u=o;var p=(1e4*(268435455&(c+=122192928e5))+l)%4294967296;n[i++]=p>>>24&255,n[i++]=p>>>16&255,n[i++]=p>>>8&255,n[i++]=255&p;var d=c/4294967296*1e4&268435455;n[i++]=d>>>8&255,n[i++]=255&d,n[i++]=d>>>24&15|16,n[i++]=d>>>16&255,n[i++]=o>>>8|128,n[i++]=255&o;for(var m=0;m<6;++m)n[i+m]=r[m];return t||yu(n)}function ju(e){var t=function(e){return Uint8Array.of((15&e[6])<<4|e[7]>>4&15,(15&e[7])<<4|(240&e[4])>>4,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,(15&e[1])<<4|(240&e[2])>>4,96|15&e[2],e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"==typeof e?fu(e):e);return"string"==typeof e?yu(t):t}function Tu(e,t,a){function i(e,i,n,r){var o;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],a=0;a<e.length;++a)t.push(e.charCodeAt(a));return t}(e)),"string"==typeof i&&(i=fu(i)),16!==(null===(o=i)||void 0===o?void 0:o.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(i),s.set(e,i.length),(s=a(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,n){r=r||0;for(var c=0;c<16;++c)n[r+c]=s[c];return n}return yu(s)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}function Eu(e){return 14+(e+64>>>9<<4)+1}function ku(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function Au(e,t,a,i,n,r){return ku((o=ku(ku(t,e),ku(i,r)))<<(s=n)|o>>>32-s,a);var o,s}function Cu(e,t,a,i,n,r,o){return Au(t&a|~t&i,e,t,n,r,o)}function Iu(e,t,a,i,n,r,o){return Au(t&i|a&~i,e,t,n,r,o)}function Ru(e,t,a,i,n,r,o){return Au(t^a^i,e,t,n,r,o)}function zu(e,t,a,i,n,r,o){return Au(a^(t|~i),e,t,n,r,o)}var Mu=Tu("v3",48,function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var a=0;a<t.length;++a)e[a]=t.charCodeAt(a)}return function(e){for(var t=[],a=32*e.length,i="0123456789abcdef",n=0;n<a;n+=8){var r=e[n>>5]>>>n%32&255,o=parseInt(i.charAt(r>>>4&15)+i.charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[Eu(t)-1]=t;for(var a=1732584193,i=-271733879,n=-1732584194,r=271733878,o=0;o<e.length;o+=16){var s=a,c=i,l=n,u=r;a=Cu(a,i,n,r,e[o],7,-680876936),r=Cu(r,a,i,n,e[o+1],12,-389564586),n=Cu(n,r,a,i,e[o+2],17,606105819),i=Cu(i,n,r,a,e[o+3],22,-1044525330),a=Cu(a,i,n,r,e[o+4],7,-176418897),r=Cu(r,a,i,n,e[o+5],12,1200080426),n=Cu(n,r,a,i,e[o+6],17,-1473231341),i=Cu(i,n,r,a,e[o+7],22,-45705983),a=Cu(a,i,n,r,e[o+8],7,1770035416),r=Cu(r,a,i,n,e[o+9],12,-1958414417),n=Cu(n,r,a,i,e[o+10],17,-42063),i=Cu(i,n,r,a,e[o+11],22,-1990404162),a=Cu(a,i,n,r,e[o+12],7,1804603682),r=Cu(r,a,i,n,e[o+13],12,-40341101),n=Cu(n,r,a,i,e[o+14],17,-1502002290),a=Iu(a,i=Cu(i,n,r,a,e[o+15],22,1236535329),n,r,e[o+1],5,-165796510),r=Iu(r,a,i,n,e[o+6],9,-1069501632),n=Iu(n,r,a,i,e[o+11],14,643717713),i=Iu(i,n,r,a,e[o],20,-373897302),a=Iu(a,i,n,r,e[o+5],5,-701558691),r=Iu(r,a,i,n,e[o+10],9,38016083),n=Iu(n,r,a,i,e[o+15],14,-660478335),i=Iu(i,n,r,a,e[o+4],20,-405537848),a=Iu(a,i,n,r,e[o+9],5,568446438),r=Iu(r,a,i,n,e[o+14],9,-1019803690),n=Iu(n,r,a,i,e[o+3],14,-187363961),i=Iu(i,n,r,a,e[o+8],20,1163531501),a=Iu(a,i,n,r,e[o+13],5,-1444681467),r=Iu(r,a,i,n,e[o+2],9,-51403784),n=Iu(n,r,a,i,e[o+7],14,1735328473),a=Ru(a,i=Iu(i,n,r,a,e[o+12],20,-1926607734),n,r,e[o+5],4,-378558),r=Ru(r,a,i,n,e[o+8],11,-2022574463),n=Ru(n,r,a,i,e[o+11],16,1839030562),i=Ru(i,n,r,a,e[o+14],23,-35309556),a=Ru(a,i,n,r,e[o+1],4,-1530992060),r=Ru(r,a,i,n,e[o+4],11,1272893353),n=Ru(n,r,a,i,e[o+7],16,-155497632),i=Ru(i,n,r,a,e[o+10],23,-1094730640),a=Ru(a,i,n,r,e[o+13],4,681279174),r=Ru(r,a,i,n,e[o],11,-358537222),n=Ru(n,r,a,i,e[o+3],16,-722521979),i=Ru(i,n,r,a,e[o+6],23,76029189),a=Ru(a,i,n,r,e[o+9],4,-640364487),r=Ru(r,a,i,n,e[o+12],11,-421815835),n=Ru(n,r,a,i,e[o+15],16,530742520),a=zu(a,i=Ru(i,n,r,a,e[o+2],23,-995338651),n,r,e[o],6,-198630844),r=zu(r,a,i,n,e[o+7],10,1126891415),n=zu(n,r,a,i,e[o+14],15,-1416354905),i=zu(i,n,r,a,e[o+5],21,-57434055),a=zu(a,i,n,r,e[o+12],6,1700485571),r=zu(r,a,i,n,e[o+3],10,-1894986606),n=zu(n,r,a,i,e[o+10],15,-1051523),i=zu(i,n,r,a,e[o+1],21,-2054922799),a=zu(a,i,n,r,e[o+8],6,1873313359),r=zu(r,a,i,n,e[o+15],10,-30611744),n=zu(n,r,a,i,e[o+6],15,-1560198380),i=zu(i,n,r,a,e[o+13],21,1309151649),a=zu(a,i,n,r,e[o+4],6,-145523070),r=zu(r,a,i,n,e[o+11],10,-1120210379),n=zu(n,r,a,i,e[o+2],15,718787259),i=zu(i,n,r,a,e[o+9],21,-343485551),a=ku(a,s),i=ku(i,c),n=ku(n,l),r=ku(r,u)}return[a,i,n,r]}(function(e){if(0===e.length)return[];for(var t=8*e.length,a=new Uint32Array(Eu(t)),i=0;i<t;i+=8)a[i>>5]|=(255&e[i/8])<<i%32;return a}(e),8*e.length))}),qu=Mu,Lu={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Ju(e,t,a,i){switch(e){case 0:return t&a^~t&i;case 1:case 3:return t^a^i;case 2:return t&a^t&i^a&i}}function Uu(e,t){return e<<t|e>>>32-t}var Bu=Tu("v5",80,function(e){var t=[1518500249,1859775393,2400959708,3395469782],a=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var n=0;n<i.length;++n)e.push(i.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var r=e.length/4+2,o=Math.ceil(r/16),s=new Array(o),c=0;c<o;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3];s[c]=l}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295;for(var p=0;p<o;++p){for(var d=new Uint32Array(80),m=0;m<16;++m)d[m]=s[p][m];for(var f=16;f<80;++f)d[f]=Uu(d[f-3]^d[f-8]^d[f-14]^d[f-16],1);for(var h=a[0],v=a[1],g=a[2],y=a[3],b=a[4],_=0;_<80;++_){var x=Math.floor(_/20),w=Uu(h,5)+Ju(x,v,g,y)+b+t[x]+d[_]>>>0;b=y,y=g,g=Uu(v,30)>>>0,v=h,h=w}a[0]=a[0]+h>>>0,a[1]=a[1]+v>>>0,a[2]=a[2]+g>>>0,a[3]=a[3]+y>>>0,a[4]=a[4]+b>>>0}return[a[0]>>24&255,a[0]>>16&255,a[0]>>8&255,255&a[0],a[1]>>24&255,a[1]>>16&255,a[1]>>8&255,255&a[1],a[2]>>24&255,a[2]>>16&255,a[2]>>8&255,255&a[2],a[3]>>24&255,a[3]>>16&255,a[3]>>8&255,255&a[3],a[4]>>24&255,a[4]>>16&255,a[4]>>8&255,255&a[4]]}),Du=Bu;function $u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function Nu(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$u(Object(a),!0).forEach(function(t){Fu(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$u(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Fu(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Hu=null,Gu=null,Wu=0;var Qu=Object.freeze({__proto__:null,MAX:"ffffffff-ffff-ffff-ffff-ffffffffffff",NIL:"00000000-0000-0000-0000-000000000000",parse:fu,stringify:function(e,t=0){var a=yu(e,t);if(!mu(a))throw TypeError("Stringified UUID is invalid");return a},v1:Ou,v1ToV6:ju,v3:qu,v4:function(e,t,a){if(Lu.randomUUID&&!t&&!e)return Lu.randomUUID();var i=(e=e||{}).random||(e.rng||wu)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){a=a||0;for(var n=0;n<16;++n)t[a+n]=i[n];return t}return yu(i)},v5:Du,v6:function(e={},t,a=0){var i=Ou(Nu(Nu({},e),{},{_v6:!0}),new Uint8Array(16));if(i=ju(i),t){for(var n=0;n<16;n++)t[a+n]=i[n];return t}return yu(i)},v6ToV1:function(e){var t=function(e){return Uint8Array.of((15&e[3])<<4|e[4]>>4&15,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|15&e[6],e[7],(15&e[1])<<4|(240&e[2])>>4,(15&e[2])<<4|(240&e[3])>>4,16|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"==typeof e?fu(e):e);return"string"==typeof e?yu(t):t},v7:function(e,t,a){e=e||{};var i=t&&a||0,n=t||new Uint8Array(16),r=e.random||(e.rng||wu)(),o=void 0!==e.msecs?e.msecs:Date.now(),s=void 0!==e.seq?e.seq:null,c=Gu,l=Hu;return o>Wu&&void 0===e.msecs&&(Wu=o,null!==s&&(c=null,l=null)),null!==s&&(s>2147483647&&(s=2147483647),c=s>>>19&4095,l=524287&s),null!==c&&null!==l||(c=(c=127&r[6])<<8|r[7],l=(l=(l=63&r[8])<<8|r[9])<<5|r[10]>>>3),o+1e4>Wu&&null===s?++l>524287&&(l=0,++c>4095&&(c=0,Wu++)):Wu=o,Gu=c,Hu=l,n[i++]=Wu/1099511627776&255,n[i++]=Wu/4294967296&255,n[i++]=Wu/16777216&255,n[i++]=Wu/65536&255,n[i++]=Wu/256&255,n[i++]=255&Wu,n[i++]=c>>>4&15|112,n[i++]=255&c,n[i++]=l>>>13&63|128,n[i++]=l>>>5&255,n[i++]=l<<3&255|7&r[10],n[i++]=r[11],n[i++]=r[12],n[i++]=r[13],n[i++]=r[14],n[i++]=r[15],t||yu(n)},validate:mu,version:function(e){if(!mu(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}}),Ku=C(Qu);!function(e){var t=k&&k.__awaiter||function(e,t,a,i){return new(a||(a=Promise))(function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.SvixRequest=e.HttpMethod=e.LIB_VERSION=void 0;const a=uu,i=Ku;e.LIB_VERSION="1.76.1";const n=`svix-libs/${e.LIB_VERSION}/javascript`;var r;(r=e.HttpMethod||(e.HttpMethod={})).GET="GET",r.HEAD="HEAD",r.POST="POST",r.PUT="PUT",r.DELETE="DELETE",r.CONNECT="CONNECT",r.OPTIONS="OPTIONS",r.TRACE="TRACE",r.PATCH="PATCH";function o(e,a,i,n=50,r=2,s=1){return t(this,void 0,void 0,function*(){try{const t=yield fetch(e,a);if(r<=0||t.status<500)return t}catch(e){if(r<=0)throw e}var t;return yield(t=n,new Promise(e=>setTimeout(e,t))),a.headers["svix-retry-count"]=s.toString(),n=(null==i?void 0:i[s])||2*n,yield o(e,a,i,n,--r,++s)})}e.SvixRequest=class{constructor(e,t){this.method=e,this.path=t,this.queryParams={},this.headerParams={}}setPathParam(e,t){const a=this.path.replace(`{${e}}`,encodeURIComponent(t));if(this.path===a)throw new Error(`path parameter ${e} not found`);this.path=a}setQueryParam(e,t){if(null!=t)if("string"==typeof t)this.queryParams[e]=t;else if("boolean"==typeof t||"number"==typeof t)this.queryParams[e]=t.toString();else if(t instanceof Date)this.queryParams[e]=t.toISOString();else{if(!(t instanceof Array))throw new Error(`query parameter ${e} has unsupported type`);t.length>0&&(this.queryParams[e]=t.join(","))}}setHeaderParam(e,t){void 0!==t&&(this.headerParams[e]=t)}setBody(e){this.body=JSON.stringify(e)}send(e,a){return t(this,void 0,void 0,function*(){const t=yield this.sendInner(e);if(204==t.status)return null;const i=yield t.text();return a(JSON.parse(i))})}sendNoResponseBody(e){return t(this,void 0,void 0,function*(){yield this.sendInner(e)})}sendInner(e){var r,s;return t(this,void 0,void 0,function*(){const c=new URL(e.baseUrl+this.path);for(const[e,t]of Object.entries(this.queryParams))c.searchParams.set(e,t);void 0===this.headerParams["idempotency-key"]&&"POST"===this.method.toUpperCase()&&(this.headerParams["idempotency-key"]="auto_"+(0,i.v4)());const l=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);null!=this.body&&(this.headerParams["content-type"]="application/json");const u="credentials"in Request.prototype;return function(e){return t(this,void 0,void 0,function*(){if(e.status<300)return e;const t=yield e.text();if(422===e.status)throw new a.ApiException(e.status,JSON.parse(t),e.headers);if(e.status>=400&&e.status<=499)throw new a.ApiException(e.status,JSON.parse(t),e.headers);throw new a.ApiException(e.status,t,e.headers)})}(yield o(c,{method:this.method.toString(),body:this.body,headers:Object.assign({accept:"application/json, */*;q=0.8",authorization:`Bearer ${e.token}`,"user-agent":n,"svix-req-id":l.toString()},this.headerParams),credentials:u?"same-origin":void 0,signal:void 0!==e.timeout?AbortSignal.timeout(e.timeout):void 0},e.retryScheduleInMs,null===(r=e.retryScheduleInMs)||void 0===r?void 0:r[0],(null===(s=e.retryScheduleInMs)||void 0===s?void 0:s.length)||e.numRetries))})}}}(lu),Object.defineProperty(iu,"__esModule",{value:!0}),iu.Application=void 0;const Vu=nu,Yu=ru,Zu=ou,Xu=su,ep=lu;iu.Application=class{constructor(e){this.requestCtx=e}list(e){const t=new ep.SvixRequest(ep.HttpMethod.GET,"/api/v1/app");return t.setQueryParam("limit",null==e?void 0:e.limit),t.setQueryParam("iterator",null==e?void 0:e.iterator),t.setQueryParam("order",null==e?void 0:e.order),t.send(this.requestCtx,Xu.ListResponseApplicationOutSerializer._fromJsonObject)}create(e,t){const a=new ep.SvixRequest(ep.HttpMethod.POST,"/api/v1/app");return a.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),a.setBody(Vu.ApplicationInSerializer._toJsonObject(e)),a.send(this.requestCtx,Yu.ApplicationOutSerializer._fromJsonObject)}getOrCreate(e,t){const a=new ep.SvixRequest(ep.HttpMethod.POST,"/api/v1/app");return a.setQueryParam("get_if_exists",!0),a.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),a.setBody(Vu.ApplicationInSerializer._toJsonObject(e)),a.send(this.requestCtx,Yu.ApplicationOutSerializer._fromJsonObject)}get(e){const t=new ep.SvixRequest(ep.HttpMethod.GET,"/api/v1/app/{app_id}");return t.setPathParam("app_id",e),t.send(this.requestCtx,Yu.ApplicationOutSerializer._fromJsonObject)}update(e,t){const a=new ep.SvixRequest(ep.HttpMethod.PUT,"/api/v1/app/{app_id}");return a.setPathParam("app_id",e),a.setBody(Vu.ApplicationInSerializer._toJsonObject(t)),a.send(this.requestCtx,Yu.ApplicationOutSerializer._fromJsonObject)}delete(e){const t=new ep.SvixRequest(ep.HttpMethod.DELETE,"/api/v1/app/{app_id}");return t.setPathParam("app_id",e),t.sendNoResponseBody(this.requestCtx)}patch(e,t){const a=new ep.SvixRequest(ep.HttpMethod.PATCH,"/api/v1/app/{app_id}");return a.setPathParam("app_id",e),a.setBody(Zu.ApplicationPatchSerializer._toJsonObject(t)),a.send(this.requestCtx,Yu.ApplicationOutSerializer._fromJsonObject)}};var tp,ap,ip={},np={},rp={};tp=rp,Object.defineProperty(tp,"__esModule",{value:!0}),tp.AppPortalCapabilitySerializer=tp.AppPortalCapability=void 0,(ap=tp.AppPortalCapability||(tp.AppPortalCapability={})).ViewBase="ViewBase",ap.ViewEndpointSecret="ViewEndpointSecret",ap.ManageEndpointSecret="ManageEndpointSecret",ap.ManageTransformations="ManageTransformations",ap.CreateAttempts="CreateAttempts",ap.ManageEndpoint="ManageEndpoint",tp.AppPortalCapabilitySerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e},Object.defineProperty(np,"__esModule",{value:!0}),np.AppPortalAccessInSerializer=void 0;const op=rp,sp=nu;np.AppPortalAccessInSerializer={_fromJsonObject(e){var t;return{application:e.application?sp.ApplicationInSerializer._fromJsonObject(e.application):void 0,capabilities:null===(t=e.capabilities)||void 0===t?void 0:t.map(e=>op.AppPortalCapabilitySerializer._fromJsonObject(e)),expiry:e.expiry,featureFlags:e.featureFlags,readOnly:e.readOnly,sessionId:e.sessionId}},_toJsonObject(e){var t;return{application:e.application?sp.ApplicationInSerializer._toJsonObject(e.application):void 0,capabilities:null===(t=e.capabilities)||void 0===t?void 0:t.map(e=>op.AppPortalCapabilitySerializer._toJsonObject(e)),expiry:e.expiry,featureFlags:e.featureFlags,readOnly:e.readOnly,sessionId:e.sessionId}}};var cp={};Object.defineProperty(cp,"__esModule",{value:!0}),cp.AppPortalAccessOutSerializer=void 0,cp.AppPortalAccessOutSerializer={_fromJsonObject:e=>({token:e.token,url:e.url}),_toJsonObject:e=>({token:e.token,url:e.url})};var lp={};Object.defineProperty(lp,"__esModule",{value:!0}),lp.ApplicationTokenExpireInSerializer=void 0,lp.ApplicationTokenExpireInSerializer={_fromJsonObject:e=>({expiry:e.expiry,sessionIds:e.sessionIds}),_toJsonObject:e=>({expiry:e.expiry,sessionIds:e.sessionIds})};var up={};Object.defineProperty(up,"__esModule",{value:!0}),up.DashboardAccessOutSerializer=void 0,up.DashboardAccessOutSerializer={_fromJsonObject:e=>({token:e.token,url:e.url}),_toJsonObject:e=>({token:e.token,url:e.url})},Object.defineProperty(ip,"__esModule",{value:!0}),ip.Authentication=void 0;const pp=np,dp=cp,mp=lp,fp=up,hp=lu;ip.Authentication=class{constructor(e){this.requestCtx=e}appPortalAccess(e,t,a){const i=new hp.SvixRequest(hp.HttpMethod.POST,"/api/v1/auth/app-portal-access/{app_id}");return i.setPathParam("app_id",e),i.setHeaderParam("idempotency-key",null==a?void 0:a.idempotencyKey),i.setBody(pp.AppPortalAccessInSerializer._toJsonObject(t)),i.send(this.requestCtx,dp.AppPortalAccessOutSerializer._fromJsonObject)}expireAll(e,t,a){const i=new hp.SvixRequest(hp.HttpMethod.POST,"/api/v1/auth/app/{app_id}/expire-all");return i.setPathParam("app_id",e),i.setHeaderParam("idempotency-key",null==a?void 0:a.idempotencyKey),i.setBody(mp.ApplicationTokenExpireInSerializer._toJsonObject(t)),i.sendNoResponseBody(this.requestCtx)}dashboardAccess(e,t){const a=new hp.SvixRequest(hp.HttpMethod.POST,"/api/v1/auth/dashboard-access/{app_id}");return a.setPathParam("app_id",e),a.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),a.send(this.requestCtx,fp.DashboardAccessOutSerializer._fromJsonObject)}logout(e){const t=new hp.SvixRequest(hp.HttpMethod.POST,"/api/v1/auth/logout");return t.setHeaderParam("idempotency-key",null==e?void 0:e.idempotencyKey),t.sendNoResponseBody(this.requestCtx)}};var vp={},gp={},yp={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundTaskStatusSerializer=e.BackgroundTaskStatus=void 0,(t=e.BackgroundTaskStatus||(e.BackgroundTaskStatus={})).Running="running",t.Finished="finished",t.Failed="failed",e.BackgroundTaskStatusSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}}(yp);var bp={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundTaskTypeSerializer=e.BackgroundTaskType=void 0,(t=e.BackgroundTaskType||(e.BackgroundTaskType={})).EndpointReplay="endpoint.replay",t.EndpointRecover="endpoint.recover",t.ApplicationStats="application.stats",t.MessageBroadcast="message.broadcast",t.SdkGenerate="sdk.generate",t.EventTypeAggregate="event-type.aggregate",t.ApplicationPurgeContent="application.purge_content",e.BackgroundTaskTypeSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}}(bp),Object.defineProperty(gp,"__esModule",{value:!0}),gp.BackgroundTaskOutSerializer=void 0;const _p=yp,xp=bp;gp.BackgroundTaskOutSerializer={_fromJsonObject:e=>({data:e.data,id:e.id,status:_p.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:xp.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}),_toJsonObject:e=>({data:e.data,id:e.id,status:_p.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:xp.BackgroundTaskTypeSerializer._toJsonObject(e.task)})};var wp={};Object.defineProperty(wp,"__esModule",{value:!0}),wp.ListResponseBackgroundTaskOutSerializer=void 0;const Pp=gp;wp.ListResponseBackgroundTaskOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>Pp.BackgroundTaskOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>Pp.BackgroundTaskOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})},Object.defineProperty(vp,"__esModule",{value:!0}),vp.BackgroundTask=void 0;const Sp=gp,Op=wp,jp=lu;vp.BackgroundTask=class{constructor(e){this.requestCtx=e}list(e){const t=new jp.SvixRequest(jp.HttpMethod.GET,"/api/v1/background-task");return t.setQueryParam("status",null==e?void 0:e.status),t.setQueryParam("task",null==e?void 0:e.task),t.setQueryParam("limit",null==e?void 0:e.limit),t.setQueryParam("iterator",null==e?void 0:e.iterator),t.setQueryParam("order",null==e?void 0:e.order),t.send(this.requestCtx,Op.ListResponseBackgroundTaskOutSerializer._fromJsonObject)}listByEndpoint(e){return this.list(e)}get(e){const t=new jp.SvixRequest(jp.HttpMethod.GET,"/api/v1/background-task/{task_id}");return t.setPathParam("task_id",e),t.send(this.requestCtx,Sp.BackgroundTaskOutSerializer._fromJsonObject)}};var Tp={},Ep={};Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.EndpointHeadersInSerializer=void 0,Ep.EndpointHeadersInSerializer={_fromJsonObject:e=>({headers:e.headers}),_toJsonObject:e=>({headers:e.headers})};var kp={};Object.defineProperty(kp,"__esModule",{value:!0}),kp.EndpointHeadersOutSerializer=void 0,kp.EndpointHeadersOutSerializer={_fromJsonObject:e=>({headers:e.headers,sensitive:e.sensitive}),_toJsonObject:e=>({headers:e.headers,sensitive:e.sensitive})};var Ap={};Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.EndpointHeadersPatchInSerializer=void 0,Ap.EndpointHeadersPatchInSerializer={_fromJsonObject:e=>({deleteHeaders:e.deleteHeaders,headers:e.headers}),_toJsonObject:e=>({deleteHeaders:e.deleteHeaders,headers:e.headers})};var Cp={};Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.EndpointInSerializer=void 0,Cp.EndpointInSerializer={_fromJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,headers:e.headers,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}),_toJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,headers:e.headers,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version})};var Ip={};Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.EndpointOutSerializer=void 0,Ip.EndpointOutSerializer={_fromJsonObject:e=>({channels:e.channels,createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url,version:e.version}),_toJsonObject:e=>({channels:e.channels,createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url,version:e.version})};var Rp={};Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.EndpointPatchSerializer=void 0,Rp.EndpointPatchSerializer={_fromJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}),_toJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version})};var zp={};Object.defineProperty(zp,"__esModule",{value:!0}),zp.EndpointSecretOutSerializer=void 0,zp.EndpointSecretOutSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})};var Mp={};Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.EndpointSecretRotateInSerializer=void 0,Mp.EndpointSecretRotateInSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})};var qp={};Object.defineProperty(qp,"__esModule",{value:!0}),qp.EndpointStatsSerializer=void 0,qp.EndpointStatsSerializer={_fromJsonObject:e=>({fail:e.fail,pending:e.pending,sending:e.sending,success:e.success}),_toJsonObject:e=>({fail:e.fail,pending:e.pending,sending:e.sending,success:e.success})};var Lp={};Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.EndpointTransformationInSerializer=void 0,Lp.EndpointTransformationInSerializer={_fromJsonObject:e=>({code:e.code,enabled:e.enabled}),_toJsonObject:e=>({code:e.code,enabled:e.enabled})};var Jp={};Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.EndpointTransformationOutSerializer=void 0,Jp.EndpointTransformationOutSerializer={_fromJsonObject:e=>({code:e.code,enabled:e.enabled}),_toJsonObject:e=>({code:e.code,enabled:e.enabled})};var Up={};Object.defineProperty(Up,"__esModule",{value:!0}),Up.EndpointTransformationPatchSerializer=void 0,Up.EndpointTransformationPatchSerializer={_fromJsonObject:e=>({code:e.code,enabled:e.enabled}),_toJsonObject:e=>({code:e.code,enabled:e.enabled})};var Bp={};Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.EndpointUpdateSerializer=void 0,Bp.EndpointUpdateSerializer={_fromJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url,version:e.version}),_toJsonObject:e=>({channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url,version:e.version})};var Dp={};Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.EventExampleInSerializer=void 0,Dp.EventExampleInSerializer={_fromJsonObject:e=>({eventType:e.eventType,exampleIndex:e.exampleIndex}),_toJsonObject:e=>({eventType:e.eventType,exampleIndex:e.exampleIndex})};var $p={};Object.defineProperty($p,"__esModule",{value:!0}),$p.ListResponseEndpointOutSerializer=void 0;const Np=Ip;$p.ListResponseEndpointOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>Np.EndpointOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>Np.EndpointOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})};var Fp={};Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.MessageOutSerializer=void 0,Fp.MessageOutSerializer={_fromJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,id:e.id,payload:e.payload,tags:e.tags,timestamp:new Date(e.timestamp)}),_toJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,id:e.id,payload:e.payload,tags:e.tags,timestamp:e.timestamp})};var Hp={};Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.RecoverInSerializer=void 0,Hp.RecoverInSerializer={_fromJsonObject:e=>({since:new Date(e.since),until:e.until?new Date(e.until):null}),_toJsonObject:e=>({since:e.since,until:e.until})};var Gp={};Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.RecoverOutSerializer=void 0;const Wp=yp,Qp=bp;Gp.RecoverOutSerializer={_fromJsonObject:e=>({id:e.id,status:Wp.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:Qp.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}),_toJsonObject:e=>({id:e.id,status:Wp.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:Qp.BackgroundTaskTypeSerializer._toJsonObject(e.task)})};var Kp={};Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.ReplayInSerializer=void 0,Kp.ReplayInSerializer={_fromJsonObject:e=>({since:new Date(e.since),until:e.until?new Date(e.until):null}),_toJsonObject:e=>({since:e.since,until:e.until})};var Vp={};Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.ReplayOutSerializer=void 0;const Yp=yp,Zp=bp;Vp.ReplayOutSerializer={_fromJsonObject:e=>({id:e.id,status:Yp.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:Zp.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}),_toJsonObject:e=>({id:e.id,status:Yp.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:Zp.BackgroundTaskTypeSerializer._toJsonObject(e.task)})},Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.Endpoint=void 0;const Xp=Ep,ed=kp,td=Ap,ad=Cp,id=Ip,nd=Rp,rd=zp,od=Mp,sd=qp,cd=Lp,ld=Jp,ud=Up,pd=Bp,dd=Dp,md=$p,fd=Fp,hd=Hp,vd=Gp,gd=Kp,yd=Vp,bd=lu;Tp.Endpoint=class{constructor(e){this.requestCtx=e}list(e,t){const a=new bd.SvixRequest(bd.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint");return a.setPathParam("app_id",e),a.setQueryParam("limit",null==t?void 0:t.limit),a.setQueryParam("iterator",null==t?void 0:t.iterator),a.setQueryParam("order",null==t?void 0:t.order),a.send(this.requestCtx,md.ListResponseEndpointOutSerializer._fromJsonObject)}create(e,t,a){const i=new bd.SvixRequest(bd.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint");return i.setPathParam("app_id",e),i.setHeaderParam("idempotency-key",null==a?void 0:a.idempotencyKey),i.setBody(ad.EndpointInSerializer._toJsonObject(t)),i.send(this.requestCtx,id.EndpointOutSerializer._fromJsonObject)}get(e,t){const a=new bd.SvixRequest(bd.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return a.setPathParam("app_id",e),a.setPathParam("endpoint_id",t),a.send(this.requestCtx,id.EndpointOutSerializer._fromJsonObject)}update(e,t,a){const i=new bd.SvixRequest(bd.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(pd.EndpointUpdateSerializer._toJsonObject(a)),i.send(this.requestCtx,id.EndpointOutSerializer._fromJsonObject)}delete(e,t){const a=new bd.SvixRequest(bd.HttpMethod.DELETE,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return a.setPathParam("app_id",e),a.setPathParam("endpoint_id",t),a.sendNoResponseBody(this.requestCtx)}patch(e,t,a){const i=new bd.SvixRequest(bd.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(nd.EndpointPatchSerializer._toJsonObject(a)),i.send(this.requestCtx,id.EndpointOutSerializer._fromJsonObject)}getHeaders(e,t){const a=new bd.SvixRequest(bd.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return a.setPathParam("app_id",e),a.setPathParam("endpoint_id",t),a.send(this.requestCtx,ed.EndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(e,t,a){const i=new bd.SvixRequest(bd.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(Xp.EndpointHeadersInSerializer._toJsonObject(a)),i.sendNoResponseBody(this.requestCtx)}headersUpdate(e,t,a){return this.updateHeaders(e,t,a)}patchHeaders(e,t,a){const i=new bd.SvixRequest(bd.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(td.EndpointHeadersPatchInSerializer._toJsonObject(a)),i.sendNoResponseBody(this.requestCtx)}headersPatch(e,t,a){return this.patchHeaders(e,t,a)}recover(e,t,a,i){const n=new bd.SvixRequest(bd.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/recover");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.setBody(hd.RecoverInSerializer._toJsonObject(a)),n.send(this.requestCtx,vd.RecoverOutSerializer._fromJsonObject)}replayMissing(e,t,a,i){const n=new bd.SvixRequest(bd.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/replay-missing");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.setBody(gd.ReplayInSerializer._toJsonObject(a)),n.send(this.requestCtx,yd.ReplayOutSerializer._fromJsonObject)}getSecret(e,t){const a=new bd.SvixRequest(bd.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret");return a.setPathParam("app_id",e),a.setPathParam("endpoint_id",t),a.send(this.requestCtx,rd.EndpointSecretOutSerializer._fromJsonObject)}rotateSecret(e,t,a,i){const n=new bd.SvixRequest(bd.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret/rotate");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.setBody(od.EndpointSecretRotateInSerializer._toJsonObject(a)),n.sendNoResponseBody(this.requestCtx)}sendExample(e,t,a,i){const n=new bd.SvixRequest(bd.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/send-example");return n.setPathParam("app_id",e),n.setPathParam("endpoint_id",t),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.setBody(dd.EventExampleInSerializer._toJsonObject(a)),n.send(this.requestCtx,fd.MessageOutSerializer._fromJsonObject)}getStats(e,t,a){const i=new bd.SvixRequest(bd.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/stats");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setQueryParam("since",null==a?void 0:a.since),i.setQueryParam("until",null==a?void 0:a.until),i.send(this.requestCtx,sd.EndpointStatsSerializer._fromJsonObject)}transformationGet(e,t){const a=new bd.SvixRequest(bd.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return a.setPathParam("app_id",e),a.setPathParam("endpoint_id",t),a.send(this.requestCtx,ld.EndpointTransformationOutSerializer._fromJsonObject)}patchTransformation(e,t,a){const i=new bd.SvixRequest(bd.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(ud.EndpointTransformationPatchSerializer._toJsonObject(a)),i.sendNoResponseBody(this.requestCtx)}transformationPartialUpdate(e,t,a){const i=new bd.SvixRequest(bd.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setBody(cd.EndpointTransformationInSerializer._toJsonObject(a)),i.sendNoResponseBody(this.requestCtx)}};var _d={},xd={},wd={},Pd={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorKindSerializer=e.ConnectorKind=void 0,(t=e.ConnectorKind||(e.ConnectorKind={})).Custom="Custom",t.CloseCrm="CloseCRM",t.CustomerIo="CustomerIO",t.Discord="Discord",t.Hubspot="Hubspot",t.Inngest="Inngest",t.Loops="Loops",t.Resend="Resend",t.Salesforce="Salesforce",t.Segment="Segment",t.Sendgrid="Sendgrid",t.Slack="Slack",t.Teams="Teams",t.TriggerDev="TriggerDev",t.Windmill="Windmill",t.Zapier="Zapier",e.ConnectorKindSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}}(Pd),Object.defineProperty(wd,"__esModule",{value:!0}),wd.ConnectorInSerializer=void 0;const Sd=Pd;wd.ConnectorInSerializer={_fromJsonObject:e=>({description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,filterTypes:e.filterTypes,instructions:e.instructions,instructionsLink:e.instructionsLink,kind:e.kind?Sd.ConnectorKindSerializer._fromJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}),_toJsonObject:e=>({description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,filterTypes:e.filterTypes,instructions:e.instructions,instructionsLink:e.instructionsLink,kind:e.kind?Sd.ConnectorKindSerializer._toJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation})};var Od={};Object.defineProperty(Od,"__esModule",{value:!0}),Od.EventTypeInSerializer=void 0,Od.EventTypeInSerializer={_fromJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}),_toJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas})},Object.defineProperty(xd,"__esModule",{value:!0}),xd.EnvironmentInSerializer=void 0;const jd=wd,Td=Od;xd.EnvironmentInSerializer={_fromJsonObject(e){var t,a;return{connectors:null===(t=e.connectors)||void 0===t?void 0:t.map(e=>jd.ConnectorInSerializer._fromJsonObject(e)),eventTypes:null===(a=e.eventTypes)||void 0===a?void 0:a.map(e=>Td.EventTypeInSerializer._fromJsonObject(e)),settings:e.settings}},_toJsonObject(e){var t,a;return{connectors:null===(t=e.connectors)||void 0===t?void 0:t.map(e=>jd.ConnectorInSerializer._toJsonObject(e)),eventTypes:null===(a=e.eventTypes)||void 0===a?void 0:a.map(e=>Td.EventTypeInSerializer._toJsonObject(e)),settings:e.settings}}};var Ed={},kd={};Object.defineProperty(kd,"__esModule",{value:!0}),kd.ConnectorOutSerializer=void 0;const Ad=Pd;kd.ConnectorOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,filterTypes:e.filterTypes,id:e.id,instructions:e.instructions,instructionsLink:e.instructionsLink,kind:Ad.ConnectorKindSerializer._fromJsonObject(e.kind),logo:e.logo,name:e.name,orgId:e.orgId,transformation:e.transformation,updatedAt:new Date(e.updatedAt)}),_toJsonObject:e=>({createdAt:e.createdAt,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,filterTypes:e.filterTypes,id:e.id,instructions:e.instructions,instructionsLink:e.instructionsLink,kind:Ad.ConnectorKindSerializer._toJsonObject(e.kind),logo:e.logo,name:e.name,orgId:e.orgId,transformation:e.transformation,updatedAt:e.updatedAt})};var Cd={};Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.EventTypeOutSerializer=void 0,Cd.EventTypeOutSerializer={_fromJsonObject:e=>({archived:e.archived,createdAt:new Date(e.createdAt),deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas,updatedAt:new Date(e.updatedAt)}),_toJsonObject:e=>({archived:e.archived,createdAt:e.createdAt,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas,updatedAt:e.updatedAt})},Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.EnvironmentOutSerializer=void 0;const Id=kd,Rd=Cd;Ed.EnvironmentOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),eventTypes:e.eventTypes.map(e=>Rd.EventTypeOutSerializer._fromJsonObject(e)),settings:e.settings,transformationTemplates:e.transformationTemplates.map(e=>Id.ConnectorOutSerializer._fromJsonObject(e)),version:e.version}),_toJsonObject:e=>({createdAt:e.createdAt,eventTypes:e.eventTypes.map(e=>Rd.EventTypeOutSerializer._toJsonObject(e)),settings:e.settings,transformationTemplates:e.transformationTemplates.map(e=>Id.ConnectorOutSerializer._toJsonObject(e)),version:e.version})},Object.defineProperty(_d,"__esModule",{value:!0}),_d.Environment=void 0;const zd=xd,Md=Ed,qd=lu;_d.Environment=class{constructor(e){this.requestCtx=e}export(e){const t=new qd.SvixRequest(qd.HttpMethod.POST,"/api/v1/environment/export");return t.setHeaderParam("idempotency-key",null==e?void 0:e.idempotencyKey),t.send(this.requestCtx,Md.EnvironmentOutSerializer._fromJsonObject)}import(e,t){const a=new qd.SvixRequest(qd.HttpMethod.POST,"/api/v1/environment/import");return a.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),a.setBody(zd.EnvironmentInSerializer._toJsonObject(e)),a.sendNoResponseBody(this.requestCtx)}};var Ld={},Jd={};Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.EventTypeImportOpenApiInSerializer=void 0,Jd.EventTypeImportOpenApiInSerializer={_fromJsonObject:e=>({dryRun:e.dryRun,replaceAll:e.replaceAll,spec:e.spec,specRaw:e.specRaw}),_toJsonObject:e=>({dryRun:e.dryRun,replaceAll:e.replaceAll,spec:e.spec,specRaw:e.specRaw})};var Ud={},Bd={},Dd={};Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.EventTypeFromOpenApiSerializer=void 0,Dd.EventTypeFromOpenApiSerializer={_fromJsonObject:e=>({deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}),_toJsonObject:e=>({deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas})},Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.EventTypeImportOpenApiOutDataSerializer=void 0;const $d=Dd;Bd.EventTypeImportOpenApiOutDataSerializer={_fromJsonObject(e){var t;return{modified:e.modified,toModify:null===(t=e.to_modify)||void 0===t?void 0:t.map(e=>$d.EventTypeFromOpenApiSerializer._fromJsonObject(e))}},_toJsonObject(e){var t;return{modified:e.modified,to_modify:null===(t=e.toModify)||void 0===t?void 0:t.map(e=>$d.EventTypeFromOpenApiSerializer._toJsonObject(e))}}},Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.EventTypeImportOpenApiOutSerializer=void 0;const Nd=Bd;Ud.EventTypeImportOpenApiOutSerializer={_fromJsonObject:e=>({data:Nd.EventTypeImportOpenApiOutDataSerializer._fromJsonObject(e.data)}),_toJsonObject:e=>({data:Nd.EventTypeImportOpenApiOutDataSerializer._toJsonObject(e.data)})};var Fd={};Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.EventTypePatchSerializer=void 0,Fd.EventTypePatchSerializer={_fromJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}),_toJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas})};var Hd={};Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.EventTypeUpdateSerializer=void 0,Hd.EventTypeUpdateSerializer={_fromJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}),_toJsonObject:e=>({archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas})};var Gd={};Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.ListResponseEventTypeOutSerializer=void 0;const Wd=Cd;Gd.ListResponseEventTypeOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>Wd.EventTypeOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>Wd.EventTypeOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})},Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.EventType=void 0;const Qd=Jd,Kd=Ud,Vd=Od,Yd=Cd,Zd=Fd,Xd=Hd,em=Gd,tm=lu;Ld.EventType=class{constructor(e){this.requestCtx=e}list(e){const t=new tm.SvixRequest(tm.HttpMethod.GET,"/api/v1/event-type");return t.setQueryParam("limit",null==e?void 0:e.limit),t.setQueryParam("iterator",null==e?void 0:e.iterator),t.setQueryParam("order",null==e?void 0:e.order),t.setQueryParam("include_archived",null==e?void 0:e.includeArchived),t.setQueryParam("with_content",null==e?void 0:e.withContent),t.send(this.requestCtx,em.ListResponseEventTypeOutSerializer._fromJsonObject)}create(e,t){const a=new tm.SvixRequest(tm.HttpMethod.POST,"/api/v1/event-type");return a.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),a.setBody(Vd.EventTypeInSerializer._toJsonObject(e)),a.send(this.requestCtx,Yd.EventTypeOutSerializer._fromJsonObject)}importOpenapi(e,t){const a=new tm.SvixRequest(tm.HttpMethod.POST,"/api/v1/event-type/import/openapi");return a.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),a.setBody(Qd.EventTypeImportOpenApiInSerializer._toJsonObject(e)),a.send(this.requestCtx,Kd.EventTypeImportOpenApiOutSerializer._fromJsonObject)}get(e){const t=new tm.SvixRequest(tm.HttpMethod.GET,"/api/v1/event-type/{event_type_name}");return t.setPathParam("event_type_name",e),t.send(this.requestCtx,Yd.EventTypeOutSerializer._fromJsonObject)}update(e,t){const a=new tm.SvixRequest(tm.HttpMethod.PUT,"/api/v1/event-type/{event_type_name}");return a.setPathParam("event_type_name",e),a.setBody(Xd.EventTypeUpdateSerializer._toJsonObject(t)),a.send(this.requestCtx,Yd.EventTypeOutSerializer._fromJsonObject)}delete(e,t){const a=new tm.SvixRequest(tm.HttpMethod.DELETE,"/api/v1/event-type/{event_type_name}");return a.setPathParam("event_type_name",e),a.setQueryParam("expunge",null==t?void 0:t.expunge),a.sendNoResponseBody(this.requestCtx)}patch(e,t){const a=new tm.SvixRequest(tm.HttpMethod.PATCH,"/api/v1/event-type/{event_type_name}");return a.setPathParam("event_type_name",e),a.setBody(Zd.EventTypePatchSerializer._toJsonObject(t)),a.send(this.requestCtx,Yd.EventTypeOutSerializer._fromJsonObject)}};var am={};Object.defineProperty(am,"__esModule",{value:!0}),am.Health=void 0;const im=lu;am.Health=class{constructor(e){this.requestCtx=e}get(){return new im.SvixRequest(im.HttpMethod.GET,"/api/v1/health").sendNoResponseBody(this.requestCtx)}};var nm={},rm={};Object.defineProperty(rm,"__esModule",{value:!0}),rm.IngestSourceConsumerPortalAccessInSerializer=void 0,rm.IngestSourceConsumerPortalAccessInSerializer={_fromJsonObject:e=>({expiry:e.expiry,readOnly:e.readOnly}),_toJsonObject:e=>({expiry:e.expiry,readOnly:e.readOnly})};var om={},sm={};Object.defineProperty(sm,"__esModule",{value:!0}),sm.IngestEndpointHeadersInSerializer=void 0,sm.IngestEndpointHeadersInSerializer={_fromJsonObject:e=>({headers:e.headers}),_toJsonObject:e=>({headers:e.headers})};var cm={};Object.defineProperty(cm,"__esModule",{value:!0}),cm.IngestEndpointHeadersOutSerializer=void 0,cm.IngestEndpointHeadersOutSerializer={_fromJsonObject:e=>({headers:e.headers,sensitive:e.sensitive}),_toJsonObject:e=>({headers:e.headers,sensitive:e.sensitive})};var lm={};Object.defineProperty(lm,"__esModule",{value:!0}),lm.IngestEndpointInSerializer=void 0,lm.IngestEndpointInSerializer={_fromJsonObject:e=>({description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}),_toJsonObject:e=>({description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url})};var um={};Object.defineProperty(um,"__esModule",{value:!0}),um.IngestEndpointOutSerializer=void 0,um.IngestEndpointOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url}),_toJsonObject:e=>({createdAt:e.createdAt,description:e.description,disabled:e.disabled,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url})};var pm={};Object.defineProperty(pm,"__esModule",{value:!0}),pm.IngestEndpointSecretInSerializer=void 0,pm.IngestEndpointSecretInSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})};var dm={};Object.defineProperty(dm,"__esModule",{value:!0}),dm.IngestEndpointSecretOutSerializer=void 0,dm.IngestEndpointSecretOutSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})};var mm={};Object.defineProperty(mm,"__esModule",{value:!0}),mm.IngestEndpointTransformationOutSerializer=void 0,mm.IngestEndpointTransformationOutSerializer={_fromJsonObject:e=>({code:e.code,enabled:e.enabled}),_toJsonObject:e=>({code:e.code,enabled:e.enabled})};var fm={};Object.defineProperty(fm,"__esModule",{value:!0}),fm.IngestEndpointTransformationPatchSerializer=void 0,fm.IngestEndpointTransformationPatchSerializer={_fromJsonObject:e=>({code:e.code,enabled:e.enabled}),_toJsonObject:e=>({code:e.code,enabled:e.enabled})};var hm={};Object.defineProperty(hm,"__esModule",{value:!0}),hm.IngestEndpointUpdateSerializer=void 0,hm.IngestEndpointUpdateSerializer={_fromJsonObject:e=>({description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}),_toJsonObject:e=>({description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url})};var vm={};Object.defineProperty(vm,"__esModule",{value:!0}),vm.ListResponseIngestEndpointOutSerializer=void 0;const gm=um;vm.ListResponseIngestEndpointOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>gm.IngestEndpointOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>gm.IngestEndpointOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})},Object.defineProperty(om,"__esModule",{value:!0}),om.IngestEndpoint=void 0;const ym=sm,bm=cm,_m=lm,xm=um,wm=pm,Pm=dm,Sm=mm,Om=fm,jm=hm,Tm=vm,Em=lu;om.IngestEndpoint=class{constructor(e){this.requestCtx=e}list(e,t){const a=new Em.SvixRequest(Em.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint");return a.setPathParam("source_id",e),a.setQueryParam("limit",null==t?void 0:t.limit),a.setQueryParam("iterator",null==t?void 0:t.iterator),a.setQueryParam("order",null==t?void 0:t.order),a.send(this.requestCtx,Tm.ListResponseIngestEndpointOutSerializer._fromJsonObject)}create(e,t,a){const i=new Em.SvixRequest(Em.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint");return i.setPathParam("source_id",e),i.setHeaderParam("idempotency-key",null==a?void 0:a.idempotencyKey),i.setBody(_m.IngestEndpointInSerializer._toJsonObject(t)),i.send(this.requestCtx,xm.IngestEndpointOutSerializer._fromJsonObject)}get(e,t){const a=new Em.SvixRequest(Em.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return a.setPathParam("source_id",e),a.setPathParam("endpoint_id",t),a.send(this.requestCtx,xm.IngestEndpointOutSerializer._fromJsonObject)}update(e,t,a){const i=new Em.SvixRequest(Em.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return i.setPathParam("source_id",e),i.setPathParam("endpoint_id",t),i.setBody(jm.IngestEndpointUpdateSerializer._toJsonObject(a)),i.send(this.requestCtx,xm.IngestEndpointOutSerializer._fromJsonObject)}delete(e,t){const a=new Em.SvixRequest(Em.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return a.setPathParam("source_id",e),a.setPathParam("endpoint_id",t),a.sendNoResponseBody(this.requestCtx)}getHeaders(e,t){const a=new Em.SvixRequest(Em.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return a.setPathParam("source_id",e),a.setPathParam("endpoint_id",t),a.send(this.requestCtx,bm.IngestEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(e,t,a){const i=new Em.SvixRequest(Em.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return i.setPathParam("source_id",e),i.setPathParam("endpoint_id",t),i.setBody(ym.IngestEndpointHeadersInSerializer._toJsonObject(a)),i.sendNoResponseBody(this.requestCtx)}getSecret(e,t){const a=new Em.SvixRequest(Em.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret");return a.setPathParam("source_id",e),a.setPathParam("endpoint_id",t),a.send(this.requestCtx,Pm.IngestEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(e,t,a,i){const n=new Em.SvixRequest(Em.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret/rotate");return n.setPathParam("source_id",e),n.setPathParam("endpoint_id",t),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.setBody(wm.IngestEndpointSecretInSerializer._toJsonObject(a)),n.sendNoResponseBody(this.requestCtx)}getTransformation(e,t){const a=new Em.SvixRequest(Em.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return a.setPathParam("source_id",e),a.setPathParam("endpoint_id",t),a.send(this.requestCtx,Sm.IngestEndpointTransformationOutSerializer._fromJsonObject)}setTransformation(e,t,a){const i=new Em.SvixRequest(Em.HttpMethod.PATCH,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return i.setPathParam("source_id",e),i.setPathParam("endpoint_id",t),i.setBody(Om.IngestEndpointTransformationPatchSerializer._toJsonObject(a)),i.sendNoResponseBody(this.requestCtx)}};var km={},Am={},Cm={};Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.AdobeSignConfigSerializer=void 0,Cm.AdobeSignConfigSerializer={_fromJsonObject:e=>({clientId:e.clientId}),_toJsonObject:e=>({clientId:e.clientId})};var Im={};Object.defineProperty(Im,"__esModule",{value:!0}),Im.AirwallexConfigSerializer=void 0,Im.AirwallexConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var Rm={};Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.CheckbookConfigSerializer=void 0,Rm.CheckbookConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var zm={};Object.defineProperty(zm,"__esModule",{value:!0}),zm.CronConfigSerializer=void 0,zm.CronConfigSerializer={_fromJsonObject:e=>({contentType:e.contentType,payload:e.payload,schedule:e.schedule}),_toJsonObject:e=>({contentType:e.contentType,payload:e.payload,schedule:e.schedule})};var Mm={};Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.DocusignConfigSerializer=void 0,Mm.DocusignConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var qm={};Object.defineProperty(qm,"__esModule",{value:!0}),qm.EasypostConfigSerializer=void 0,qm.EasypostConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var Lm={};Object.defineProperty(Lm,"__esModule",{value:!0}),Lm.GithubConfigSerializer=void 0,Lm.GithubConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var Jm={};Object.defineProperty(Jm,"__esModule",{value:!0}),Jm.HubspotConfigSerializer=void 0,Jm.HubspotConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var Um={};Object.defineProperty(Um,"__esModule",{value:!0}),Um.OrumIoConfigSerializer=void 0,Um.OrumIoConfigSerializer={_fromJsonObject:e=>({publicKey:e.publicKey}),_toJsonObject:e=>({publicKey:e.publicKey})};var Bm={};Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.PandaDocConfigSerializer=void 0,Bm.PandaDocConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var Dm={};Object.defineProperty(Dm,"__esModule",{value:!0}),Dm.PortIoConfigSerializer=void 0,Dm.PortIoConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var $m={};Object.defineProperty($m,"__esModule",{value:!0}),$m.RutterConfigSerializer=void 0,$m.RutterConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var Nm={};Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.SegmentConfigSerializer=void 0,Nm.SegmentConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var Fm={};Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.ShopifyConfigSerializer=void 0,Fm.ShopifyConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var Hm={};Object.defineProperty(Hm,"__esModule",{value:!0}),Hm.SlackConfigSerializer=void 0,Hm.SlackConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var Gm={};Object.defineProperty(Gm,"__esModule",{value:!0}),Gm.StripeConfigSerializer=void 0,Gm.StripeConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var Wm={};Object.defineProperty(Wm,"__esModule",{value:!0}),Wm.SvixConfigSerializer=void 0,Wm.SvixConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var Qm={};Object.defineProperty(Qm,"__esModule",{value:!0}),Qm.TelnyxConfigSerializer=void 0,Qm.TelnyxConfigSerializer={_fromJsonObject:e=>({publicKey:e.publicKey}),_toJsonObject:e=>({publicKey:e.publicKey})};var Km={};Object.defineProperty(Km,"__esModule",{value:!0}),Km.VapiConfigSerializer=void 0,Km.VapiConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var Vm={};Object.defineProperty(Vm,"__esModule",{value:!0}),Vm.VeriffConfigSerializer=void 0,Vm.VeriffConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})};var Ym={};Object.defineProperty(Ym,"__esModule",{value:!0}),Ym.ZoomConfigSerializer=void 0,Ym.ZoomConfigSerializer={_fromJsonObject:e=>({secret:e.secret}),_toJsonObject:e=>({secret:e.secret})},Object.defineProperty(Am,"__esModule",{value:!0}),Am.IngestSourceInSerializer=void 0;const Zm=Cm,Xm=Im,ef=Rm,tf=zm,af=Mm,nf=qm,rf=Lm,of=Jm,sf=Um,cf=Bm,lf=Dm,uf=$m,pf=Nm,df=Fm,mf=Hm,ff=Gm,hf=Wm,vf=Qm,gf=Km,yf=Vm,bf=Ym;Am.IngestSourceInSerializer={_fromJsonObject(e){const t=e.type;return{type:t,config:function(t){switch(t){case"generic-webhook":return{};case"cron":return tf.CronConfigSerializer._fromJsonObject(e.config);case"adobe-sign":return Zm.AdobeSignConfigSerializer._fromJsonObject(e.config);case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":return hf.SvixConfigSerializer._fromJsonObject(e.config);case"checkbook":return ef.CheckbookConfigSerializer._fromJsonObject(e.config);case"docusign":return af.DocusignConfigSerializer._fromJsonObject(e.config);case"easypost":return nf.EasypostConfigSerializer._fromJsonObject(e.config);case"github":return rf.GithubConfigSerializer._fromJsonObject(e.config);case"hubspot":return of.HubspotConfigSerializer._fromJsonObject(e.config);case"orum-io":return sf.OrumIoConfigSerializer._fromJsonObject(e.config);case"panda-doc":return cf.PandaDocConfigSerializer._fromJsonObject(e.config);case"port-io":return lf.PortIoConfigSerializer._fromJsonObject(e.config);case"rutter":return uf.RutterConfigSerializer._fromJsonObject(e.config);case"segment":return pf.SegmentConfigSerializer._fromJsonObject(e.config);case"shopify":return df.ShopifyConfigSerializer._fromJsonObject(e.config);case"slack":return mf.SlackConfigSerializer._fromJsonObject(e.config);case"stripe":return ff.StripeConfigSerializer._fromJsonObject(e.config);case"zoom":return bf.ZoomConfigSerializer._fromJsonObject(e.config);case"telnyx":return vf.TelnyxConfigSerializer._fromJsonObject(e.config);case"vapi":return gf.VapiConfigSerializer._fromJsonObject(e.config);case"veriff":return yf.VeriffConfigSerializer._fromJsonObject(e.config);case"airwallex":return Xm.AirwallexConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${t}`)}}(t),metadata:e.metadata,name:e.name,uid:e.uid}},_toJsonObject(e){let t;switch(e.type){case"generic-webhook":t={};break;case"cron":t=tf.CronConfigSerializer._toJsonObject(e.config);break;case"adobe-sign":t=Zm.AdobeSignConfigSerializer._toJsonObject(e.config);break;case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":t=hf.SvixConfigSerializer._toJsonObject(e.config);break;case"checkbook":t=ef.CheckbookConfigSerializer._toJsonObject(e.config);break;case"docusign":t=af.DocusignConfigSerializer._toJsonObject(e.config);break;case"easypost":t=nf.EasypostConfigSerializer._toJsonObject(e.config);break;case"github":t=rf.GithubConfigSerializer._toJsonObject(e.config);break;case"hubspot":t=of.HubspotConfigSerializer._toJsonObject(e.config);break;case"orum-io":t=sf.OrumIoConfigSerializer._toJsonObject(e.config);break;case"panda-doc":t=cf.PandaDocConfigSerializer._toJsonObject(e.config);break;case"port-io":t=lf.PortIoConfigSerializer._toJsonObject(e.config);break;case"rutter":t=uf.RutterConfigSerializer._toJsonObject(e.config);break;case"segment":t=pf.SegmentConfigSerializer._toJsonObject(e.config);break;case"shopify":t=df.ShopifyConfigSerializer._toJsonObject(e.config);break;case"slack":t=mf.SlackConfigSerializer._toJsonObject(e.config);break;case"stripe":t=ff.StripeConfigSerializer._toJsonObject(e.config);break;case"zoom":t=bf.ZoomConfigSerializer._toJsonObject(e.config);break;case"telnyx":t=vf.TelnyxConfigSerializer._toJsonObject(e.config);break;case"vapi":t=gf.VapiConfigSerializer._toJsonObject(e.config);break;case"veriff":t=yf.VeriffConfigSerializer._toJsonObject(e.config);break;case"airwallex":t=Xm.AirwallexConfigSerializer._toJsonObject(e.config)}return{type:e.type,config:t,metadata:e.metadata,name:e.name,uid:e.uid}}};var _f={},xf={};Object.defineProperty(xf,"__esModule",{value:!0}),xf.AdobeSignConfigOutSerializer=void 0,xf.AdobeSignConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var wf={};Object.defineProperty(wf,"__esModule",{value:!0}),wf.AirwallexConfigOutSerializer=void 0,wf.AirwallexConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.CheckbookConfigOutSerializer=void 0,Pf.CheckbookConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.DocusignConfigOutSerializer=void 0,Sf.DocusignConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var Of={};Object.defineProperty(Of,"__esModule",{value:!0}),Of.EasypostConfigOutSerializer=void 0,Of.EasypostConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var jf={};Object.defineProperty(jf,"__esModule",{value:!0}),jf.GithubConfigOutSerializer=void 0,jf.GithubConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var Tf={};Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.HubspotConfigOutSerializer=void 0,Tf.HubspotConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var Ef={};Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.OrumIoConfigOutSerializer=void 0,Ef.OrumIoConfigOutSerializer={_fromJsonObject:e=>({publicKey:e.publicKey}),_toJsonObject:e=>({publicKey:e.publicKey})};var kf={};Object.defineProperty(kf,"__esModule",{value:!0}),kf.PandaDocConfigOutSerializer=void 0,kf.PandaDocConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var Af={};Object.defineProperty(Af,"__esModule",{value:!0}),Af.PortIoConfigOutSerializer=void 0,Af.PortIoConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var Cf={};Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.RutterConfigOutSerializer=void 0,Cf.RutterConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var If={};Object.defineProperty(If,"__esModule",{value:!0}),If.SegmentConfigOutSerializer=void 0,If.SegmentConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.ShopifyConfigOutSerializer=void 0,Rf.ShopifyConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var zf={};Object.defineProperty(zf,"__esModule",{value:!0}),zf.SlackConfigOutSerializer=void 0,zf.SlackConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.StripeConfigOutSerializer=void 0,Mf.StripeConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var qf={};Object.defineProperty(qf,"__esModule",{value:!0}),qf.SvixConfigOutSerializer=void 0,qf.SvixConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.TelnyxConfigOutSerializer=void 0,Lf.TelnyxConfigOutSerializer={_fromJsonObject:e=>({publicKey:e.publicKey}),_toJsonObject:e=>({publicKey:e.publicKey})};var Jf={};Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.VapiConfigOutSerializer=void 0,Jf.VapiConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.VeriffConfigOutSerializer=void 0,Uf.VeriffConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})};var Bf={};Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.ZoomConfigOutSerializer=void 0,Bf.ZoomConfigOutSerializer={_fromJsonObject:e=>({}),_toJsonObject:e=>({})},Object.defineProperty(_f,"__esModule",{value:!0}),_f.IngestSourceOutSerializer=void 0;const Df=xf,$f=wf,Nf=Pf,Ff=zm,Hf=Sf,Gf=Of,Wf=jf,Qf=Tf,Kf=Ef,Vf=kf,Yf=Af,Zf=Cf,Xf=If,eh=Rf,th=zf,ah=Mf,ih=qf,nh=Lf,rh=Jf,oh=Uf,sh=Bf;_f.IngestSourceOutSerializer={_fromJsonObject(e){const t=e.type;return{type:t,config:function(t){switch(t){case"generic-webhook":return{};case"cron":return Ff.CronConfigSerializer._fromJsonObject(e.config);case"adobe-sign":return Df.AdobeSignConfigOutSerializer._fromJsonObject(e.config);case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":return ih.SvixConfigOutSerializer._fromJsonObject(e.config);case"checkbook":return Nf.CheckbookConfigOutSerializer._fromJsonObject(e.config);case"docusign":return Hf.DocusignConfigOutSerializer._fromJsonObject(e.config);case"easypost":return Gf.EasypostConfigOutSerializer._fromJsonObject(e.config);case"github":return Wf.GithubConfigOutSerializer._fromJsonObject(e.config);case"hubspot":return Qf.HubspotConfigOutSerializer._fromJsonObject(e.config);case"orum-io":return Kf.OrumIoConfigOutSerializer._fromJsonObject(e.config);case"panda-doc":return Vf.PandaDocConfigOutSerializer._fromJsonObject(e.config);case"port-io":return Yf.PortIoConfigOutSerializer._fromJsonObject(e.config);case"rutter":return Zf.RutterConfigOutSerializer._fromJsonObject(e.config);case"segment":return Xf.SegmentConfigOutSerializer._fromJsonObject(e.config);case"shopify":return eh.ShopifyConfigOutSerializer._fromJsonObject(e.config);case"slack":return th.SlackConfigOutSerializer._fromJsonObject(e.config);case"stripe":return ah.StripeConfigOutSerializer._fromJsonObject(e.config);case"zoom":return sh.ZoomConfigOutSerializer._fromJsonObject(e.config);case"telnyx":return nh.TelnyxConfigOutSerializer._fromJsonObject(e.config);case"vapi":return rh.VapiConfigOutSerializer._fromJsonObject(e.config);case"veriff":return oh.VeriffConfigOutSerializer._fromJsonObject(e.config);case"airwallex":return $f.AirwallexConfigOutSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${t}`)}}(t),createdAt:new Date(e.createdAt),id:e.id,ingestUrl:e.ingestUrl,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){let t;switch(e.type){case"generic-webhook":t={};break;case"cron":t=Ff.CronConfigSerializer._toJsonObject(e.config);break;case"adobe-sign":t=Df.AdobeSignConfigOutSerializer._toJsonObject(e.config);break;case"beehiiv":case"brex":case"clerk":case"guesty":case"incident-io":case"lithic":case"nash":case"pleo":case"replicate":case"resend":case"safebase":case"sardine":case"stych":case"svix":case"open-ai":case"render":t=ih.SvixConfigOutSerializer._toJsonObject(e.config);break;case"checkbook":t=Nf.CheckbookConfigOutSerializer._toJsonObject(e.config);break;case"docusign":t=Hf.DocusignConfigOutSerializer._toJsonObject(e.config);break;case"easypost":t=Gf.EasypostConfigOutSerializer._toJsonObject(e.config);break;case"github":t=Wf.GithubConfigOutSerializer._toJsonObject(e.config);break;case"hubspot":t=Qf.HubspotConfigOutSerializer._toJsonObject(e.config);break;case"orum-io":t=Kf.OrumIoConfigOutSerializer._toJsonObject(e.config);break;case"panda-doc":t=Vf.PandaDocConfigOutSerializer._toJsonObject(e.config);break;case"port-io":t=Yf.PortIoConfigOutSerializer._toJsonObject(e.config);break;case"rutter":t=Zf.RutterConfigOutSerializer._toJsonObject(e.config);break;case"segment":t=Xf.SegmentConfigOutSerializer._toJsonObject(e.config);break;case"shopify":t=eh.ShopifyConfigOutSerializer._toJsonObject(e.config);break;case"slack":t=th.SlackConfigOutSerializer._toJsonObject(e.config);break;case"stripe":t=ah.StripeConfigOutSerializer._toJsonObject(e.config);break;case"zoom":t=sh.ZoomConfigOutSerializer._toJsonObject(e.config);break;case"telnyx":t=nh.TelnyxConfigOutSerializer._toJsonObject(e.config);break;case"vapi":t=rh.VapiConfigOutSerializer._toJsonObject(e.config);break;case"veriff":t=oh.VeriffConfigOutSerializer._toJsonObject(e.config);break;case"airwallex":t=$f.AirwallexConfigOutSerializer._toJsonObject(e.config)}return{type:e.type,config:t,createdAt:e.createdAt,id:e.id,ingestUrl:e.ingestUrl,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:e.updatedAt}}};var ch={};Object.defineProperty(ch,"__esModule",{value:!0}),ch.ListResponseIngestSourceOutSerializer=void 0;const lh=_f;ch.ListResponseIngestSourceOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>lh.IngestSourceOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>lh.IngestSourceOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})};var uh={};Object.defineProperty(uh,"__esModule",{value:!0}),uh.RotateTokenOutSerializer=void 0,uh.RotateTokenOutSerializer={_fromJsonObject:e=>({ingestUrl:e.ingestUrl}),_toJsonObject:e=>({ingestUrl:e.ingestUrl})},Object.defineProperty(km,"__esModule",{value:!0}),km.IngestSource=void 0;const ph=Am,dh=_f,mh=ch,fh=uh,hh=lu;km.IngestSource=class{constructor(e){this.requestCtx=e}list(e){const t=new hh.SvixRequest(hh.HttpMethod.GET,"/ingest/api/v1/source");return t.setQueryParam("limit",null==e?void 0:e.limit),t.setQueryParam("iterator",null==e?void 0:e.iterator),t.setQueryParam("order",null==e?void 0:e.order),t.send(this.requestCtx,mh.ListResponseIngestSourceOutSerializer._fromJsonObject)}create(e,t){const a=new hh.SvixRequest(hh.HttpMethod.POST,"/ingest/api/v1/source");return a.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),a.setBody(ph.IngestSourceInSerializer._toJsonObject(e)),a.send(this.requestCtx,dh.IngestSourceOutSerializer._fromJsonObject)}get(e){const t=new hh.SvixRequest(hh.HttpMethod.GET,"/ingest/api/v1/source/{source_id}");return t.setPathParam("source_id",e),t.send(this.requestCtx,dh.IngestSourceOutSerializer._fromJsonObject)}update(e,t){const a=new hh.SvixRequest(hh.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}");return a.setPathParam("source_id",e),a.setBody(ph.IngestSourceInSerializer._toJsonObject(t)),a.send(this.requestCtx,dh.IngestSourceOutSerializer._fromJsonObject)}delete(e){const t=new hh.SvixRequest(hh.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}");return t.setPathParam("source_id",e),t.sendNoResponseBody(this.requestCtx)}rotateToken(e,t){const a=new hh.SvixRequest(hh.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/token/rotate");return a.setPathParam("source_id",e),a.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),a.send(this.requestCtx,fh.RotateTokenOutSerializer._fromJsonObject)}},Object.defineProperty(nm,"__esModule",{value:!0}),nm.Ingest=void 0;const vh=up,gh=rm,yh=om,bh=km,_h=lu;nm.Ingest=class{constructor(e){this.requestCtx=e}get endpoint(){return new yh.IngestEndpoint(this.requestCtx)}get source(){return new bh.IngestSource(this.requestCtx)}dashboard(e,t,a){const i=new _h.SvixRequest(_h.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/dashboard");return i.setPathParam("source_id",e),i.setHeaderParam("idempotency-key",null==a?void 0:a.idempotencyKey),i.setBody(gh.IngestSourceConsumerPortalAccessInSerializer._toJsonObject(t)),i.send(this.requestCtx,vh.DashboardAccessOutSerializer._fromJsonObject)}};var xh={},wh={};Object.defineProperty(wh,"__esModule",{value:!0}),wh.IntegrationInSerializer=void 0,wh.IntegrationInSerializer={_fromJsonObject:e=>({featureFlags:e.featureFlags,name:e.name}),_toJsonObject:e=>({featureFlags:e.featureFlags,name:e.name})};var Ph={};Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.IntegrationKeyOutSerializer=void 0,Ph.IntegrationKeyOutSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})};var Sh={};Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.IntegrationOutSerializer=void 0,Sh.IntegrationOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),featureFlags:e.featureFlags,id:e.id,name:e.name,updatedAt:new Date(e.updatedAt)}),_toJsonObject:e=>({createdAt:e.createdAt,featureFlags:e.featureFlags,id:e.id,name:e.name,updatedAt:e.updatedAt})};var Oh={};Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.IntegrationUpdateSerializer=void 0,Oh.IntegrationUpdateSerializer={_fromJsonObject:e=>({featureFlags:e.featureFlags,name:e.name}),_toJsonObject:e=>({featureFlags:e.featureFlags,name:e.name})};var jh={};Object.defineProperty(jh,"__esModule",{value:!0}),jh.ListResponseIntegrationOutSerializer=void 0;const Th=Sh;jh.ListResponseIntegrationOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>Th.IntegrationOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>Th.IntegrationOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})},Object.defineProperty(xh,"__esModule",{value:!0}),xh.Integration=void 0;const Eh=wh,kh=Ph,Ah=Sh,Ch=Oh,Ih=jh,Rh=lu;xh.Integration=class{constructor(e){this.requestCtx=e}list(e,t){const a=new Rh.SvixRequest(Rh.HttpMethod.GET,"/api/v1/app/{app_id}/integration");return a.setPathParam("app_id",e),a.setQueryParam("limit",null==t?void 0:t.limit),a.setQueryParam("iterator",null==t?void 0:t.iterator),a.setQueryParam("order",null==t?void 0:t.order),a.send(this.requestCtx,Ih.ListResponseIntegrationOutSerializer._fromJsonObject)}create(e,t,a){const i=new Rh.SvixRequest(Rh.HttpMethod.POST,"/api/v1/app/{app_id}/integration");return i.setPathParam("app_id",e),i.setHeaderParam("idempotency-key",null==a?void 0:a.idempotencyKey),i.setBody(Eh.IntegrationInSerializer._toJsonObject(t)),i.send(this.requestCtx,Ah.IntegrationOutSerializer._fromJsonObject)}get(e,t){const a=new Rh.SvixRequest(Rh.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}");return a.setPathParam("app_id",e),a.setPathParam("integ_id",t),a.send(this.requestCtx,Ah.IntegrationOutSerializer._fromJsonObject)}update(e,t,a){const i=new Rh.SvixRequest(Rh.HttpMethod.PUT,"/api/v1/app/{app_id}/integration/{integ_id}");return i.setPathParam("app_id",e),i.setPathParam("integ_id",t),i.setBody(Ch.IntegrationUpdateSerializer._toJsonObject(a)),i.send(this.requestCtx,Ah.IntegrationOutSerializer._fromJsonObject)}delete(e,t){const a=new Rh.SvixRequest(Rh.HttpMethod.DELETE,"/api/v1/app/{app_id}/integration/{integ_id}");return a.setPathParam("app_id",e),a.setPathParam("integ_id",t),a.sendNoResponseBody(this.requestCtx)}getKey(e,t){const a=new Rh.SvixRequest(Rh.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}/key");return a.setPathParam("app_id",e),a.setPathParam("integ_id",t),a.send(this.requestCtx,kh.IntegrationKeyOutSerializer._fromJsonObject)}rotateKey(e,t,a){const i=new Rh.SvixRequest(Rh.HttpMethod.POST,"/api/v1/app/{app_id}/integration/{integ_id}/key/rotate");return i.setPathParam("app_id",e),i.setPathParam("integ_id",t),i.setHeaderParam("idempotency-key",null==a?void 0:a.idempotencyKey),i.send(this.requestCtx,kh.IntegrationKeyOutSerializer._fromJsonObject)}};var zh={},Mh={};Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.ExpungeAllContentsOutSerializer=void 0;const qh=yp,Lh=bp;Mh.ExpungeAllContentsOutSerializer={_fromJsonObject:e=>({id:e.id,status:qh.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:Lh.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}),_toJsonObject:e=>({id:e.id,status:qh.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:Lh.BackgroundTaskTypeSerializer._toJsonObject(e.task)})};var Jh={};Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.ListResponseMessageOutSerializer=void 0;const Uh=Fp;Jh.ListResponseMessageOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>Uh.MessageOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>Uh.MessageOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})};var Bh={},Dh={};Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.PollingEndpointConsumerSeekInSerializer=void 0,Dh.PollingEndpointConsumerSeekInSerializer={_fromJsonObject:e=>({after:new Date(e.after)}),_toJsonObject:e=>({after:e.after})};var $h={};Object.defineProperty($h,"__esModule",{value:!0}),$h.PollingEndpointConsumerSeekOutSerializer=void 0,$h.PollingEndpointConsumerSeekOutSerializer={_fromJsonObject:e=>({iterator:e.iterator}),_toJsonObject:e=>({iterator:e.iterator})};var Nh={},Fh={};Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.PollingEndpointMessageOutSerializer=void 0,Fh.PollingEndpointMessageOutSerializer={_fromJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,headers:e.headers,id:e.id,payload:e.payload,tags:e.tags,timestamp:new Date(e.timestamp)}),_toJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,headers:e.headers,id:e.id,payload:e.payload,tags:e.tags,timestamp:e.timestamp})},Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.PollingEndpointOutSerializer=void 0;const Hh=Fh;Nh.PollingEndpointOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>Hh.PollingEndpointMessageOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator}),_toJsonObject:e=>({data:e.data.map(e=>Hh.PollingEndpointMessageOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator})},Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.MessagePoller=void 0;const Gh=Dh,Wh=$h,Qh=Nh,Kh=lu;Bh.MessagePoller=class{constructor(e){this.requestCtx=e}poll(e,t,a){const i=new Kh.SvixRequest(Kh.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}");return i.setPathParam("app_id",e),i.setPathParam("sink_id",t),i.setQueryParam("limit",null==a?void 0:a.limit),i.setQueryParam("iterator",null==a?void 0:a.iterator),i.setQueryParam("event_type",null==a?void 0:a.eventType),i.setQueryParam("channel",null==a?void 0:a.channel),i.setQueryParam("after",null==a?void 0:a.after),i.send(this.requestCtx,Qh.PollingEndpointOutSerializer._fromJsonObject)}consumerPoll(e,t,a,i){const n=new Kh.SvixRequest(Kh.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}");return n.setPathParam("app_id",e),n.setPathParam("sink_id",t),n.setPathParam("consumer_id",a),n.setQueryParam("limit",null==i?void 0:i.limit),n.setQueryParam("iterator",null==i?void 0:i.iterator),n.send(this.requestCtx,Qh.PollingEndpointOutSerializer._fromJsonObject)}consumerSeek(e,t,a,i,n){const r=new Kh.SvixRequest(Kh.HttpMethod.POST,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}/seek");return r.setPathParam("app_id",e),r.setPathParam("sink_id",t),r.setPathParam("consumer_id",a),r.setHeaderParam("idempotency-key",null==n?void 0:n.idempotencyKey),r.setBody(Gh.PollingEndpointConsumerSeekInSerializer._toJsonObject(i)),r.send(this.requestCtx,Wh.PollingEndpointConsumerSeekOutSerializer._fromJsonObject)}};var Vh={};Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.MessageInSerializer=void 0;const Yh=nu;Vh.MessageInSerializer={_fromJsonObject:e=>({application:e.application?Yh.ApplicationInSerializer._fromJsonObject(e.application):void 0,channels:e.channels,eventId:e.eventId,eventType:e.eventType,payload:e.payload,payloadRetentionHours:e.payloadRetentionHours,payloadRetentionPeriod:e.payloadRetentionPeriod,tags:e.tags,transformationsParams:e.transformationsParams}),_toJsonObject:e=>({application:e.application?Yh.ApplicationInSerializer._toJsonObject(e.application):void 0,channels:e.channels,eventId:e.eventId,eventType:e.eventType,payload:e.payload,payloadRetentionHours:e.payloadRetentionHours,payloadRetentionPeriod:e.payloadRetentionPeriod,tags:e.tags,transformationsParams:e.transformationsParams})},Object.defineProperty(zh,"__esModule",{value:!0}),zh.messageInRaw=zh.Message=void 0;const Zh=Mh,Xh=Jh,ev=Fp,tv=Bh,av=lu,iv=Vh;zh.Message=class{constructor(e){this.requestCtx=e}get poller(){return new tv.MessagePoller(this.requestCtx)}list(e,t){const a=new av.SvixRequest(av.HttpMethod.GET,"/api/v1/app/{app_id}/msg");return a.setPathParam("app_id",e),a.setQueryParam("limit",null==t?void 0:t.limit),a.setQueryParam("iterator",null==t?void 0:t.iterator),a.setQueryParam("channel",null==t?void 0:t.channel),a.setQueryParam("before",null==t?void 0:t.before),a.setQueryParam("after",null==t?void 0:t.after),a.setQueryParam("with_content",null==t?void 0:t.withContent),a.setQueryParam("tag",null==t?void 0:t.tag),a.setQueryParam("event_types",null==t?void 0:t.eventTypes),a.send(this.requestCtx,Xh.ListResponseMessageOutSerializer._fromJsonObject)}create(e,t,a){const i=new av.SvixRequest(av.HttpMethod.POST,"/api/v1/app/{app_id}/msg");return i.setPathParam("app_id",e),i.setQueryParam("with_content",null==a?void 0:a.withContent),i.setHeaderParam("idempotency-key",null==a?void 0:a.idempotencyKey),i.setBody(iv.MessageInSerializer._toJsonObject(t)),i.send(this.requestCtx,ev.MessageOutSerializer._fromJsonObject)}expungeAllContents(e,t){const a=new av.SvixRequest(av.HttpMethod.POST,"/api/v1/app/{app_id}/msg/expunge-all-contents");return a.setPathParam("app_id",e),a.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),a.send(this.requestCtx,Zh.ExpungeAllContentsOutSerializer._fromJsonObject)}get(e,t,a){const i=new av.SvixRequest(av.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}");return i.setPathParam("app_id",e),i.setPathParam("msg_id",t),i.setQueryParam("with_content",null==a?void 0:a.withContent),i.send(this.requestCtx,ev.MessageOutSerializer._fromJsonObject)}expungeContent(e,t){const a=new av.SvixRequest(av.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/content");return a.setPathParam("app_id",e),a.setPathParam("msg_id",t),a.sendNoResponseBody(this.requestCtx)}},zh.messageInRaw=function(e,t,a){return{eventType:e,payload:{},transformationsParams:{rawPayload:t,headers:a?{"content-type":a}:void 0}}};var nv={},rv={},ov={},sv={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageStatusSerializer=e.MessageStatus=void 0,(t=e.MessageStatus||(e.MessageStatus={}))[t.Success=0]="Success",t[t.Pending=1]="Pending",t[t.Fail=2]="Fail",t[t.Sending=3]="Sending",e.MessageStatusSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}}(sv);var cv={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageStatusTextSerializer=e.MessageStatusText=void 0,(t=e.MessageStatusText||(e.MessageStatusText={})).Success="success",t.Pending="pending",t.Fail="fail",t.Sending="sending",e.MessageStatusTextSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}}(cv),Object.defineProperty(ov,"__esModule",{value:!0}),ov.EndpointMessageOutSerializer=void 0;const lv=sv,uv=cv;ov.EndpointMessageOutSerializer={_fromJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,id:e.id,nextAttempt:e.nextAttempt?new Date(e.nextAttempt):null,payload:e.payload,status:lv.MessageStatusSerializer._fromJsonObject(e.status),statusText:uv.MessageStatusTextSerializer._fromJsonObject(e.statusText),tags:e.tags,timestamp:new Date(e.timestamp)}),_toJsonObject:e=>({channels:e.channels,eventId:e.eventId,eventType:e.eventType,id:e.id,nextAttempt:e.nextAttempt,payload:e.payload,status:lv.MessageStatusSerializer._toJsonObject(e.status),statusText:uv.MessageStatusTextSerializer._toJsonObject(e.statusText),tags:e.tags,timestamp:e.timestamp})},Object.defineProperty(rv,"__esModule",{value:!0}),rv.ListResponseEndpointMessageOutSerializer=void 0;const pv=ov;rv.ListResponseEndpointMessageOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>pv.EndpointMessageOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>pv.EndpointMessageOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})};var dv={},mv={},fv={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageAttemptTriggerTypeSerializer=e.MessageAttemptTriggerType=void 0,(t=e.MessageAttemptTriggerType||(e.MessageAttemptTriggerType={}))[t.Scheduled=0]="Scheduled",t[t.Manual=1]="Manual",e.MessageAttemptTriggerTypeSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}}(fv),Object.defineProperty(mv,"__esModule",{value:!0}),mv.MessageAttemptOutSerializer=void 0;const hv=fv,vv=Fp,gv=sv,yv=cv;mv.MessageAttemptOutSerializer={_fromJsonObject:e=>({endpointId:e.endpointId,id:e.id,msg:e.msg?vv.MessageOutSerializer._fromJsonObject(e.msg):void 0,msgId:e.msgId,response:e.response,responseDurationMs:e.responseDurationMs,responseStatusCode:e.responseStatusCode,status:gv.MessageStatusSerializer._fromJsonObject(e.status),statusText:yv.MessageStatusTextSerializer._fromJsonObject(e.statusText),timestamp:new Date(e.timestamp),triggerType:hv.MessageAttemptTriggerTypeSerializer._fromJsonObject(e.triggerType),url:e.url}),_toJsonObject:e=>({endpointId:e.endpointId,id:e.id,msg:e.msg?vv.MessageOutSerializer._toJsonObject(e.msg):void 0,msgId:e.msgId,response:e.response,responseDurationMs:e.responseDurationMs,responseStatusCode:e.responseStatusCode,status:gv.MessageStatusSerializer._toJsonObject(e.status),statusText:yv.MessageStatusTextSerializer._toJsonObject(e.statusText),timestamp:e.timestamp,triggerType:hv.MessageAttemptTriggerTypeSerializer._toJsonObject(e.triggerType),url:e.url})},Object.defineProperty(dv,"__esModule",{value:!0}),dv.ListResponseMessageAttemptOutSerializer=void 0;const bv=mv;dv.ListResponseMessageAttemptOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>bv.MessageAttemptOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>bv.MessageAttemptOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})};var _v={},xv={};Object.defineProperty(xv,"__esModule",{value:!0}),xv.MessageEndpointOutSerializer=void 0;const wv=sv,Pv=cv;xv.MessageEndpointOutSerializer={_fromJsonObject:e=>({channels:e.channels,createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,nextAttempt:e.nextAttempt?new Date(e.nextAttempt):null,rateLimit:e.rateLimit,status:wv.MessageStatusSerializer._fromJsonObject(e.status),statusText:Pv.MessageStatusTextSerializer._fromJsonObject(e.statusText),uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url,version:e.version}),_toJsonObject:e=>({channels:e.channels,createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,nextAttempt:e.nextAttempt,rateLimit:e.rateLimit,status:wv.MessageStatusSerializer._toJsonObject(e.status),statusText:Pv.MessageStatusTextSerializer._toJsonObject(e.statusText),uid:e.uid,updatedAt:e.updatedAt,url:e.url,version:e.version})},Object.defineProperty(_v,"__esModule",{value:!0}),_v.ListResponseMessageEndpointOutSerializer=void 0;const Sv=xv;_v.ListResponseMessageEndpointOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>Sv.MessageEndpointOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>Sv.MessageEndpointOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})},Object.defineProperty(nv,"__esModule",{value:!0}),nv.MessageAttempt=void 0;const Ov=rv,jv=dv,Tv=_v,Ev=mv,kv=lu;nv.MessageAttempt=class{constructor(e){this.requestCtx=e}listByEndpoint(e,t,a){const i=new kv.SvixRequest(kv.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/endpoint/{endpoint_id}");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setQueryParam("limit",null==a?void 0:a.limit),i.setQueryParam("iterator",null==a?void 0:a.iterator),i.setQueryParam("status",null==a?void 0:a.status),i.setQueryParam("status_code_class",null==a?void 0:a.statusCodeClass),i.setQueryParam("channel",null==a?void 0:a.channel),i.setQueryParam("tag",null==a?void 0:a.tag),i.setQueryParam("before",null==a?void 0:a.before),i.setQueryParam("after",null==a?void 0:a.after),i.setQueryParam("with_content",null==a?void 0:a.withContent),i.setQueryParam("with_msg",null==a?void 0:a.withMsg),i.setQueryParam("event_types",null==a?void 0:a.eventTypes),i.send(this.requestCtx,jv.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listByMsg(e,t,a){const i=new kv.SvixRequest(kv.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/msg/{msg_id}");return i.setPathParam("app_id",e),i.setPathParam("msg_id",t),i.setQueryParam("limit",null==a?void 0:a.limit),i.setQueryParam("iterator",null==a?void 0:a.iterator),i.setQueryParam("status",null==a?void 0:a.status),i.setQueryParam("status_code_class",null==a?void 0:a.statusCodeClass),i.setQueryParam("channel",null==a?void 0:a.channel),i.setQueryParam("tag",null==a?void 0:a.tag),i.setQueryParam("endpoint_id",null==a?void 0:a.endpointId),i.setQueryParam("before",null==a?void 0:a.before),i.setQueryParam("after",null==a?void 0:a.after),i.setQueryParam("with_content",null==a?void 0:a.withContent),i.setQueryParam("event_types",null==a?void 0:a.eventTypes),i.send(this.requestCtx,jv.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listAttemptedMessages(e,t,a){const i=new kv.SvixRequest(kv.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/msg");return i.setPathParam("app_id",e),i.setPathParam("endpoint_id",t),i.setQueryParam("limit",null==a?void 0:a.limit),i.setQueryParam("iterator",null==a?void 0:a.iterator),i.setQueryParam("channel",null==a?void 0:a.channel),i.setQueryParam("tag",null==a?void 0:a.tag),i.setQueryParam("status",null==a?void 0:a.status),i.setQueryParam("before",null==a?void 0:a.before),i.setQueryParam("after",null==a?void 0:a.after),i.setQueryParam("with_content",null==a?void 0:a.withContent),i.setQueryParam("event_types",null==a?void 0:a.eventTypes),i.send(this.requestCtx,Ov.ListResponseEndpointMessageOutSerializer._fromJsonObject)}get(e,t,a){const i=new kv.SvixRequest(kv.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}");return i.setPathParam("app_id",e),i.setPathParam("msg_id",t),i.setPathParam("attempt_id",a),i.send(this.requestCtx,Ev.MessageAttemptOutSerializer._fromJsonObject)}expungeContent(e,t,a){const i=new kv.SvixRequest(kv.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}/content");return i.setPathParam("app_id",e),i.setPathParam("msg_id",t),i.setPathParam("attempt_id",a),i.sendNoResponseBody(this.requestCtx)}listAttemptedDestinations(e,t,a){const i=new kv.SvixRequest(kv.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint");return i.setPathParam("app_id",e),i.setPathParam("msg_id",t),i.setQueryParam("limit",null==a?void 0:a.limit),i.setQueryParam("iterator",null==a?void 0:a.iterator),i.send(this.requestCtx,Tv.ListResponseMessageEndpointOutSerializer._fromJsonObject)}resend(e,t,a,i){const n=new kv.SvixRequest(kv.HttpMethod.POST,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint/{endpoint_id}/resend");return n.setPathParam("app_id",e),n.setPathParam("msg_id",t),n.setPathParam("endpoint_id",a),n.setHeaderParam("idempotency-key",null==i?void 0:i.idempotencyKey),n.sendNoResponseBody(this.requestCtx)}};var Av={},Cv={},Iv={},Rv={};Object.defineProperty(Rv,"__esModule",{value:!0}),Rv.OperationalWebhookEndpointOutSerializer=void 0,Rv.OperationalWebhookEndpointOutSerializer={_fromJsonObject:e=>({createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url}),_toJsonObject:e=>({createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url})},Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.ListResponseOperationalWebhookEndpointOutSerializer=void 0;const zv=Rv;Iv.ListResponseOperationalWebhookEndpointOutSerializer={_fromJsonObject:e=>({data:e.data.map(e=>zv.OperationalWebhookEndpointOutSerializer._fromJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}),_toJsonObject:e=>({data:e.data.map(e=>zv.OperationalWebhookEndpointOutSerializer._toJsonObject(e)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator})};var Mv={};Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.OperationalWebhookEndpointHeadersInSerializer=void 0,Mv.OperationalWebhookEndpointHeadersInSerializer={_fromJsonObject:e=>({headers:e.headers}),_toJsonObject:e=>({headers:e.headers})};var qv={};Object.defineProperty(qv,"__esModule",{value:!0}),qv.OperationalWebhookEndpointHeadersOutSerializer=void 0,qv.OperationalWebhookEndpointHeadersOutSerializer={_fromJsonObject:e=>({headers:e.headers,sensitive:e.sensitive}),_toJsonObject:e=>({headers:e.headers,sensitive:e.sensitive})};var Lv={};Object.defineProperty(Lv,"__esModule",{value:!0}),Lv.OperationalWebhookEndpointInSerializer=void 0,Lv.OperationalWebhookEndpointInSerializer={_fromJsonObject:e=>({description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}),_toJsonObject:e=>({description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url})};var Jv={};Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.OperationalWebhookEndpointSecretInSerializer=void 0,Jv.OperationalWebhookEndpointSecretInSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})};var Uv={};Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.OperationalWebhookEndpointSecretOutSerializer=void 0,Uv.OperationalWebhookEndpointSecretOutSerializer={_fromJsonObject:e=>({key:e.key}),_toJsonObject:e=>({key:e.key})};var Bv={};Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.OperationalWebhookEndpointUpdateSerializer=void 0,Bv.OperationalWebhookEndpointUpdateSerializer={_fromJsonObject:e=>({description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}),_toJsonObject:e=>({description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url})},Object.defineProperty(Cv,"__esModule",{value:!0}),Cv.OperationalWebhookEndpoint=void 0;const Dv=Iv,$v=Mv,Nv=qv,Fv=Lv,Hv=Rv,Gv=Jv,Wv=Uv,Qv=Bv,Kv=lu;Cv.OperationalWebhookEndpoint=class{constructor(e){this.requestCtx=e}list(e){const t=new Kv.SvixRequest(Kv.HttpMethod.GET,"/api/v1/operational-webhook/endpoint");return t.setQueryParam("limit",null==e?void 0:e.limit),t.setQueryParam("iterator",null==e?void 0:e.iterator),t.setQueryParam("order",null==e?void 0:e.order),t.send(this.requestCtx,Dv.ListResponseOperationalWebhookEndpointOutSerializer._fromJsonObject)}create(e,t){const a=new Kv.SvixRequest(Kv.HttpMethod.POST,"/api/v1/operational-webhook/endpoint");return a.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),a.setBody(Fv.OperationalWebhookEndpointInSerializer._toJsonObject(e)),a.send(this.requestCtx,Hv.OperationalWebhookEndpointOutSerializer._fromJsonObject)}get(e){const t=new Kv.SvixRequest(Kv.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return t.setPathParam("endpoint_id",e),t.send(this.requestCtx,Hv.OperationalWebhookEndpointOutSerializer._fromJsonObject)}update(e,t){const a=new Kv.SvixRequest(Kv.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return a.setPathParam("endpoint_id",e),a.setBody(Qv.OperationalWebhookEndpointUpdateSerializer._toJsonObject(t)),a.send(this.requestCtx,Hv.OperationalWebhookEndpointOutSerializer._fromJsonObject)}delete(e){const t=new Kv.SvixRequest(Kv.HttpMethod.DELETE,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return t.setPathParam("endpoint_id",e),t.sendNoResponseBody(this.requestCtx)}getHeaders(e){const t=new Kv.SvixRequest(Kv.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return t.setPathParam("endpoint_id",e),t.send(this.requestCtx,Nv.OperationalWebhookEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(e,t){const a=new Kv.SvixRequest(Kv.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return a.setPathParam("endpoint_id",e),a.setBody($v.OperationalWebhookEndpointHeadersInSerializer._toJsonObject(t)),a.sendNoResponseBody(this.requestCtx)}getSecret(e){const t=new Kv.SvixRequest(Kv.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret");return t.setPathParam("endpoint_id",e),t.send(this.requestCtx,Wv.OperationalWebhookEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(e,t,a){const i=new Kv.SvixRequest(Kv.HttpMethod.POST,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret/rotate");return i.setPathParam("endpoint_id",e),i.setHeaderParam("idempotency-key",null==a?void 0:a.idempotencyKey),i.setBody(Gv.OperationalWebhookEndpointSecretInSerializer._toJsonObject(t)),i.sendNoResponseBody(this.requestCtx)}},Object.defineProperty(Av,"__esModule",{value:!0}),Av.OperationalWebhook=void 0;const Vv=Cv;Av.OperationalWebhook=class{constructor(e){this.requestCtx=e}get endpoint(){return new Vv.OperationalWebhookEndpoint(this.requestCtx)}};var Yv={},Zv={};Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.AggregateEventTypesOutSerializer=void 0;const Xv=yp,eg=bp;Zv.AggregateEventTypesOutSerializer={_fromJsonObject:e=>({id:e.id,status:Xv.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:eg.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}),_toJsonObject:e=>({id:e.id,status:Xv.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:eg.BackgroundTaskTypeSerializer._toJsonObject(e.task)})};var tg={};Object.defineProperty(tg,"__esModule",{value:!0}),tg.AppUsageStatsInSerializer=void 0,tg.AppUsageStatsInSerializer={_fromJsonObject:e=>({appIds:e.appIds,since:new Date(e.since),until:new Date(e.until)}),_toJsonObject:e=>({appIds:e.appIds,since:e.since,until:e.until})};var ag={};Object.defineProperty(ag,"__esModule",{value:!0}),ag.AppUsageStatsOutSerializer=void 0;const ig=yp,ng=bp;ag.AppUsageStatsOutSerializer={_fromJsonObject:e=>({id:e.id,status:ig.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:ng.BackgroundTaskTypeSerializer._fromJsonObject(e.task),unresolvedAppIds:e.unresolvedAppIds}),_toJsonObject:e=>({id:e.id,status:ig.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:ng.BackgroundTaskTypeSerializer._toJsonObject(e.task),unresolvedAppIds:e.unresolvedAppIds})},Object.defineProperty(Yv,"__esModule",{value:!0}),Yv.Statistics=void 0;const rg=Zv,og=tg,sg=ag,cg=lu;Yv.Statistics=class{constructor(e){this.requestCtx=e}aggregateAppStats(e,t){const a=new cg.SvixRequest(cg.HttpMethod.POST,"/api/v1/stats/usage/app");return a.setHeaderParam("idempotency-key",null==t?void 0:t.idempotencyKey),a.setBody(og.AppUsageStatsInSerializer._toJsonObject(e)),a.send(this.requestCtx,sg.AppUsageStatsOutSerializer._fromJsonObject)}aggregateEventTypes(){return new cg.SvixRequest(cg.HttpMethod.PUT,"/api/v1/stats/usage/event-types").send(this.requestCtx,rg.AggregateEventTypesOutSerializer._fromJsonObject)}};var lg={};Object.defineProperty(lg,"__esModule",{value:!0}),lg.HTTPValidationError=lg.ValidationError=lg.HttpErrorOut=void 0;class ug{static getAttributeTypeMap(){return ug.attributeTypeMap}}lg.HttpErrorOut=ug,ug.discriminator=void 0,ug.mapping=void 0,ug.attributeTypeMap=[{name:"code",baseName:"code",type:"string",format:""},{name:"detail",baseName:"detail",type:"string",format:""}];class pg{static getAttributeTypeMap(){return pg.attributeTypeMap}}lg.ValidationError=pg,pg.discriminator=void 0,pg.mapping=void 0,pg.attributeTypeMap=[{name:"loc",baseName:"loc",type:"Array<string>",format:""},{name:"msg",baseName:"msg",type:"string",format:""},{name:"type",baseName:"type",type:"string",format:""}];class dg{static getAttributeTypeMap(){return dg.attributeTypeMap}}lg.HTTPValidationError=dg,dg.discriminator=void 0,dg.mapping=void 0,dg.attributeTypeMap=[{name:"detail",baseName:"detail",type:"Array<ValidationError>",format:""}];var mg={},fg={};function hg(e,t=""){if(!e)throw new Error(t)}Object.defineProperty(fg,"__esModule",{value:!0}),fg.timingSafeEqual=void 0,fg.timingSafeEqual=function(e,t){if(e.byteLength!==t.byteLength)return!1;e instanceof DataView||(e=new DataView(ArrayBuffer.isView(e)?e.buffer:e)),t instanceof DataView||(t=new DataView(ArrayBuffer.isView(t)?t.buffer:t)),hg(e instanceof DataView),hg(t instanceof DataView);const a=e.byteLength;let i=0,n=-1;for(;++n<a;)i|=e.getUint8(n)^t.getUint8(n);return 0===i};var vg,gg={},yg=k&&k.__extends||(vg=function(e,t){return vg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},vg(e,t)},function(e,t){function a(){this.constructor=e}vg(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(gg,"__esModule",{value:!0});var bg=256,_g=function(){function e(e){void 0===e&&(e="="),this._paddingCharacter=e}return e.prototype.encodedLength=function(e){return this._paddingCharacter?(e+2)/3*4|0:(8*e+5)/6|0},e.prototype.encode=function(e){for(var t="",a=0;a<e.length-2;a+=3){var i=e[a]<<16|e[a+1]<<8|e[a+2];t+=this._encodeByte(i>>>18&63),t+=this._encodeByte(i>>>12&63),t+=this._encodeByte(i>>>6&63),t+=this._encodeByte(i>>>0&63)}var n=e.length-a;if(n>0){i=e[a]<<16|(2===n?e[a+1]<<8:0);t+=this._encodeByte(i>>>18&63),t+=this._encodeByte(i>>>12&63),t+=2===n?this._encodeByte(i>>>6&63):this._paddingCharacter||"",t+=this._paddingCharacter||""}return t},e.prototype.maxDecodedLength=function(e){return this._paddingCharacter?e/4*3|0:(6*e+7)/8|0},e.prototype.decodedLength=function(e){return this.maxDecodedLength(e.length-this._getPaddingLength(e))},e.prototype.decode=function(e){if(0===e.length)return new Uint8Array(0);for(var t=this._getPaddingLength(e),a=e.length-t,i=new Uint8Array(this.maxDecodedLength(a)),n=0,r=0,o=0,s=0,c=0,l=0,u=0;r<a-4;r+=4)s=this._decodeChar(e.charCodeAt(r+0)),c=this._decodeChar(e.charCodeAt(r+1)),l=this._decodeChar(e.charCodeAt(r+2)),u=this._decodeChar(e.charCodeAt(r+3)),i[n++]=s<<2|c>>>4,i[n++]=c<<4|l>>>2,i[n++]=l<<6|u,o|=s&bg,o|=c&bg,o|=l&bg,o|=u&bg;if(r<a-1&&(s=this._decodeChar(e.charCodeAt(r)),c=this._decodeChar(e.charCodeAt(r+1)),i[n++]=s<<2|c>>>4,o|=s&bg,o|=c&bg),r<a-2&&(l=this._decodeChar(e.charCodeAt(r+2)),i[n++]=c<<4|l>>>2,o|=l&bg),r<a-3&&(u=this._decodeChar(e.charCodeAt(r+3)),i[n++]=l<<6|u,o|=u&bg),0!==o)throw new Error("Base64Coder: incorrect characters for decoding");return i},e.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-15,t+=62-e>>>8&3,String.fromCharCode(t)},e.prototype._decodeChar=function(e){var t=bg;return t+=(42-e&e-44)>>>8&-256+e-43+62,t+=(46-e&e-48)>>>8&-256+e-47+63,t+=(47-e&e-58)>>>8&-256+e-48+52,t+=(64-e&e-91)>>>8&-256+e-65+0,t+=(96-e&e-123)>>>8&-256+e-97+26},e.prototype._getPaddingLength=function(e){var t=0;if(this._paddingCharacter){for(var a=e.length-1;a>=0&&e[a]===this._paddingCharacter;a--)t++;if(e.length<4||t>2)throw new Error("Base64Coder: incorrect padding")}return t},e}();gg.Coder=_g;var xg=new _g;gg.encode=function(e){return xg.encode(e)},gg.decode=function(e){return xg.decode(e)};var wg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yg(t,e),t.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-13,t+=62-e>>>8&49,String.fromCharCode(t)},t.prototype._decodeChar=function(e){var t=bg;return t+=(44-e&e-46)>>>8&-256+e-45+62,t+=(94-e&e-96)>>>8&-256+e-95+63,t+=(47-e&e-58)>>>8&-256+e-48+52,t+=(64-e&e-91)>>>8&-256+e-65+0,t+=(96-e&e-123)>>>8&-256+e-97+26},t}(_g);gg.URLSafeCoder=wg;var Pg=new wg;gg.encodeURLSafe=function(e){return Pg.encode(e)},gg.decodeURLSafe=function(e){return Pg.decode(e)},gg.encodedLength=function(e){return xg.encodedLength(e)},gg.maxDecodedLength=function(e){return xg.maxDecodedLength(e)},gg.decodedLength=function(e){return xg.decodedLength(e)};var Sg,Og={exports:{}};Sg=Og,function(){var e={};!function(e){e.__esModule=!0,e.digestLength=32,e.blockSize=64;var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(e,a,i,n,r){for(var o,s,c,l,u,p,d,m,f,h,v,g,y;r>=64;){for(o=a[0],s=a[1],c=a[2],l=a[3],u=a[4],p=a[5],d=a[6],m=a[7],h=0;h<16;h++)v=n+4*h,e[h]=(255&i[v])<<24|(255&i[v+1])<<16|(255&i[v+2])<<8|255&i[v+3];for(h=16;h<64;h++)g=((f=e[h-2])>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,y=((f=e[h-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3,e[h]=(g+e[h-7]|0)+(y+e[h-16]|0);for(h=0;h<64;h++)g=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&p^~u&d)|0)+(m+(t[h]+e[h]|0)|0)|0,y=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&s^o&c^s&c)|0,m=d,d=p,p=u,u=l+g|0,l=c,c=s,s=o,o=g+y|0;a[0]+=o,a[1]+=s,a[2]+=c,a[3]+=l,a[4]+=u,a[5]+=p,a[6]+=d,a[7]+=m,n+=64,r-=64}return n}var i=function(){function t(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return t.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},t.prototype.clean=function(){for(var e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()},t.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var i=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[i++],t--;64===this.bufferLength&&(a(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(i=a(this.temp,this.state,e,i,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[i++],t--;return this},t.prototype.finish=function(e){if(!this.finished){var t=this.bytesHashed,i=this.bufferLength,n=t/536870912|0,r=t<<3,o=t%64<56?64:128;this.buffer[i]=128;for(var s=i+1;s<o-8;s++)this.buffer[s]=0;this.buffer[o-8]=n>>>24&255,this.buffer[o-7]=n>>>16&255,this.buffer[o-6]=n>>>8&255,this.buffer[o-5]=n>>>0&255,this.buffer[o-4]=r>>>24&255,this.buffer[o-3]=r>>>16&255,this.buffer[o-2]=r>>>8&255,this.buffer[o-1]=r>>>0&255,a(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(s=0;s<8;s++)e[4*s+0]=this.state[s]>>>24&255,e[4*s+1]=this.state[s]>>>16&255,e[4*s+2]=this.state[s]>>>8&255,e[4*s+3]=this.state[s]>>>0&255;return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype._saveState=function(e){for(var t=0;t<this.state.length;t++)e[t]=this.state[t]},t.prototype._restoreState=function(e,t){for(var a=0;a<this.state.length;a++)this.state[a]=e[a];this.bytesHashed=t,this.finished=!1,this.bufferLength=0},t}();e.Hash=i;var n=function(){function e(e){this.inner=new i,this.outer=new i,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var t=new Uint8Array(this.blockSize);if(e.length>this.blockSize)(new i).update(e).finish(t).clean();else for(var a=0;a<e.length;a++)t[a]=e[a];for(a=0;a<t.length;a++)t[a]^=54;for(this.inner.update(t),a=0;a<t.length;a++)t[a]^=106;for(this.outer.update(t),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),a=0;a<t.length;a++)t[a]=0}return e.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},e.prototype.clean=function(){for(var e=0;e<this.istate.length;e++)this.ostate[e]=this.istate[e]=0;this.inner.clean(),this.outer.clean()},e.prototype.update=function(e){return this.inner.update(e),this},e.prototype.finish=function(e){return this.outer.finished?this.outer.finish(e):(this.inner.finish(e),this.outer.update(e,this.digestLength).finish(e)),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e}();function r(e){var t=(new i).update(e),a=t.digest();return t.clean(),a}function o(e,t){var a=new n(e).update(t),i=a.digest();return a.clean(),i}function s(e,t,a,i){var n=i[0];if(0===n)throw new Error("hkdf: cannot expand more");t.reset(),n>1&&t.update(e),a&&t.update(a),t.update(i),t.finish(e),i[0]++}e.HMAC=n,e.hash=r,e.default=r,e.hmac=o;var c=new Uint8Array(e.digestLength);function l(e,t,a,i){void 0===t&&(t=c),void 0===i&&(i=32);for(var r=new Uint8Array([1]),l=o(t,e),u=new n(l),p=new Uint8Array(u.digestLength),d=p.length,m=new Uint8Array(i),f=0;f<i;f++)d===p.length&&(s(p,u,a,r),d=0),m[f]=p[d++];return u.clean(),p.fill(0),r.fill(0),m}function u(e,t,a,i){for(var r=new n(e),o=r.digestLength,s=new Uint8Array(4),c=new Uint8Array(o),l=new Uint8Array(o),u=new Uint8Array(i),p=0;p*o<i;p++){var d=p+1;s[0]=d>>>24&255,s[1]=d>>>16&255,s[2]=d>>>8&255,s[3]=d>>>0&255,r.reset(),r.update(t),r.update(s),r.finish(l);for(var m=0;m<o;m++)c[m]=l[m];for(m=2;m<=a;m++){r.reset(),r.update(l).finish(l);for(var f=0;f<o;f++)c[f]^=l[f]}for(m=0;m<o&&p*o+m<i;m++)u[p*o+m]=c[m]}for(p=0;p<o;p++)c[p]=l[p]=0;for(p=0;p<4;p++)s[p]=0;return r.clean(),u}e.hkdf=l,e.pbkdf2=u}(e);var t=e.default;for(var a in e)t[a]=e[a];Sg.exports=t}();var jg=Og.exports;Object.defineProperty(mg,"__esModule",{value:!0}),mg.Webhook=mg.WebhookVerificationError=void 0;const Tg=fg,Eg=gg,kg=jg;class Ag extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Ag.prototype),this.name="ExtendableError",this.stack=new Error(e).stack}}class Cg extends Ag{constructor(e){super(e),Object.setPrototypeOf(this,Cg.prototype),this.name="WebhookVerificationError"}}mg.WebhookVerificationError=Cg;class Ig{constructor(e,t){if(!e)throw new Error("Secret can't be empty.");if("raw"===(null==t?void 0:t.format))e instanceof Uint8Array?this.key=e:this.key=Uint8Array.from(e,e=>e.charCodeAt(0));else{if("string"!=typeof e)throw new Error("Expected secret to be of type string");e.startsWith(Ig.prefix)&&(e=e.substring(Ig.prefix.length)),this.key=Eg.decode(e)}}verify(e,t){const a={};for(const e of Object.keys(t))a[e.toLowerCase()]=t[e];let i=a["svix-id"],n=a["svix-signature"],r=a["svix-timestamp"];if(!(n&&i&&r||(i=a["webhook-id"],n=a["webhook-signature"],r=a["webhook-timestamp"],n&&i&&r)))throw new Cg("Missing required headers");const o=this.verifyTimestamp(r),s=this.sign(i,o,e).split(",")[1],c=n.split(" "),l=new globalThis.TextEncoder;for(const t of c){const[a,i]=t.split(",");if("v1"===a&&(0,Tg.timingSafeEqual)(l.encode(i),l.encode(s)))return JSON.parse(e.toString())}throw new Cg("No matching signature found")}sign(e,t,a){if("string"==typeof a);else{if("Buffer"!==a.constructor.name)throw new Error("Expected payload to be of type string or Buffer. Please refer to https://docs.svix.com/receiving/verifying-payloads/how for more information.");a=a.toString()}const i=new TextEncoder,n=Math.floor(t.getTime()/1e3),r=i.encode(`${e}.${n}.${a}`);return`v1,${Eg.encode(kg.hmac(this.key,r))}`}verifyTimestamp(e){const t=Math.floor(Date.now()/1e3),a=parseInt(e,10);if(isNaN(a))throw new Cg("Invalid Signature Headers");if(t-a>300)throw new Cg("Message timestamp too old");if(a>t+300)throw new Cg("Message timestamp too new");return new Date(1e3*a)}}mg.Webhook=Ig,Ig.prefix="whsec_";var Rg={},zg={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.EndpointDisabledTriggerSerializer=e.EndpointDisabledTrigger=void 0,(t=e.EndpointDisabledTrigger||(e.EndpointDisabledTrigger={})).Manual="manual",t.Automatic="automatic",e.EndpointDisabledTriggerSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}}(zg);var Mg={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.OrderingSerializer=e.Ordering=void 0,(t=e.Ordering||(e.Ordering={})).Ascending="ascending",t.Descending="descending",e.OrderingSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}}(Mg);var qg={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.StatusCodeClassSerializer=e.StatusCodeClass=void 0,(t=e.StatusCodeClass||(e.StatusCodeClass={}))[t.CodeNone=0]="CodeNone",t[t.Code1xx=100]="Code1xx",t[t.Code2xx=200]="Code2xx",t[t.Code3xx=300]="Code3xx",t[t.Code4xx=400]="Code4xx",t[t.Code5xx=500]="Code5xx",e.StatusCodeClassSerializer={_fromJsonObject:e=>e,_toJsonObject:e=>e}}(qg),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StatusCodeClass=e.Ordering=e.MessageStatusText=e.MessageStatus=e.MessageAttemptTriggerType=e.EndpointDisabledTrigger=e.ConnectorKind=e.BackgroundTaskType=e.BackgroundTaskStatus=e.AppPortalCapability=void 0;var t=rp;Object.defineProperty(e,"AppPortalCapability",{enumerable:!0,get:function(){return t.AppPortalCapability}});var a=yp;Object.defineProperty(e,"BackgroundTaskStatus",{enumerable:!0,get:function(){return a.BackgroundTaskStatus}});var i=bp;Object.defineProperty(e,"BackgroundTaskType",{enumerable:!0,get:function(){return i.BackgroundTaskType}});var n=Pd;Object.defineProperty(e,"ConnectorKind",{enumerable:!0,get:function(){return n.ConnectorKind}});var r=zg;Object.defineProperty(e,"EndpointDisabledTrigger",{enumerable:!0,get:function(){return r.EndpointDisabledTrigger}});var o=fv;Object.defineProperty(e,"MessageAttemptTriggerType",{enumerable:!0,get:function(){return o.MessageAttemptTriggerType}});var s=sv;Object.defineProperty(e,"MessageStatus",{enumerable:!0,get:function(){return s.MessageStatus}});var c=cv;Object.defineProperty(e,"MessageStatusText",{enumerable:!0,get:function(){return c.MessageStatusText}});var l=Mg;Object.defineProperty(e,"Ordering",{enumerable:!0,get:function(){return l.Ordering}});var u=qg;Object.defineProperty(e,"StatusCodeClass",{enumerable:!0,get:function(){return u.StatusCodeClass}})}(Rg),function(e){var t=k&&k.__createBinding||(Object.create?function(e,t,a,i){void 0===i&&(i=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,i,n)}:function(e,t,a,i){void 0===i&&(i=a),e[i]=t[a]}),a=k&&k.__exportStar||function(e,a){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(a,i)||t(a,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.Svix=e.messageInRaw=e.ValidationError=e.HttpErrorOut=e.HTTPValidationError=e.ApiException=void 0;const i=iu,n=ip,r=vp,o=Tp,s=_d,c=Ld,l=am,u=nm,p=xh,d=zh,m=nv,f=Av,h=Yv,v=Cv;var g=uu;Object.defineProperty(e,"ApiException",{enumerable:!0,get:function(){return g.ApiException}});var y=lg;Object.defineProperty(e,"HTTPValidationError",{enumerable:!0,get:function(){return y.HTTPValidationError}}),Object.defineProperty(e,"HttpErrorOut",{enumerable:!0,get:function(){return y.HttpErrorOut}}),Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return y.ValidationError}}),a(mg,e),a(Rg,e);var b=zh;Object.defineProperty(e,"messageInRaw",{enumerable:!0,get:function(){return b.messageInRaw}});const _=[{region:"us",url:"https://api.us.svix.com"},{region:"eu",url:"https://api.eu.svix.com"},{region:"in",url:"https://api.in.svix.com"},{region:"ca",url:"https://api.ca.svix.com"},{region:"au",url:"https://api.au.svix.com"}];e.Svix=class{constructor(e,t={}){var a,i,n;const r=null===(a=_.find(t=>t.region===e.split(".")[1]))||void 0===a?void 0:a.url,o=null!==(n=null!==(i=t.serverUrl)&&void 0!==i?i:r)&&void 0!==n?n:"https://api.svix.com";t.retryScheduleInMs?this.requestCtx={baseUrl:o,token:e,timeout:t.requestTimeout,retryScheduleInMs:t.retryScheduleInMs}:t.numRetries?this.requestCtx={baseUrl:o,token:e,timeout:t.requestTimeout,numRetries:t.numRetries}:this.requestCtx={baseUrl:o,token:e,timeout:t.requestTimeout}}get application(){return new i.Application(this.requestCtx)}get authentication(){return new n.Authentication(this.requestCtx)}get backgroundTask(){return new r.BackgroundTask(this.requestCtx)}get endpoint(){return new o.Endpoint(this.requestCtx)}get environment(){return new s.Environment(this.requestCtx)}get eventType(){return new c.EventType(this.requestCtx)}get health(){return new l.Health(this.requestCtx)}get ingest(){return new u.Ingest(this.requestCtx)}get integration(){return new p.Integration(this.requestCtx)}get message(){return new d.Message(this.requestCtx)}get messageAttempt(){return new m.MessageAttempt(this.requestCtx)}get operationalWebhook(){return new f.OperationalWebhook(this.requestCtx)}get statistics(){return new h.Statistics(this.requestCtx)}get operationalWebhookEndpoint(){return new v.OperationalWebhookEndpoint(this.requestCtx)}}}(au);function Lg(e){const t=new URLSearchParams;return void 0!==e.limit&&t.set("limit",e.limit.toString()),"after"in e&&void 0!==e.after&&t.set("after",e.after),"before"in e&&void 0!==e.before&&t.set("before",e.before),t.toString()}var Jg=class{constructor(e){this.resend=e}async create(e,t={}){return await this.resend.post("/api-keys",e,t)}async list(e={}){const t=Lg(e),a=t?`/api-keys?${t}`:"/api-keys";return await this.resend.get(a)}async remove(e){return await this.resend.delete(`/api-keys/${e}`)}};function Ug(e){return{attachments:(t=e.attachments,t?.map(e=>({content:e.content,filename:e.filename,path:e.path,content_type:e.contentType,content_id:e.contentId}))),bcc:e.bcc,cc:e.cc,from:e.from,headers:e.headers,html:e.html,reply_to:e.replyTo,scheduled_at:e.scheduledAt,subject:e.subject,tags:e.tags,text:e.text,to:e.to,template:e.template?{id:e.template.id,variables:e.template.variables}:void 0,topic_id:e.topicId};var t}async function Bg(e){let t;try{({render:t}=await import("@react-email/render"))}catch{throw new Error("Failed to render React component. Make sure to install `@react-email/render` or `@react-email/components`.")}return t(e)}var Dg=class{constructor(e){this.resend=e}async send(e,t){return this.create(e,t)}async create(e,t){const a=[];for(const t of e)t.react&&(t.html=await Bg(t.react),t.react=void 0),a.push(Ug(t));return await this.resend.post("/emails/batch",a,{...t,headers:{"x-batch-validation":t?.batchValidation??"strict",...t?.headers}})}},$g=class{constructor(e){this.resend=e}async create(e,t={}){return e.react&&(e.html=await Bg(e.react)),await this.resend.post("/broadcasts",{name:e.name,segment_id:e.segmentId,audience_id:e.audienceId,preview_text:e.previewText,from:e.from,html:e.html,reply_to:e.replyTo,subject:e.subject,text:e.text,topic_id:e.topicId},t)}async send(e,t){return await this.resend.post(`/broadcasts/${e}/send`,{scheduled_at:t?.scheduledAt})}async list(e={}){const t=Lg(e),a=t?`/broadcasts?${t}`:"/broadcasts";return await this.resend.get(a)}async get(e){return await this.resend.get(`/broadcasts/${e}`)}async remove(e){return await this.resend.delete(`/broadcasts/${e}`)}async update(e,t){return t.react&&(t.html=await Bg(t.react)),await this.resend.patch(`/broadcasts/${e}`,{name:t.name,segment_id:t.segmentId,audience_id:t.audienceId,from:t.from,html:t.html,text:t.text,subject:t.subject,reply_to:t.replyTo,preview_text:t.previewText,topic_id:t.topicId})}};function Ng(e){return{id:e.id,key:e.key,createdAt:e.created_at,type:e.type,fallbackValue:e.fallback_value}}function Fg(e){return"key"in e?{key:e.key,type:e.type,fallback_value:e.fallbackValue}:{fallback_value:e.fallbackValue}}var Hg=class{constructor(e){this.resend=e}async create(e){const t=Fg(e);return await this.resend.post("/contact-properties",t)}async list(e={}){const t=Lg(e),a=t?`/contact-properties?${t}`:"/contact-properties",i=await this.resend.get(a);return i.data?{data:{...i.data,data:i.data.data.map(e=>Ng(e))},headers:i.headers,error:null}:i}async get(e){if(!e)return{data:null,headers:null,error:{message:"Missing `id` field.",statusCode:null,name:"missing_required_field"}};const t=await this.resend.get(`/contact-properties/${e}`);return t.data?{data:{object:"contact_property",...Ng(t.data)},headers:t.headers,error:null}:t}async update(e){if(!e.id)return{data:null,headers:null,error:{message:"Missing `id` field.",statusCode:null,name:"missing_required_field"}};const t=Fg(e);return await this.resend.patch(`/contact-properties/${e.id}`,t)}async remove(e){return e?await this.resend.delete(`/contact-properties/${e}`):{data:null,headers:null,error:{message:"Missing `id` field.",statusCode:null,name:"missing_required_field"}}}},Gg=class{constructor(e){this.resend=e}async list(e){if(!e.contactId&&!e.email)return{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}};const t=e.email?e.email:e.contactId,a=Lg(e),i=a?`/contacts/${t}/segments?${a}`:`/contacts/${t}/segments`;return await this.resend.get(i)}async add(e){if(!e.contactId&&!e.email)return{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}};const t=e.email?e.email:e.contactId;return this.resend.post(`/contacts/${t}/segments/${e.segmentId}`)}async remove(e){if(!e.contactId&&!e.email)return{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}};const t=e.email?e.email:e.contactId;return this.resend.delete(`/contacts/${t}/segments/${e.segmentId}`)}},Wg=class{constructor(e){this.resend=e}async update(e){if(!e.id&&!e.email)return{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}};const t=e.email?e.email:e.id;return this.resend.patch(`/contacts/${t}/topics`,e.topics)}async list(e){if(!e.id&&!e.email)return{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}};const t=e.email?e.email:e.id,a=Lg(e),i=a?`/contacts/${t}/topics?${a}`:`/contacts/${t}/topics`;return this.resend.get(i)}},Qg=class{constructor(e){this.resend=e,this.topics=new Wg(this.resend),this.segments=new Gg(this.resend)}async create(e,t={}){return e.audienceId?await this.resend.post(`/audiences/${e.audienceId}/contacts`,{unsubscribed:e.unsubscribed,email:e.email,first_name:e.firstName,last_name:e.lastName,properties:e.properties},t):await this.resend.post("/contacts",{unsubscribed:e.unsubscribed,email:e.email,first_name:e.firstName,last_name:e.lastName,properties:e.properties},t)}async list(e={}){const t=e.segmentId??e.audienceId;if(!t){const t=Lg(e),a=t?`/contacts?${t}`:"/contacts";return await this.resend.get(a)}const a=Lg(e),i=a?`/segments/${t}/contacts?${a}`:`/segments/${t}/contacts`;return await this.resend.get(i)}async get(e){return"string"==typeof e?this.resend.get(`/contacts/${e}`):e.id||e.email?e.audienceId?this.resend.get(`/audiences/${e.audienceId}/contacts/${e?.email?e?.email:e?.id}`):this.resend.get(`/contacts/${e?.email?e?.email:e?.id}`):{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}}}async update(e){return e.id||e.email?e.audienceId?await this.resend.patch(`/audiences/${e.audienceId}/contacts/${e?.email?e?.email:e?.id}`,{unsubscribed:e.unsubscribed,first_name:e.firstName,last_name:e.lastName,properties:e.properties}):await this.resend.patch(`/contacts/${e?.email?e?.email:e?.id}`,{unsubscribed:e.unsubscribed,first_name:e.firstName,last_name:e.lastName,properties:e.properties}):{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}}}async remove(e){return"string"==typeof e?this.resend.delete(`/contacts/${e}`):e.id||e.email?e.audienceId?this.resend.delete(`/audiences/${e.audienceId}/contacts/${e?.email?e?.email:e?.id}`):this.resend.delete(`/contacts/${e?.email?e?.email:e?.id}`):{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}}}};var Kg=class{constructor(e){this.resend=e}async create(e,t={}){return await this.resend.post("/domains",(a=e,{name:a.name,region:a.region,custom_return_path:a.customReturnPath,capabilities:a.capabilities}),t);var a}async list(e={}){const t=Lg(e),a=t?`/domains?${t}`:"/domains";return await this.resend.get(a)}async get(e){return await this.resend.get(`/domains/${e}`)}async update(e){return await this.resend.patch(`/domains/${e.id}`,{click_tracking:e.clickTracking,open_tracking:e.openTracking,tls:e.tls,capabilities:e.capabilities})}async remove(e){return await this.resend.delete(`/domains/${e}`)}async verify(e){return await this.resend.post(`/domains/${e}/verify`)}},Vg=class{constructor(e){this.resend=e}async get(e){const{emailId:t,id:a}=e;return await this.resend.get(`/emails/${t}/attachments/${a}`)}async list(e){const{emailId:t}=e,a=Lg(e),i=a?`/emails/${t}/attachments?${a}`:`/emails/${t}/attachments`;return await this.resend.get(i)}},Yg=class{constructor(e){this.resend=e}async get(e){const{emailId:t,id:a}=e;return await this.resend.get(`/emails/receiving/${t}/attachments/${a}`)}async list(e){const{emailId:t}=e,a=Lg(e),i=a?`/emails/receiving/${t}/attachments?${a}`:`/emails/receiving/${t}/attachments`;return await this.resend.get(i)}},Zg=class{constructor(e){this.resend=e,this.attachments=new Yg(e)}async get(e){return await this.resend.get(`/emails/receiving/${e}`)}async list(e={}){const t=Lg(e),a=t?`/emails/receiving?${t}`:"/emails/receiving";return await this.resend.get(a)}},Xg=class{constructor(e){this.resend=e,this.attachments=new Vg(e),this.receiving=new Zg(e)}async send(e,t={}){return this.create(e,t)}async create(e,t={}){return e.react&&(e.html=await Bg(e.react)),await this.resend.post("/emails",Ug(e),t)}async get(e){return await this.resend.get(`/emails/${e}`)}async list(e={}){const t=Lg(e),a=t?`/emails?${t}`:"/emails";return await this.resend.get(a)}async update(e){return await this.resend.patch(`/emails/${e.id}`,{scheduled_at:e.scheduledAt})}async cancel(e){return await this.resend.post(`/emails/${e}/cancel`)}},ey=class{constructor(e){this.resend=e}async create(e,t={}){return await this.resend.post("/segments",e,t)}async list(e={}){const t=Lg(e),a=t?`/segments?${t}`:"/segments";return await this.resend.get(a)}async get(e){return await this.resend.get(`/segments/${e}`)}async remove(e){return await this.resend.delete(`/segments/${e}`)}};function ty(e){return{name:"name"in e?e.name:void 0,subject:e.subject,html:e.html,text:e.text,alias:e.alias,from:e.from,reply_to:e.replyTo,variables:(t=e.variables,t?.map(e=>({key:e.key,type:e.type,fallback_value:e.fallbackValue})))};var t}var ay=class{constructor(e,t){this.promise=e,this.publishFn=t}then(e,t){return this.promise.then(e,t)}async publish(){const{data:e,error:t}=await this.promise;return t?{data:null,headers:null,error:t}:this.publishFn(e.id)}},iy=class{constructor(e){this.resend=e}create(e){return new ay(this.performCreate(e),this.publish.bind(this))}async performCreate(e){if(e.react){if(!this.renderAsync)try{const{renderAsync:e}=await import("@react-email/render");this.renderAsync=e}catch{throw new Error("Failed to render React component. Make sure to install `@react-email/render`")}e.html=await this.renderAsync(e.react)}return this.resend.post("/templates",ty(e))}async remove(e){return await this.resend.delete(`/templates/${e}`)}async get(e){return await this.resend.get(`/templates/${e}`)}async list(e={}){return this.resend.get(`/templates${function(e={}){const t=new URLSearchParams;return e.before&&t.set("before",e.before),e.after&&t.set("after",e.after),e.limit&&t.set("limit",e.limit.toString()),t.size>0?`?${t.toString()}`:""}(e)}`)}duplicate(e){return new ay(this.resend.post(`/templates/${e}/duplicate`),this.publish.bind(this))}async publish(e){return await this.resend.post(`/templates/${e}/publish`)}async update(e,t){return await this.resend.patch(`/templates/${e}`,ty(t))}},ny=class{constructor(e){this.resend=e}async create(e){const{defaultSubscription:t,...a}=e;return await this.resend.post("/topics",{...a,default_subscription:t})}async list(){return await this.resend.get("/topics")}async get(e){return e?await this.resend.get(`/topics/${e}`):{data:null,headers:null,error:{message:"Missing `id` field.",statusCode:null,name:"missing_required_field"}}}async update(e){return e.id?await this.resend.patch(`/topics/${e.id}`,e):{data:null,headers:null,error:{message:"Missing `id` field.",statusCode:null,name:"missing_required_field"}}}async remove(e){return e?await this.resend.delete(`/topics/${e}`):{data:null,headers:null,error:{message:"Missing `id` field.",statusCode:null,name:"missing_required_field"}}}},ry=class{constructor(e){this.resend=e}async create(e,t={}){return await this.resend.post("/webhooks",e,t)}async get(e){return await this.resend.get(`/webhooks/${e}`)}async list(e={}){const t=Lg(e),a=t?`/webhooks?${t}`:"/webhooks";return await this.resend.get(a)}async update(e,t){return await this.resend.patch(`/webhooks/${e}`,t)}async remove(e){return await this.resend.delete(`/webhooks/${e}`)}verify(e){return new au.Webhook(e.webhookSecret).verify(e.payload,{"svix-id":e.headers.id,"svix-timestamp":e.headers.timestamp,"svix-signature":e.headers.signature})}};const oy="https://api.resend.com",sy="resend-node:6.5.2",cy="undefined"!=typeof process&&process.env&&process.env.RESEND_BASE_URL||oy,ly="undefined"!=typeof process&&process.env&&process.env.RESEND_USER_AGENT||sy;var uy=class{constructor(e){if(this.key=e,this.apiKeys=new Jg(this),this.segments=new ey(this),this.audiences=this.segments,this.batch=new Dg(this),this.broadcasts=new $g(this),this.contacts=new Qg(this),this.contactProperties=new Hg(this),this.domains=new Kg(this),this.emails=new Xg(this),this.webhooks=new ry(this),this.templates=new iy(this),this.topics=new ny(this),!e&&("undefined"!=typeof process&&process.env&&(this.key=process.env.RESEND_API_KEY),!this.key))throw new Error('Missing API key. Pass it to the constructor `new Resend("re_123")`');this.headers=new Headers({Authorization:`Bearer ${this.key}`,"User-Agent":ly,"Content-Type":"application/json"})}async fetchRequest(e,t={}){try{const a=await fetch(`${cy}${e}`,t);if(!a.ok)try{const e=await a.text();return{data:null,error:JSON.parse(e),headers:Object.fromEntries(a.headers.entries())}}catch(e){if(e instanceof SyntaxError)return{data:null,error:{name:"application_error",statusCode:a.status,message:"Internal server error. We are unable to process your request right now, please try again later."},headers:Object.fromEntries(a.headers.entries())};const t={message:a.statusText,statusCode:a.status,name:"application_error"};return e instanceof Error?{data:null,error:{...t,message:e.message},headers:Object.fromEntries(a.headers.entries())}:{data:null,error:t,headers:Object.fromEntries(a.headers.entries())}}return{data:await a.json(),error:null,headers:Object.fromEntries(a.headers.entries())}}catch{return{data:null,error:{name:"application_error",statusCode:null,message:"Unable to fetch data. The request could not be resolved."},headers:null}}}async post(e,t,a={}){const i=new Headers(this.headers);if(a.headers)for(const[e,t]of new Headers(a.headers).entries())i.set(e,t);a.idempotencyKey&&i.set("Idempotency-Key",a.idempotencyKey);const n={method:"POST",body:JSON.stringify(t),...a,headers:i};return this.fetchRequest(e,n)}async get(e,t={}){const a=new Headers(this.headers);if(t.headers)for(const[e,i]of new Headers(t.headers).entries())a.set(e,i);const i={method:"GET",...t,headers:a};return this.fetchRequest(e,i)}async put(e,t,a={}){const i=new Headers(this.headers);if(a.headers)for(const[e,t]of new Headers(a.headers).entries())i.set(e,t);const n={method:"PUT",body:JSON.stringify(t),...a,headers:i};return this.fetchRequest(e,n)}async patch(e,t,a={}){const i=new Headers(this.headers);if(a.headers)for(const[e,t]of new Headers(a.headers).entries())i.set(e,t);const n={method:"PATCH",body:JSON.stringify(t),...a,headers:i};return this.fetchRequest(e,n)}async delete(e,t){const a={method:"DELETE",body:JSON.stringify(t),headers:this.headers};return this.fetchRequest(e,a)}},py={exports:{}},dy={exports:{}},my={},fy=/; *([!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) *= *("(?:[ !\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u0020-\u007e])*"|[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) */g,hy=/^[\u0020-\u007e\u0080-\u00ff]+$/,vy=/^[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+$/,gy=/\\([\u0000-\u007f])/g,yy=/([\\"])/g,by=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,_y=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,xy=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;function wy(e){var t=String(e);if(vy.test(t))return t;if(t.length>0&&!hy.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(yy,"\\$1")+'"'}my.format=function(e){if(!e||"object"!=typeof e)throw new TypeError("argument obj is required");var t=e.parameters,a=e.subtype,i=e.suffix,n=e.type;if(!n||!_y.test(n))throw new TypeError("invalid type");if(!a||!by.test(a))throw new TypeError("invalid subtype");var r=n+"/"+a;if(i){if(!_y.test(i))throw new TypeError("invalid suffix");r+="+"+i}if(t&&"object"==typeof t)for(var o,s=Object.keys(t).sort(),c=0;c<s.length;c++){if(o=s[c],!vy.test(o))throw new TypeError("invalid parameter name");r+="; "+o+"="+wy(t[o])}return r},my.parse=function(e){if(!e)throw new TypeError("argument string is required");"object"==typeof e&&(e=function(e){if("function"==typeof e.getHeader)return e.getHeader("content-type");if("object"==typeof e.headers)return e.headers&&e.headers["content-type"]}(e));if("string"!=typeof e)throw new TypeError("argument string is required to be a string");var t,a,i,n=e.indexOf(";"),r=-1!==n?e.substr(0,n):e,o=function(e){var t=xy.exec(e.toLowerCase());if(!t)throw new TypeError("invalid media type");var a,i=t[1],n=t[2],r=n.lastIndexOf("+");-1!==r&&(a=n.substr(r+1),n=n.substr(0,r));var o={type:i,subtype:n,suffix:a};return o}(r),s={};fy.lastIndex=n;for(;a=fy.exec(e);){if(a.index!==n)throw new TypeError("invalid parameter format");n+=a[0].length,t=a[1].toLowerCase(),'"'===(i=a[2])[0]&&(i=i.substr(1,i.length-2).replace(gy,"$1")),s[t]=i}if(-1!==n&&n!==e.length)throw new TypeError("invalid parameter format");return o.parameters=s,o};var Py={},Sy={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}};
/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
!function(e){var t,a,i,n=Sy,r=u.extname,o=/^\s*([^;\s]*)(?:;|\s|$)/,s=/^text\//i;function c(e){if(!e||"string"!=typeof e)return!1;var t=o.exec(e),a=t&&n[t[1].toLowerCase()];return a&&a.charset?a.charset:!(!t||!s.test(t[1]))&&"UTF-8"}e.charset=c,e.charsets={lookup:c},e.contentType=function(t){if(!t||"string"!=typeof t)return!1;var a=-1===t.indexOf("/")?e.lookup(t):t;if(!a)return!1;if(-1===a.indexOf("charset")){var i=e.charset(a);i&&(a+="; charset="+i.toLowerCase())}return a},e.extension=function(t){if(!t||"string"!=typeof t)return!1;var a=o.exec(t),i=a&&e.extensions[a[1].toLowerCase()];if(!i||!i.length)return!1;return i[0]},e.extensions=Object.create(null),e.lookup=function(t){if(!t||"string"!=typeof t)return!1;var a=r("x."+t).toLowerCase().substr(1);if(!a)return!1;return e.types[a]||!1},e.types=Object.create(null),t=e.extensions,a=e.types,i=["nginx","apache",void 0,"iana"],Object.keys(n).forEach(function(e){var r=n[e],o=r.extensions;if(o&&o.length){t[e]=o;for(var s=0;s<o.length;s++){var c=o[s];if(a[c]){var l=i.indexOf(n[a[c]].source),u=i.indexOf(r.source);if("application/octet-stream"!==a[c]&&(l>u||l===u&&"application/"===a[c].substr(0,12)))continue}a[c]=e}}})}(Py);
/*!
 * type-is
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */
var Oy=my,jy=Py;function Ty(e,t){var a,i,n=t,r=function(e){if(!e)return null;try{return function(e){var t=Oy.parse(e);return t.parameters=void 0,Oy.format(t)}(e)}catch(e){return null}}(e);if(!r)return!1;if(n&&!Array.isArray(n))for(n=new Array(arguments.length-1),a=0;a<n.length;a++)n[a]=arguments[a+1];if(!n||!n.length)return r;for(a=0;a<n.length;a++)if(Ay(ky(i=n[a]),r))return"+"===i[0]||-1!==i.indexOf("*")?r:i;return!1}function Ey(e){return void 0!==e.headers["transfer-encoding"]||!isNaN(e.headers["content-length"])}function ky(e){if("string"!=typeof e)return!1;switch(e){case"urlencoded":return"application/x-www-form-urlencoded";case"multipart":return"multipart/*"}return"+"===e[0]?"*/*"+e:-1===e.indexOf("/")?jy.lookup(e):e}function Ay(e,t){if(!1===e)return!1;var a=t.split("/"),i=e.split("/");return 2===a.length&&2===i.length&&(("*"===i[0]||i[0]===a[0])&&("*+"===i[1].substr(0,2)?i[1].length<=a[1].length+1&&i[1].substr(1)===a[1].substr(1-i[1].length):"*"===i[1]||i[1]===a[1]))}dy.exports=function(e,t){var a=t;if(!Ey(e))return null;if(arguments.length>2){a=new Array(arguments.length-1);for(var i=0;i<a.length;i++)a[i]=arguments[i+1]}return Ty(e.headers["content-type"],a)},dy.exports.is=Ty,dy.exports.hasBody=Ey,dy.exports.normalize=ky,dy.exports.match=Ay;var Cy=dy.exports;function Iy(e,t,a){for(;t<e.length;){for(;t<e.length;++t){const a=e.charCodeAt(t);if(32!==a&&9!==a)break}if(t===e.length)break;if(59!==e.charCodeAt(t++))return;for(;t<e.length;++t){const a=e.charCodeAt(t);if(32!==a&&9!==a)break}if(t===e.length)return;let i;const n=t;for(;t<e.length;++t){const a=e.charCodeAt(t);if(1!==Ly[a]){if(61!==a)return;break}}if(t===e.length)return;if(i=e.slice(n,t),++t===e.length)return;let r,o="";if(34===e.charCodeAt(t)){r=++t;let a=!1;for(;t<e.length;++t){const i=e.charCodeAt(t);if(92!==i){if(34===i){if(a){r=t,a=!1;continue}o+=e.slice(r,t);break}if(a&&(r=t-1,a=!1),1!==Jy[i])return}else a?(r=t,a=!1):(o+=e.slice(r,t),a=!0)}if(t===e.length)return;++t}else{for(r=t;t<e.length;++t){const a=e.charCodeAt(t);if(1!==Ly[a]){if(t===r)return;break}}o=e.slice(r,t)}i=i.toLowerCase(),void 0===a[i]&&(a[i]=o)}return a}function Ry(e,t,a,i){for(;t<e.length;){for(;t<e.length;++t){const a=e.charCodeAt(t);if(32!==a&&9!==a)break}if(t===e.length)break;if(59!==e.charCodeAt(t++))return;for(;t<e.length;++t){const a=e.charCodeAt(t);if(32!==a&&9!==a)break}if(t===e.length)return;let n;const r=t;for(;t<e.length;++t){const a=e.charCodeAt(t);if(1!==Ly[a]){if(61===a)break;return}}if(t===e.length)return;let o,s,c="";if(n=e.slice(r,t),42===n.charCodeAt(n.length-1)){const a=++t;for(;t<e.length;++t){const a=e.charCodeAt(t);if(1!==Uy[a]){if(39!==a)return;break}}if(t===e.length)return;for(s=e.slice(a,t),++t;t<e.length;++t){if(39===e.charCodeAt(t))break}if(t===e.length)return;if(++t===e.length)return;o=t;let i=0;for(;t<e.length;++t){const a=e.charCodeAt(t);if(1!==By[a]){if(37===a){let a,n;if(t+2<e.length&&-1!==(a=Dy[e.charCodeAt(t+1)])&&-1!==(n=Dy[e.charCodeAt(t+2)])){const r=(a<<4)+n;c+=e.slice(o,t),c+=String.fromCharCode(r),o=(t+=2)+1,r>=128?i=2:0===i&&(i=1);continue}return}break}}if(c+=e.slice(o,t),c=qy(c,s,i),void 0===c)return}else{if(++t===e.length)return;if(34===e.charCodeAt(t)){o=++t;let a=!1;for(;t<e.length;++t){const i=e.charCodeAt(t);if(92!==i){if(34===i){if(a){o=t,a=!1;continue}c+=e.slice(o,t);break}if(a&&(o=t-1,a=!1),1!==Jy[i])return}else a?(o=t,a=!1):(c+=e.slice(o,t),a=!0)}if(t===e.length)return;++t}else{for(o=t;t<e.length;++t){const a=e.charCodeAt(t);if(1!==Ly[a]){if(t===o)return;break}}c=e.slice(o,t)}if(c=i(c,2),void 0===c)return}n=n.toLowerCase(),void 0===a[n]&&(a[n]=c)}return a}function zy(e){let t;for(;;)switch(e){case"utf-8":case"utf8":return My.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return My.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return My.utf16le;case"base64":return My.base64;default:if(void 0===t){t=!0,e=e.toLowerCase();continue}return My.other.bind(e)}}const My={utf8:(e,t)=>{if(0===e.length)return"";if("string"==typeof e){if(t<2)return e;e=Buffer.from(e,"latin1")}return e.utf8Slice(0,e.length)},latin1:(e,t)=>0===e.length?"":"string"==typeof e?e:e.latin1Slice(0,e.length),utf16le:(e,t)=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,"latin1")),e.ucs2Slice(0,e.length)),base64:(e,t)=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,"latin1")),e.base64Slice(0,e.length)),other:(e,t)=>{if(0===e.length)return"";"string"==typeof e&&(e=Buffer.from(e,"latin1"));try{return new TextDecoder(void 0).decode(e)}catch{}}};function qy(e,t,a){const i=zy(t);if(i)return i(e,a)}const Ly=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Jy=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],Uy=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,0,0,0,0,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],By=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Dy=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];var $y={basename:function(e){if("string"!=typeof e)return"";for(let t=e.length-1;t>=0;--t)switch(e.charCodeAt(t)){case 47:case 92:return".."===(e=e.slice(t+1))||"."===e?"":e}return".."===e||"."===e?"":e},convertToUTF8:qy,getDecoder:zy,parseContentType:function(e){if(0===e.length)return;const t=Object.create(null);let a=0;for(;a<e.length;++a){const t=e.charCodeAt(a);if(1!==Ly[t]){if(47!==t||0===a)return;break}}if(a===e.length)return;const i=e.slice(0,a).toLowerCase(),n=++a;for(;a<e.length;++a){const i=e.charCodeAt(a);if(1!==Ly[i]){if(a===n)return;if(void 0===Iy(e,a,t))return;break}}if(a===n)return;return{type:i,subtype:e.slice(n,a).toLowerCase(),params:t}},parseDisposition:function(e,t){if(0===e.length)return;const a=Object.create(null);let i=0;for(;i<e.length;++i){const n=e.charCodeAt(i);if(1!==Ly[n]){if(void 0===Ry(e,i,a,t))return;break}}return{type:e.slice(0,i).toLowerCase(),params:a}}};function Ny(e,t,a,i,n){for(let r=0;r<n;++r)if(e[t+r]!==a[i+r])return!1;return!0}function Fy(e,t){const a=t.length,i=e._needle,n=i.length;let r=-e._lookbehindSize;const o=n-1,s=i[o],c=a-n,l=e._occ,u=e._lookbehind;if(r<0){for(;r<0&&r<=c;){const a=r+o,i=a<0?u[e._lookbehindSize+a]:t[a];if(i===s&&Hy(e,t,r,o))return e._lookbehindSize=0,++e.matches,r>-e._lookbehindSize?e._cb(!0,u,0,e._lookbehindSize+r,!1):e._cb(!0,void 0,0,0,!0),e._bufPos=r+n;r+=l[i]}for(;r<0&&!Hy(e,t,r,a-r);)++r;if(r<0){const i=e._lookbehindSize+r;return i>0&&e._cb(!1,u,0,i,!1),e._lookbehindSize-=i,u.copy(u,0,i,e._lookbehindSize),u.set(t,e._lookbehindSize),e._lookbehindSize+=a,e._bufPos=a,a}e._cb(!1,u,0,e._lookbehindSize,!1),e._lookbehindSize=0}r+=e._bufPos;const p=i[0];for(;r<=c;){const a=t[r+o];if(a===s&&t[r]===p&&Ny(i,0,t,r,o))return++e.matches,r>0?e._cb(!0,t,e._bufPos,r,!0):e._cb(!0,void 0,0,0,!0),e._bufPos=r+n;r+=l[a]}for(;r<a;){if(t[r]===p&&Ny(t,r,i,0,a-r)){t.copy(u,0,r,a),e._lookbehindSize=a-r;break}++r}return r>0&&e._cb(!1,t,e._bufPos,r<a?r:a,!0),e._bufPos=a,a}function Hy(e,t,a,i){const n=e._lookbehind,r=e._lookbehindSize,o=e._needle;for(let e=0;e<i;++e,++a){if((a<0?n[r+a]:t[a])!==o[e])return!1}return!0}var Gy=class{constructor(e,t){if("function"!=typeof t)throw new Error("Missing match callback");if("string"==typeof e)e=Buffer.from(e);else if(!Buffer.isBuffer(e))throw new Error("Expected Buffer for needle, got "+typeof e);const a=e.length;if(this.maxMatches=1/0,this.matches=0,this._cb=t,this._lookbehindSize=0,this._needle=e,this._bufPos=0,this._lookbehind=Buffer.allocUnsafe(a),this._occ=[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],a>1)for(let t=0;t<a-1;++t)this._occ[e[t]]=a-1-t}reset(){this.matches=0,this._lookbehindSize=0,this._bufPos=0}push(e,t){let a;Buffer.isBuffer(e)||(e=Buffer.from(e,"latin1"));const i=e.length;for(this._bufPos=t||0;a!==i&&this.matches<this.maxMatches;)a=Fy(this,e);return a}destroy(){const e=this._lookbehindSize;e&&this._cb(!1,this._lookbehind,0,e,!1),this.reset()}};const{Readable:Wy,Writable:Qy}=p,Ky=Gy,{basename:Vy,convertToUTF8:Yy,getDecoder:Zy,parseContentType:Xy,parseDisposition:eb}=$y,tb=Buffer.from("\r\n"),ab=Buffer.from("\r"),ib=Buffer.from("-");function nb(){}const rb=16384;class ob{constructor(e){this.header=Object.create(null),this.pairCount=0,this.byteCount=0,this.state=0,this.name="",this.value="",this.crlf=0,this.cb=e}reset(){this.header=Object.create(null),this.pairCount=0,this.byteCount=0,this.state=0,this.name="",this.value="",this.crlf=0}push(e,t,a){let i=t;for(;t<a;)switch(this.state){case 0:{let n=!1;for(;t<a;++t){if(this.byteCount===rb)return-1;++this.byteCount;const a=e[t];if(1!==db[a]){if(58!==a)return-1;if(this.name+=e.latin1Slice(i,t),0===this.name.length)return-1;++t,n=!0,this.state=1;break}}if(!n){this.name+=e.latin1Slice(i,t);break}}case 1:{let n=!1;for(;t<a;++t){if(this.byteCount===rb)return-1;++this.byteCount;const a=e[t];if(32!==a&&9!==a){i=t,n=!0,this.state=2;break}}if(!n)break}case 2:switch(this.crlf){case 0:for(;t<a;++t){if(this.byteCount===rb)return-1;++this.byteCount;const a=e[t];if(1!==mb[a]){if(13!==a)return-1;++this.crlf;break}}this.value+=e.latin1Slice(i,t++);break;case 1:if(this.byteCount===rb)return-1;if(++this.byteCount,10!==e[t++])return-1;++this.crlf;break;case 2:{if(this.byteCount===rb)return-1;++this.byteCount;const a=e[t];32===a||9===a?(i=t,this.crlf=0):(++this.pairCount<2e3&&(this.name=this.name.toLowerCase(),void 0===this.header[this.name]?this.header[this.name]=[this.value]:this.header[this.name].push(this.value)),13===a?(++this.crlf,++t):(i=t,this.crlf=0,this.state=0,this.name="",this.value=""));break}case 3:{if(this.byteCount===rb)return-1;if(++this.byteCount,10!==e[t++])return-1;const a=this.header;return this.reset(),this.cb(a),t}}}return t}}class sb extends Wy{constructor(e,t){super(e),this.truncated=!1,this._readcb=null,this.once("end",()=>{if(this._read(),0===--t._fileEndsLeft&&t._finalcb){const e=t._finalcb;t._finalcb=null,process.nextTick(e)}})}_read(e){const t=this._readcb;t&&(this._readcb=null,t())}}const cb={push:(e,t)=>{},destroy:()=>{}};function lb(e,t){return e}function ub(e,t,a){if(a)return t(a);t(a=pb(e))}function pb(e){if(e._hparser)return new Error("Malformed part header");const t=e._fileStream;return t&&(e._fileStream=null,t.destroy(new Error("Unexpected end of file"))),e._complete?void 0:new Error("Unexpected end of form")}const db=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],mb=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];var fb=class extends Qy{constructor(e){if(super({autoDestroy:!0,emitClose:!0,highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:void 0}),!e.conType.params||"string"!=typeof e.conType.params.boundary)throw new Error("Multipart: Boundary not found");const t=e.conType.params.boundary,a="string"==typeof e.defParamCharset&&e.defParamCharset?Zy(e.defParamCharset):lb,i=e.defCharset||"utf8",n=e.preservePath,r={autoDestroy:!0,emitClose:!0,highWaterMark:"number"==typeof e.fileHwm?e.fileHwm:void 0},o=e.limits,s=o&&"number"==typeof o.fieldSize?o.fieldSize:1048576,c=o&&"number"==typeof o.fileSize?o.fileSize:1/0,l=o&&"number"==typeof o.files?o.files:1/0,u=o&&"number"==typeof o.fields?o.fields:1/0,p=o&&"number"==typeof o.parts?o.parts:1/0;let d=-1,m=0,f=0,h=!1;this._fileEndsLeft=0,this._fileStream=void 0,this._complete=!1;let v,g,y,b,_,x=0,w=0,P=!1,S=!1,O=!1;this._hparser=null;const j=new ob(e=>{let t;if(this._hparser=null,h=!1,b="text/plain",g=i,y="7bit",_=void 0,P=!1,!e["content-disposition"])return void(h=!0);const o=eb(e["content-disposition"][0],a);if(o&&"form-data"===o.type){if(o.params&&(o.params.name&&(_=o.params.name),o.params["filename*"]?t=o.params["filename*"]:o.params.filename&&(t=o.params.filename),void 0===t||n||(t=Vy(t))),e["content-type"]){const t=Xy(e["content-type"][0]);t&&(b=`${t.type}/${t.subtype}`,t.params&&"string"==typeof t.params.charset&&(g=t.params.charset.toLowerCase()))}if(e["content-transfer-encoding"]&&(y=e["content-transfer-encoding"][0].toLowerCase()),"application/octet-stream"===b||void 0!==t){if(f===l)return S||(S=!0,this.emit("filesLimit")),void(h=!0);if(++f,0===this.listenerCount("file"))return void(h=!0);x=0,this._fileStream=new sb(r,this),++this._fileEndsLeft,this.emit("file",_,this._fileStream,{filename:t,encoding:y,mimeType:b})}else{if(m===u)return O||(O=!0,this.emit("fieldsLimit")),void(h=!0);if(++m,0===this.listenerCount("field"))return void(h=!0);v=[],w=0}}else h=!0});let T=0;const E=(e,t,a,i,n)=>{e:for(;t;){if(null!==this._hparser){const e=this._hparser.push(t,a,i);if(-1===e){this._hparser=null,j.reset(),this.emit("error",new Error("Malformed part header"));break}a=e}if(a===i)break;if(0!==T){if(1===T){switch(t[a]){case 45:T=2,++a;break;case 13:T=3,++a;break;default:T=0}if(a===i)return}if(2===T){if(T=0,45===t[a])return this._complete=!0,void(this._bparser=cb);const e=this._writecb;this._writecb=nb,E(!1,ib,0,1,!1),this._writecb=e}else if(3===T){if(T=0,10===t[a]){if(++a,d>=p)break;if(this._hparser=j,a===i)break;continue e}{const e=this._writecb;this._writecb=nb,E(!1,ab,0,1,!1),this._writecb=e}}}if(!h)if(this._fileStream){let e;const r=Math.min(i-a,c-x);n?e=t.slice(a,a+r):(e=Buffer.allocUnsafe(r),t.copy(e,0,a,a+r)),x+=e.length,x===c?(e.length>0&&this._fileStream.push(e),this._fileStream.emit("limit"),this._fileStream.truncated=!0,h=!0):this._fileStream.push(e)||(this._writecb&&(this._fileStream._readcb=this._writecb),this._writecb=null)}else if(void 0!==v){let e;const r=Math.min(i-a,s-w);n?e=t.slice(a,a+r):(e=Buffer.allocUnsafe(r),t.copy(e,0,a,a+r)),w+=r,v.push(e),w===s&&(h=!0,P=!0)}break}if(e){if(T=1,this._fileStream)this._fileStream.push(null),this._fileStream=null;else if(void 0!==v){let e;switch(v.length){case 0:e="";break;case 1:e=Yy(v[0],g,0);break;default:e=Yy(Buffer.concat(v,w),g,0)}v=void 0,w=0,this.emit("field",_,e,{nameTruncated:!1,valueTruncated:P,encoding:y,mimeType:b})}++d===p&&this.emit("partsLimit")}};this._bparser=new Ky(`\r\n--${t}`,E),this._writecb=null,this._finalcb=null,this.write(tb)}static detect(e){return"multipart"===e.type&&"form-data"===e.subtype}_write(e,t,a){this._writecb=a,this._bparser.push(e,0),this._writecb&&function(e,t){const a=e._writecb;e._writecb=null,t?e.destroy(t):a&&a()}(this)}_destroy(e,t){this._hparser=null,this._bparser=cb,e||(e=pb(this));const a=this._fileStream;a&&(this._fileStream=null,a.destroy(e)),t(e)}_final(e){if(this._bparser.destroy(),!this._complete)return e(new Error("Unexpected end of form"));this._fileEndsLeft?this._finalcb=ub.bind(null,this,e):ub(this,e)}};const{Writable:hb}=p,{getDecoder:vb}=$y;function gb(e,t,a,i){if(a>=i)return i;if(-1===e._byte){const n=_b[t[a++]];if(-1===n)return-1;if(n>=8&&(e._encode=2),a<i){const i=_b[t[a++]];if(-1===i)return-1;e._inKey?e._key+=String.fromCharCode((n<<4)+i):e._val+=String.fromCharCode((n<<4)+i),e._byte=-2,e._lastPos=a}else e._byte=n}else{const i=_b[t[a++]];if(-1===i)return-1;e._inKey?e._key+=String.fromCharCode((e._byte<<4)+i):e._val+=String.fromCharCode((e._byte<<4)+i),e._byte=-2,e._lastPos=a}return a}function yb(e,t,a,i){if(e._bytesKey>e.fieldNameSizeLimit){for(e._keyTrunc||e._lastPos<a&&(e._key+=t.latin1Slice(e._lastPos,a-1)),e._keyTrunc=!0;a<i;++a){const i=t[a];if(61===i||38===i)break;++e._bytesKey}e._lastPos=a}return a}function bb(e,t,a,i){if(e._bytesVal>e.fieldSizeLimit){for(e._valTrunc||e._lastPos<a&&(e._val+=t.latin1Slice(e._lastPos,a-1)),e._valTrunc=!0;a<i&&38!==t[a];++a)++e._bytesVal;e._lastPos=a}return a}const _b=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];var xb=class extends hb{constructor(e){super({autoDestroy:!0,emitClose:!0,highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:void 0});let t=e.defCharset||"utf8";e.conType.params&&"string"==typeof e.conType.params.charset&&(t=e.conType.params.charset),this.charset=t;const a=e.limits;this.fieldSizeLimit=a&&"number"==typeof a.fieldSize?a.fieldSize:1048576,this.fieldsLimit=a&&"number"==typeof a.fields?a.fields:1/0,this.fieldNameSizeLimit=a&&"number"==typeof a.fieldNameSize?a.fieldNameSize:100,this._inKey=!0,this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,this._fields=0,this._key="",this._val="",this._byte=-2,this._lastPos=0,this._encode=0,this._decoder=vb(t)}static detect(e){return"application"===e.type&&"x-www-form-urlencoded"===e.subtype}_write(e,t,a){if(this._fields>=this.fieldsLimit)return a();let i=0;const n=e.length;if(this._lastPos=0,-2!==this._byte){if(i=gb(this,e,i,n),-1===i)return a(new Error("Malformed urlencoded form"));if(i>=n)return a();this._inKey?++this._bytesKey:++this._bytesVal}e:for(;i<n;)if(this._inKey){for(i=yb(this,e,i,n);i<n;){switch(e[i]){case 61:this._lastPos<i&&(this._key+=e.latin1Slice(this._lastPos,i)),this._lastPos=++i,this._key=this._decoder(this._key,this._encode),this._encode=0,this._inKey=!1;continue e;case 38:if(this._lastPos<i&&(this._key+=e.latin1Slice(this._lastPos,i)),this._lastPos=++i,this._key=this._decoder(this._key,this._encode),this._encode=0,this._bytesKey>0&&this.emit("field",this._key,"",{nameTruncated:this._keyTrunc,valueTruncated:!1,encoding:this.charset,mimeType:"text/plain"}),this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,++this._fields>=this.fieldsLimit)return this.emit("fieldsLimit"),a();continue;case 43:this._lastPos<i&&(this._key+=e.latin1Slice(this._lastPos,i)),this._key+=" ",this._lastPos=i+1;break;case 37:if(0===this._encode&&(this._encode=1),this._lastPos<i&&(this._key+=e.latin1Slice(this._lastPos,i)),this._lastPos=i+1,this._byte=-1,i=gb(this,e,i+1,n),-1===i)return a(new Error("Malformed urlencoded form"));if(i>=n)return a();++this._bytesKey,i=yb(this,e,i,n);continue}++i,++this._bytesKey,i=yb(this,e,i,n)}this._lastPos<i&&(this._key+=e.latin1Slice(this._lastPos,i))}else{for(i=bb(this,e,i,n);i<n;){switch(e[i]){case 38:if(this._lastPos<i&&(this._val+=e.latin1Slice(this._lastPos,i)),this._lastPos=++i,this._inKey=!0,this._val=this._decoder(this._val,this._encode),this._encode=0,(this._bytesKey>0||this._bytesVal>0)&&this.emit("field",this._key,this._val,{nameTruncated:this._keyTrunc,valueTruncated:this._valTrunc,encoding:this.charset,mimeType:"text/plain"}),this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,++this._fields>=this.fieldsLimit)return this.emit("fieldsLimit"),a();continue e;case 43:this._lastPos<i&&(this._val+=e.latin1Slice(this._lastPos,i)),this._val+=" ",this._lastPos=i+1;break;case 37:if(0===this._encode&&(this._encode=1),this._lastPos<i&&(this._val+=e.latin1Slice(this._lastPos,i)),this._lastPos=i+1,this._byte=-1,i=gb(this,e,i+1,n),-1===i)return a(new Error("Malformed urlencoded form"));if(i>=n)return a();++this._bytesVal,i=bb(this,e,i,n);continue}++i,++this._bytesVal,i=bb(this,e,i,n)}this._lastPos<i&&(this._val+=e.latin1Slice(this._lastPos,i))}a()}_final(e){if(-2!==this._byte)return e(new Error("Malformed urlencoded form"));(!this._inKey||this._bytesKey>0||this._bytesVal>0)&&(this._inKey?this._key=this._decoder(this._key,this._encode):this._val=this._decoder(this._val,this._encode),this.emit("field",this._key,this._val,{nameTruncated:this._keyTrunc,valueTruncated:this._valTrunc,encoding:this.charset,mimeType:"text/plain"})),e()}};const{parseContentType:wb}=$y;const Pb=[fb,xb].filter(function(e){return"function"==typeof e.detect});var Sb=function(){for(var e={},t=0;t<arguments.length;t++){var a=arguments[t];for(var i in a)Ob.call(a,i)&&(e[i]=a[i])}return e},Ob=Object.prototype.hasOwnProperty;var jb=/^[^\[]*/,Tb=/^\[(\d+)\]/,Eb=/^\[([^\]]+)\]/;function kb(e){return void 0===e?"undefined":Array.isArray(e)?"array":"object"==typeof e?"object":"scalar"}function Ab(e,t,a,i){switch(kb(a)){case"undefined":t.append?e[t.key]=[i]:e[t.key]=i;break;case"array":e[t.key].push(i);break;case"object":return Ab(a,{type:"object",key:"",last:!0},a[""],i);case"scalar":e[t.key]=[e[t.key],i]}return e}var Cb=function(e,t,a,i){if(t.last)return Ab(e,t,a,i);var n;switch(kb(a)){case"undefined":return"array"===t.nextType?e[t.key]=[]:e[t.key]=Object.create(null),e[t.key];case"object":return e[t.key];case"array":return"array"===t.nextType?a:(n=Object.create(null),e[t.key]=n,a.forEach(function(e,t){void 0!==e&&(n[""+t]=e)}),n);case"scalar":return(n=Object.create(null))[""]=a,e[t.key]=n,n}},Ib=function(e){function t(){return[{type:"object",key:e,last:!0}]}var a=jb.exec(e)[0];if(!a)return t();for(var i=e.length,n=a.length,r={type:"object",key:a},o=[r];n<i;){var s;if("["!==e[n]||"]"!==e[n+1])if(null===(s=Tb.exec(e.substring(n)))){if(null===(s=Eb.exec(e.substring(n))))return t();n+=s[0].length,r.nextType="object",r={type:"object",key:s[1]},o.push(r)}else n+=s[0].length,r.nextType="array",r={type:"array",key:parseInt(s[1],10)},o.push(r);else if(n+=2,r.append=!0,n!==i)return t()}return r.last=!0,o},Rb=Cb;var zb=function(e,t,a){Ib(t).reduce(function(e,t){return Rb(e,t,e[t.key],a)},e)},Mb=n.EventEmitter;function qb(){Mb.call(this),this.value=0}qb.prototype=Object.create(Mb.prototype),qb.prototype.increment=function(){this.value++},qb.prototype.decrement=function(){0===--this.value&&this.emit("zero")},qb.prototype.isZero=function(){return 0===this.value},qb.prototype.onceZero=function(e){if(this.isZero())return e();this.once("zero",e)};var Lb=qb,Jb={LIMIT_PART_COUNT:"Too many parts",LIMIT_FILE_SIZE:"File too large",LIMIT_FILE_COUNT:"Too many files",LIMIT_FIELD_KEY:"Field name too long",LIMIT_FIELD_VALUE:"Field value too long",LIMIT_FIELD_COUNT:"Too many fields",LIMIT_UNEXPECTED_FILE:"Unexpected field",MISSING_FIELD_NAME:"Field name missing"};function Ub(e,t){Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=Jb[e],this.code=e,t&&(this.field=t)}c.inherits(Ub,Error);var Bb=Ub,Db=Object.getOwnPropertySymbols,$b=Object.prototype.hasOwnProperty,Nb=Object.prototype.propertyIsEnumerable;
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Fb=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var a,i,n=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),r=1;r<arguments.length;r++){for(var o in a=Object(arguments[r]))$b.call(a,o)&&(n[o]=a[o]);if(Db){i=Db(a);for(var s=0;s<i.length;s++)Nb.call(a,i[s])&&(n[i[s]]=a[i[s]])}}return n},Hb=Fb;function Gb(e,t){var a=e.indexOf(t);~a&&e.splice(a,1)}function Wb(e,t){switch(this.strategy=e,this.req=t,e){case"NONE":case"VALUE":break;case"ARRAY":t.files=[];break;case"OBJECT":t.files=Object.create(null);break;default:throw new Error("Unknown file strategy: "+e)}}Wb.prototype.insertPlaceholder=function(e){var t={fieldname:e.fieldname};switch(this.strategy){case"NONE":case"VALUE":break;case"ARRAY":this.req.files.push(t);break;case"OBJECT":this.req.files[e.fieldname]?this.req.files[e.fieldname].push(t):this.req.files[e.fieldname]=[t]}return t},Wb.prototype.removePlaceholder=function(e){switch(this.strategy){case"NONE":case"VALUE":break;case"ARRAY":Gb(this.req.files,e);break;case"OBJECT":1===this.req.files[e.fieldname].length?delete this.req.files[e.fieldname]:Gb(this.req.files[e.fieldname],e)}},Wb.prototype.replacePlaceholder=function(e,t){"VALUE"!==this.strategy?(delete e.fieldname,Hb(e,t)):this.req.file=t};var Qb=function(e,t,a){var i=e.length,n=[];if(0===i)return a(null,n);!function r(o){var s=e[o];t(s,function(e){e&&(e.file=s,e.field=s.fieldname,n.push(e)),o<i-1?r(o+1):a(null,n)})}(0)},Kb=Cy,Vb=e=>{if("object"==typeof e&&null!==e||(e={}),"object"!=typeof e.headers||null===e.headers||"string"!=typeof e.headers["content-type"])throw new Error("Missing Content-Type");return function(e){const t=e.headers,a=wb(t["content-type"]);if(!a)throw new Error("Malformed content type");for(const i of Pb){if(!i.detect(a))continue;const n={limits:e.limits,headers:t,conType:a,highWaterMark:void 0,fileHwm:void 0,defCharset:void 0,defParamCharset:void 0,preservePath:!1};return e.highWaterMark&&(n.highWaterMark=e.highWaterMark),e.fileHwm&&(n.fileHwm=e.fileHwm),n.defCharset=e.defCharset,n.defParamCharset=e.defParamCharset,n.preservePath=e.preservePath,new i(n)}throw new Error(`Unsupported content type: ${t["content-type"]}`)}(e)},Yb=Sb,Zb=zb,Xb=Lb,e_=Bb,t_=Wb,a_=Qb;var i_=function(e){return function(t,a,i){if(!Kb(t,["multipart"]))return i();var n,r=e(),o=r.limits,s=r.storage,c=r.fileFilter,l=r.fileStrategy,u=r.preservePath;t.body=Object.create(null),t.on("error",function(e){b(e)});try{n=Vb({headers:t.headers,limits:o,preservePath:u})}catch(e){return i(e)}var p=new t_(l,t),d=!1,m=!1,f=!1,h=new Xb,v=[];function g(e){d||(d=!0,t.unpipe(n),function(e){e.on("readable",()=>{for(;null!==e.read(););})}(t),t.resume(),setImmediate(()=>{n.removeAllListeners()}),i(e))}function y(){m&&h.isZero()&&!f&&g()}function b(e){f||(f=!0,h.onceZero(function(){a_(v,function(e,a){s._removeFile(t,e,a)},function(t,a){if(t)return g(t);e.storageErrors=a,g(e)})}))}function _(e,t){b(new e_(e,t))}n.on("field",function(e,a,{nameTruncated:i,valueTruncated:n}){return null==e?_("MISSING_FIELD_NAME"):i?_("LIMIT_FIELD_KEY"):n?_("LIMIT_FIELD_VALUE",e):o&&Object.prototype.hasOwnProperty.call(o,"fieldNameSize")&&e.length>o.fieldNameSize?_("LIMIT_FIELD_KEY"):void Zb(t.body,e,a)}),n.on("file",function(e,a,{filename:i,encoding:n,mimeType:r}){var l=!1;if(a.on("error",function(e){l&&h.decrement(),b(e)}),null==e)return _("MISSING_FIELD_NAME");if(!i)return a.resume();if(o&&Object.prototype.hasOwnProperty.call(o,"fieldNameSize")&&e.length>o.fieldNameSize)return _("LIMIT_FIELD_KEY");var u={fieldname:e,originalname:i,encoding:n,mimetype:r},d=p.insertPlaceholder(u);c(t,u,function(i,n){if(i)return p.removePlaceholder(d),b(i);if(!n)return p.removePlaceholder(d),a.resume();var r=!1;l=!0,h.increment(),Object.defineProperty(u,"stream",{configurable:!0,enumerable:!1,value:a}),a.on("limit",function(){r=!0,_("LIMIT_FILE_SIZE",e)}),s._handleFile(t,u,function(e,t){if(r)return p.removePlaceholder(d),v.push(Yb(u,t)),h.decrement();if(e)return p.removePlaceholder(d),h.decrement(),b(e);var a=Yb(u,t);p.replacePlaceholder(d,a),v.push(a),h.decrement(),y()})})}),n.on("error",function(e){b(e)}),n.on("partsLimit",function(){_("LIMIT_PART_COUNT")}),n.on("filesLimit",function(){_("LIMIT_FILE_COUNT")}),n.on("fieldsLimit",function(){_("LIMIT_FIELD_COUNT")}),n.on("close",function(){m=!0,y()}),t.pipe(n)}},n_=u,r_=m,o_=parseInt("0777",8),s_=c_.mkdirp=c_.mkdirP=c_;function c_(e,t,a,i){"function"==typeof t?(a=t,t={}):t&&"object"==typeof t||(t={mode:t});var n=t.mode,r=t.fs||r_;void 0===n&&(n=o_),i||(i=null);var o=a||function(){};e=n_.resolve(e),r.mkdir(e,n,function(a){if(!a)return o(null,i=i||e);if("ENOENT"===a.code){if(n_.dirname(e)===e)return o(a);c_(n_.dirname(e),t,function(a,i){a?o(a,i):c_(e,t,o,i)})}else r.stat(e,function(e,t){e||!t.isDirectory()?o(a,i):o(null,i)})})}c_.sync=function e(t,a,i){a&&"object"==typeof a||(a={mode:a});var n=a.mode,r=a.fs||r_;void 0===n&&(n=o_),i||(i=null),t=n_.resolve(t);try{r.mkdirSync(t,n),i=i||t}catch(n){if("ENOENT"===n.code)i=e(n_.dirname(t),a,i),e(t,a,i);else{var o;try{o=r.statSync(t)}catch(e){throw n}if(!o.isDirectory())throw n}}return i};var l_=m,u_=f,p_=u,d_=t,m_=s_;function f_(e,t,a){d_.randomBytes(16,function(e,t){a(e,e?void 0:t.toString("hex"))})}function h_(e,t,a){a(null,u_.tmpdir())}function v_(e){this.getFilename=e.filename||f_,"string"==typeof e.destination?(m_.sync(e.destination),this.getDestination=function(t,a,i){i(null,e.destination)}):this.getDestination=e.destination||h_}v_.prototype._handleFile=function(e,t,a){var i=this;i.getDestination(e,t,function(n,r){if(n)return a(n);i.getFilename(e,t,function(e,i){if(e)return a(e);var n=p_.join(r,i),o=l_.createWriteStream(n);t.stream.pipe(o),o.on("error",a),o.on("finish",function(){a(null,{destination:r,filename:i,path:n,size:o.bytesWritten})})})})},v_.prototype._removeFile=function(e,t,a){var i=t.path;delete t.destination,delete t.filename,delete t.path,l_.unlink(i,a)};var g_,y_,b_,__,x_,w_,P_={exports:{}};function S_(){return y_?g_:(y_=1,g_=p)}function O_(){if(__)return b_;function e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function t(t){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?e(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(e,t,a){return(t=n(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}function n(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}__=1;var r=h.Buffer,o=c.inspect,s=o&&o.custom||"inspect";function l(e,t,a){r.prototype.copy.call(e,t,a)}return b_=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var a,n,c;return a=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,a=""+t.data;t=t.next;)a+=e+t.data;return a}},{key:"concat",value:function(e){if(0===this.length)return r.alloc(0);for(var t=r.allocUnsafe(e>>>0),a=this.head,i=0;a;)l(a.data,t,i),i+=a.data.length,a=a.next;return t}},{key:"consume",value:function(e,t){var a;return e<this.head.data.length?(a=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):a=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),a}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,a=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,r=e>n.length?n.length:e;if(r===n.length?i+=n:i+=n.slice(0,e),0===(e-=r)){r===n.length?(++a,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(r));break}++a}return this.length-=a,i}},{key:"_getBuffer",value:function(e){var t=r.allocUnsafe(e),a=this.head,i=1;for(a.data.copy(t),e-=a.data.length;a=a.next;){var n=a.data,o=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,o),0===(e-=o)){o===n.length?(++i,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=n.slice(o));break}++i}return this.length-=i,t}},{key:s,value:function(e,a){return o(this,t(t({},a),{},{depth:0,customInspect:!1}))}}],n&&i(a.prototype,n),c&&i(a,c),Object.defineProperty(a,"prototype",{writable:!1}),e}(),b_}function j_(){if(w_)return x_;function e(e,i){a(e,i),t(e)}function t(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}return w_=1,x_={destroy:function(i,n){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(n?n(i):i&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(a,this,i)):process.nextTick(a,this,i)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,function(a){!n&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(t,r):(r._writableState.errorEmitted=!0,process.nextTick(e,r,a)):process.nextTick(e,r,a):n?(process.nextTick(t,r),n(a)):process.nextTick(t,r)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var a=e._readableState,i=e._writableState;a&&a.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}},x_}var T_,E_,k_,A_={};function C_(){if(T_)return A_;T_=1;const e={};function t(t,a,i){i||(i=Error);class n extends i{constructor(e,t,i){super(function(e,t,i){return"string"==typeof a?a:a(e,t,i)}(e,t,i))}}n.prototype.name=i.name,n.prototype.code=t,e[t]=n}function a(e,t){if(Array.isArray(e)){const a=e.length;return e=e.map(e=>String(e)),a>2?`one of ${t} ${e.slice(0,a-1).join(", ")}, or `+e[a-1]:2===a?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}return t("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(e,t,i){let n;var r,o;let s;if("string"==typeof t&&(r="not ",t.substr(!o||o<0?0:+o,r.length)===r)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,a){return(void 0===a||a>e.length)&&(a=e.length),e.substring(a-t.length,a)===t}(e," argument"))s=`The ${e} ${n} ${a(t,"type")}`;else{const i=function(e,t,a){return"number"!=typeof a&&(a=0),!(a+t.length>e.length)&&-1!==e.indexOf(t,a)}(e,".")?"property":"argument";s=`The "${e}" ${i} ${n} ${a(t,"type")}`}return s+=". Received type "+typeof i,s},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),A_.codes=e,A_}function I_(){if(k_)return E_;k_=1;var e=C_().codes.ERR_INVALID_OPT_VALUE;return E_={getHighWaterMark:function(t,a,i,n){var r=function(e,t,a){return null!=e.highWaterMark?e.highWaterMark:t?e[a]:null}(a,n,i);if(null!=r){if(!isFinite(r)||Math.floor(r)!==r||r<0)throw new e(n?i:"highWaterMark",r);return Math.floor(r)}return t.objectMode?16:16384}}}var R_,z_={exports:{}},M_={exports:{}};try{var q_=require("util");if("function"!=typeof q_.inherits)throw"";z_.exports=q_.inherits}catch(e){z_.exports=(R_||(R_=1,"function"==typeof Object.create?M_.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:M_.exports=function(e,t){if(t){e.super_=t;var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}}),M_.exports)}var L_,J_,U_,B_,D_,$_,N_=z_.exports;function F_(){if(B_)return U_;function e(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,a){var i=e.entry;e.entry=null;for(;i;){var n=i.callback;t.pendingcb--,n(a),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}var t;B_=1,U_=P,P.WritableState=w;var a={deprecate:J_?L_:(J_=1,L_=c.deprecate)},i=S_(),n=h.Buffer,r=(void 0!==k?k:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var o,s=j_(),l=I_().getHighWaterMark,u=C_().codes,p=u.ERR_INVALID_ARG_TYPE,d=u.ERR_METHOD_NOT_IMPLEMENTED,m=u.ERR_MULTIPLE_CALLBACK,f=u.ERR_STREAM_CANNOT_PIPE,v=u.ERR_STREAM_DESTROYED,g=u.ERR_STREAM_NULL_VALUES,y=u.ERR_STREAM_WRITE_AFTER_END,b=u.ERR_UNKNOWN_ENCODING,_=s.errorOrDestroy;function x(){}function w(a,i,n){t=t||H_(),a=a||{},"boolean"!=typeof n&&(n=i instanceof t),this.objectMode=!!a.objectMode,n&&(this.objectMode=this.objectMode||!!a.writableObjectMode),this.highWaterMark=l(this,a,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var r=!1===a.decodeStrings;this.decodeStrings=!r,this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var a=e._writableState,i=a.sync,n=a.writecb;if("function"!=typeof n)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(a),t)!function(e,t,a,i,n){--t.pendingcb,a?(process.nextTick(n,i),process.nextTick(A,e,t),e._writableState.errorEmitted=!0,_(e,i)):(n(i),e._writableState.errorEmitted=!0,_(e,i),A(e,t))}(e,a,i,t,n);else{var r=T(a)||e.destroyed;r||a.corked||a.bufferProcessing||!a.bufferedRequest||j(e,a),i?process.nextTick(O,e,a,r,n):O(e,a,r,n)}}(i,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==a.emitClose,this.autoDestroy=!!a.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function P(e){var a=this instanceof(t=t||H_());if(!a&&!o.call(P,this))return new P(e);this._writableState=new w(e,this,a),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),i.call(this)}function S(e,t,a,i,n,r,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):a?e._writev(n,t.onwrite):e._write(n,r,t.onwrite),t.sync=!1}function O(e,t,a,i){a||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),A(e,t)}function j(t,a){a.bufferProcessing=!0;var i=a.bufferedRequest;if(t._writev&&i&&i.next){var n=a.bufferedRequestCount,r=new Array(n),o=a.corkedRequestsFree;o.entry=i;for(var s=0,c=!0;i;)r[s]=i,i.isBuf||(c=!1),i=i.next,s+=1;r.allBuffers=c,S(t,a,!0,a.length,r,"",o.finish),a.pendingcb++,a.lastBufferedRequest=null,o.next?(a.corkedRequestsFree=o.next,o.next=null):a.corkedRequestsFree=new e(a),a.bufferedRequestCount=0}else{for(;i;){var l=i.chunk,u=i.encoding,p=i.callback;if(S(t,a,!1,a.objectMode?1:l.length,l,u,p),i=i.next,a.bufferedRequestCount--,a.writing)break}null===i&&(a.lastBufferedRequest=null)}a.bufferedRequest=i,a.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final(function(a){t.pendingcb--,a&&_(e,a),t.prefinished=!0,e.emit("prefinish"),A(e,t)})}function A(e,t){var a=T(t);if(a&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(E,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return a}return N_(P,i),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(w.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===P&&(e&&e._writableState instanceof w)}})):o=function(e){return e instanceof this},P.prototype.pipe=function(){_(this,new f)},P.prototype.write=function(e,t,a){var i,o=this._writableState,s=!1,c=!o.objectMode&&(i=e,n.isBuffer(i)||i instanceof r);return c&&!n.isBuffer(e)&&(e=function(e){return n.from(e)}(e)),"function"==typeof t&&(a=t,t=null),c?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof a&&(a=x),o.ending?function(e,t){var a=new y;_(e,a),process.nextTick(t,a)}(this,a):(c||function(e,t,a,i){var n;return null===a?n=new g:"string"==typeof a||t.objectMode||(n=new p("chunk",["string","Buffer"],a)),!n||(_(e,n),process.nextTick(i,n),!1)}(this,o,e,a))&&(o.pendingcb++,s=function(e,t,a,i,r,o){if(!a){var s=function(e,t,a){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=n.from(t,a));return t}(t,i,r);i!==s&&(a=!0,r="buffer",i=s)}var c=t.objectMode?1:i.length;t.length+=c;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:a,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,c,i,r,o);return l}(this,o,c,e,t,a)),s},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||j(this,e))},P.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(e,t,a){a(new d("_write()"))},P.prototype._writev=null,P.prototype.end=function(e,t,a){var i=this._writableState;return"function"==typeof e?(a=e,e=null,t=null):"function"==typeof t&&(a=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,a){t.ending=!0,A(e,t),a&&(t.finished?process.nextTick(a):e.once("finish",a));t.ended=!0,e.writable=!1}(this,i,a),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),P.prototype.destroy=s.destroy,P.prototype._undestroy=s.undestroy,P.prototype._destroy=function(e,t){t(e)},U_}function H_(){if($_)return D_;$_=1;var e=Object.keys||function(e){var t=[];for(var a in e)t.push(a);return t};D_=o;var t=fx(),a=F_();N_(o,t);for(var i=e(a.prototype),n=0;n<i.length;n++){var r=i[n];o.prototype[r]||(o.prototype[r]=a.prototype[r])}function o(e){if(!(this instanceof o))return new o(e);t.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||process.nextTick(c,this)}function c(e){e.end()}return Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),D_}var G_,W_,Q_,K_,V_,Y_,Z_,X_,ex,tx,ax,ix,nx,rx,ox,sx,cx={},lx={exports:{}};function ux(){if(W_)return cx;W_=1;var e=(G_||(G_=1,function(e,t){var a=h,i=a.Buffer;function n(e,t){for(var a in e)t[a]=e[a]}function r(e,t,a){return i(e,t,a)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=a:(n(a,t),t.Buffer=r),r.prototype=Object.create(i.prototype),n(i,r),r.from=function(e,t,a){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,a)},r.alloc=function(e,t,a){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof a?n.fill(t,a):n.fill(t):n.fill(0),n},r.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},r.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a.SlowBuffer(e)}}(lx,lx.exports)),lx.exports).Buffer,t=e.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(a){var i;switch(this.encoding=function(a){var i=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(a);if("string"!=typeof i&&(e.isEncoding===t||!t(a)))throw new Error("Unknown encoding: "+a);return i||a}(a),this.encoding){case"utf16le":this.text=r,this.end=o,i=4;break;case"utf8":this.fillLast=n,i=4;break;case"base64":this.text=s,this.end=c,i=3;break;default:return this.write=l,void(this.end=u)}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(i)}function i(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function n(e){var t=this.lastTotal-this.lastNeed,a=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==a?a:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function r(e,t){if((e.length-t)%2==0){var a=e.toString("utf16le",t);if(a){var i=a.charCodeAt(a.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],a.slice(0,-1)}return a}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function o(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var a=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,a)}return t}function s(e,t){var a=(e.length-t)%3;return 0===a?e.toString("base64",t):(this.lastNeed=3-a,this.lastTotal=3,1===a?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-a))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function u(e){return e&&e.length?this.write(e):""}return cx.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,a;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";a=this.lastNeed,this.lastNeed=0}else a=0;return a<e.length?t?t+this.text(e,a):this.text(e,a):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},a.prototype.text=function(e,t){var a=function(e,t,a){var n=t.length-1;if(n<a)return 0;var r=i(t[n]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--n<a||-2===r)return 0;if(r=i(t[n]),r>=0)return r>0&&(e.lastNeed=r-2),r;if(--n<a||-2===r)return 0;if(r=i(t[n]),r>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=a;var n=e.length-(a-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},cx}function px(){if(K_)return Q_;K_=1;var e=C_().codes.ERR_STREAM_PREMATURE_CLOSE;function t(){}return Q_=function a(i,n,r){if("function"==typeof n)return a(i,null,n);n||(n={}),r=function(e){var t=!1;return function(){if(!t){t=!0;for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];e.apply(this,i)}}}(r||t);var o=n.readable||!1!==n.readable&&i.readable,s=n.writable||!1!==n.writable&&i.writable,c=function(){i.writable||u()},l=i._writableState&&i._writableState.finished,u=function(){s=!1,l=!0,o||r.call(i)},p=i._readableState&&i._readableState.endEmitted,d=function(){o=!1,p=!0,s||r.call(i)},m=function(e){r.call(i,e)},f=function(){var t;return o&&!p?(i._readableState&&i._readableState.ended||(t=new e),r.call(i,t)):s&&!l?(i._writableState&&i._writableState.ended||(t=new e),r.call(i,t)):void 0},h=function(){i.req.on("finish",u)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(i)?s&&!i._writableState&&(i.on("end",c),i.on("close",c)):(i.on("complete",u),i.on("abort",f),i.req?h():i.on("request",h)),i.on("end",d),i.on("finish",u),!1!==n.error&&i.on("error",m),i.on("close",f),function(){i.removeListener("complete",u),i.removeListener("abort",f),i.removeListener("request",h),i.req&&i.req.removeListener("finish",u),i.removeListener("end",c),i.removeListener("close",c),i.removeListener("finish",u),i.removeListener("end",d),i.removeListener("error",m),i.removeListener("close",f)}},Q_}function dx(){if(Y_)return V_;var e;function t(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Y_=1;var a=px(),i=Symbol("lastResolve"),n=Symbol("lastReject"),r=Symbol("error"),o=Symbol("ended"),s=Symbol("lastPromise"),c=Symbol("handlePromise"),l=Symbol("stream");function u(e,t){return{value:e,done:t}}function p(e){var t=e[i];if(null!==t){var a=e[l].read();null!==a&&(e[s]=null,e[i]=null,e[n]=null,t(u(a,!1)))}}function d(e){process.nextTick(p,e)}var m=Object.getPrototypeOf(function(){}),f=Object.setPrototypeOf((t(e={get stream(){return this[l]},next:function(){var e=this,t=this[r];if(null!==t)return Promise.reject(t);if(this[o])return Promise.resolve(u(void 0,!0));if(this[l].destroyed)return new Promise(function(t,a){process.nextTick(function(){e[r]?a(e[r]):t(u(void 0,!0))})});var a,i=this[s];if(i)a=new Promise(function(e,t){return function(a,i){e.then(function(){t[o]?a(u(void 0,!0)):t[c](a,i)},i)}}(i,this));else{var n=this[l].read();if(null!==n)return Promise.resolve(u(n,!1));a=new Promise(this[c])}return this[s]=a,a}},Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var e=this;return new Promise(function(t,a){e[l].destroy(null,function(e){e?a(e):t(u(void 0,!0))})})}),e),m);return V_=function(e){var p,m=Object.create(f,(t(p={},l,{value:e,writable:!0}),t(p,i,{value:null,writable:!0}),t(p,n,{value:null,writable:!0}),t(p,r,{value:null,writable:!0}),t(p,o,{value:e._readableState.endEmitted,writable:!0}),t(p,c,{value:function(e,t){var a=m[l].read();a?(m[s]=null,m[i]=null,m[n]=null,e(u(a,!1))):(m[i]=e,m[n]=t)},writable:!0}),p));return m[s]=null,a(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=m[n];return null!==t&&(m[s]=null,m[i]=null,m[n]=null,t(e)),void(m[r]=e)}var a=m[i];null!==a&&(m[s]=null,m[i]=null,m[n]=null,a(u(void 0,!0))),m[o]=!0}),e.on("readable",d.bind(null,m)),m},V_}function mx(){if(X_)return Z_;function e(e,t,a,i,n,r,o){try{var s=e[r](o),c=s.value}catch(e){return void a(e)}s.done?t(c):Promise.resolve(c).then(i,n)}function t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function a(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}X_=1;var i=C_().codes.ERR_INVALID_ARG_TYPE;return Z_=function(n,r,o){var s;if(r&&"function"==typeof r.next)s=r;else if(r&&r[Symbol.asyncIterator])s=r[Symbol.asyncIterator]();else{if(!r||!r[Symbol.iterator])throw new i("iterable",["Iterable"],r);s=r[Symbol.iterator]()}var c=new n(function(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({objectMode:!0},o)),l=!1;function u(){return p.apply(this,arguments)}function p(){var t;return t=function*(){try{var e=yield s.next(),t=e.value;e.done?c.push(null):c.push(yield t)?u():l=!1}catch(e){c.destroy(e)}},p=function(){var a=this,i=arguments;return new Promise(function(n,r){var o=t.apply(a,i);function s(t){e(o,n,r,s,c,"next",t)}function c(t){e(o,n,r,s,c,"throw",t)}s(void 0)})},p.apply(this,arguments)}return c._read=function(){l||(l=!0,u())},c},Z_}function fx(){if(tx)return ex;var e;tx=1,ex=S,S.ReadableState=P,n.EventEmitter;var t=function(e,t){return e.listeners(t).length},a=S_(),i=h.Buffer,r=(void 0!==k?k:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var o,s=c;o=s&&s.debuglog?s.debuglog("stream"):function(){};var l,u,p,d=O_(),m=j_(),f=I_().getHighWaterMark,v=C_().codes,g=v.ERR_INVALID_ARG_TYPE,y=v.ERR_STREAM_PUSH_AFTER_EOF,b=v.ERR_METHOD_NOT_IMPLEMENTED,_=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;N_(S,a);var x=m.errorOrDestroy,w=["error","close","destroy","pause","resume"];function P(t,a,i){e=e||H_(),t=t||{},"boolean"!=typeof i&&(i=a instanceof e),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=f(this,t,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=ux().StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function S(t){if(e=e||H_(),!(this instanceof S))return new S(t);var i=this instanceof e;this._readableState=new P(t,this,i),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function O(e,t,a,n,s){o("readableAddChunk",t);var c,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(o("onEofChunk"),t.ended)return;if(t.decoder){var a=t.decoder.end();a&&a.length&&(t.buffer.push(a),t.length+=t.objectMode?1:a.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,C(e)))}(e,l);else if(s||(c=function(e,t){var a;n=t,i.isBuffer(n)||n instanceof r||"string"==typeof t||void 0===t||e.objectMode||(a=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return a}(l,t)),c)x(e,c);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===i.prototype||(t=function(e){return i.from(e)}(t)),n)l.endEmitted?x(e,new _):j(e,l,t,!0);else if(l.ended)x(e,new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!a?(t=l.decoder.write(t),l.objectMode||0!==t.length?j(e,l,t,!1):I(e,l)):j(e,l,t,!1)}else n||(l.reading=!1,I(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function j(e,t,a,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",a)):(t.length+=t.objectMode?1:a.length,i?t.buffer.unshift(a):t.buffer.push(a),t.needReadable&&A(e)),I(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=m.destroy,S.prototype._undestroy=m.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var a,n=this._readableState;return n.objectMode?a=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=i.from(e,t),t=""),a=!0),O(this,e,t,!1,a)},S.prototype.unshift=function(e){return O(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){l||(l=ux().StringDecoder);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var a=this._readableState.buffer.head,i="";null!==a;)i+=t.write(a.data),a=a.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=1073741824;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(C,e))}function C(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function I(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var a=t.length;if(o("maybeReadMore read 0"),e.read(0),a===t.length)break}t.readingMore=!1}function z(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){o("readable nexttick read 0"),e.read(0)}function q(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function J(e,t){return 0===t.length?null:(t.objectMode?a=t.buffer.shift():!e||e>=t.length?(a=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):a=t.buffer.consume(e,t.decoder),a);var a}function U(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(B,t,e))}function B(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var a=t._writableState;(!a||a.autoDestroy&&a.finished)&&t.destroy()}}function D(e,t){for(var a=0,i=e.length;a<i;a++)if(e[a]===t)return a;return-1}return S.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,a=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):A(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&U(this),null;var i,n=t.needReadable;return o("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",n=!0),t.ended||t.reading?o("reading or ended",n=!1):n&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(a,t))),null===(i=e>0?J(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),a!==e&&t.ended&&U(this)),null!==i&&this.emit("data",i),i},S.prototype._read=function(e){x(this,new b("_read()"))},S.prototype.pipe=function(e,a){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,a);var r=(!a||!1!==a.end)&&e!==process.stdout&&e!==process.stderr?c:h;function s(t,a){o("onunpipe"),t===i&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),e.removeListener("close",m),e.removeListener("finish",f),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",s),i.removeListener("end",c),i.removeListener("end",h),i.removeListener("data",p),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){o("onend"),e.end()}n.endEmitted?process.nextTick(r):i.once("end",r),e.on("unpipe",s);var l=function(e){return function(){var a=e._readableState;o("pipeOnDrain",a.awaitDrain),a.awaitDrain&&a.awaitDrain--,0===a.awaitDrain&&t(e,"data")&&(a.flowing=!0,L(e))}}(i);e.on("drain",l);var u=!1;function p(t){o("ondata");var a=e.write(t);o("dest.write",a),!1===a&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==D(n.pipes,e))&&!u&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),i.pause())}function d(a){o("onerror",a),h(),e.removeListener("error",d),0===t(e,"error")&&x(e,a)}function m(){e.removeListener("finish",f),h()}function f(){o("onfinish"),e.removeListener("close",m),h()}function h(){o("unpipe"),i.unpipe(e)}return i.on("data",p),function(e,t,a){if("function"==typeof e.prependListener)return e.prependListener(t,a);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(a):e._events[t]=[a,e._events[t]]:e.on(t,a)}(e,"error",d),e.once("close",m),e.once("finish",f),e.emit("pipe",i),n.flowing||(o("pipe resume"),i.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,a={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,a)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var r=0;r<n;r++)i[r].emit("unpipe",this,{hasUnpiped:!1});return this}var o=D(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,a)),this},S.prototype.on=function(e,t){var i=a.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?A(this):n.reading||process.nextTick(M,this))),i},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var i=a.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(z,this),i},S.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(z,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(q,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,a=this._readableState,i=!1;for(var n in e.on("end",function(){if(o("wrapped end"),a.decoder&&!a.ended){var e=a.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(n){(o("wrapped data"),a.decoder&&(n=a.decoder.write(n)),a.objectMode&&null==n)||(a.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))}),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var r=0;r<w.length;r++)e.on(w[r],this.emit.bind(this,w[r]));return this._read=function(t){o("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=dx()),u(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=J,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===p&&(p=mx()),p(S,e,t)}),ex}function hx(){if(ix)return ax;ix=1,ax=s;var e=C_().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,a=e.ERR_MULTIPLE_CALLBACK,i=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,n=e.ERR_TRANSFORM_WITH_LENGTH_0,r=H_();function o(e,t){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(null===n)return this.emit("error",new a);i.writechunk=null,i.writecb=null,null!=t&&this.push(t),n(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function c(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush(function(t,a){l(e,t,a)})}function l(e,t,a){if(t)return e.emit("error",t);if(null!=a&&e.push(a),e._writableState.length)throw new n;if(e._transformState.transforming)throw new i;return e.push(null)}return N_(s,r),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},s.prototype._transform=function(e,a,i){i(new t("_transform()"))},s.prototype._write=function(e,t,a){var i=this._transformState;if(i.writecb=a,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},s.prototype._destroy=function(e,t){r.prototype._destroy.call(this,e,function(e){t(e)})},ax}function vx(){if(sx)return ox;var e;sx=1;var t=C_().codes,a=t.ERR_MISSING_ARGS,i=t.ERR_STREAM_DESTROYED;function n(e){if(e)throw e}function r(e){e()}function o(e,t){return e.pipe(t)}return ox=function(){for(var t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];var l,u=function(e){return e.length?"function"!=typeof e[e.length-1]?n:e.pop():n}(s);if(Array.isArray(s[0])&&(s=s[0]),s.length<2)throw new a("streams");var p=s.map(function(t,a){var n=a<s.length-1;return function(t,a,n,r){r=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(r);var o=!1;t.on("close",function(){o=!0}),void 0===e&&(e=px()),e(t,{readable:a,writable:n},function(e){if(e)return r(e);o=!0,r()});var s=!1;return function(e){if(!o&&!s)return s=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void r(e||new i("pipe"))}}(t,n,a>0,function(e){l||(l=e),e&&p.forEach(r),n||(p.forEach(r),u(l))})});return s.reduce(o)},ox}!function(e,t){var a=p;"disable"===process.env.READABLE_STREAM&&a?(e.exports=a.Readable,Object.assign(e.exports,a),e.exports.Stream=a):((t=e.exports=fx()).Stream=a||t,t.Readable=t,t.Writable=F_(),t.Duplex=H_(),t.Transform=hx(),t.PassThrough=function(){if(rx)return nx;rx=1,nx=t;var e=hx();function t(a){if(!(this instanceof t))return new t(a);e.call(this,a)}return N_(t,e),t.prototype._transform=function(e,t,a){a(null,e)},nx}(),t.finished=px(),t.pipeline=vx())}(P_,P_.exports);var gx=P_.exports,yx=Object.prototype.toString,bx="undefined"!=typeof Buffer&&"function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;var _x,xx=function(e,t,a){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return i=e,"ArrayBuffer"===yx.call(i).slice(8,-1)?function(e,t,a){t>>>=0;var i=e.byteLength-t;if(i<0)throw new RangeError("'offset' is out of bounds");if(void 0===a)a=i;else if((a>>>=0)>i)throw new RangeError("'length' is out of bounds");return bx?Buffer.from(e.slice(t,t+a)):new Buffer(new Uint8Array(e.slice(t,t+a)))}(e,t,a):"string"==typeof e?function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return bx?Buffer.from(e,t):new Buffer(e,t)}(e,t):bx?Buffer.from(e):new Buffer(e);var i},wx={};var Px=gx.Writable,Sx=N_,Ox=xx;if("undefined"==typeof Uint8Array)var jx=(_x||(_x=1,function(e){var t,a,i,n=void 0,r=(t=Object.prototype.toString,a=Object.prototype.hasOwnProperty,{Class:function(e){return t.call(e).replace(/^\[object *|\]$/g,"")},HasProperty:function(e,t){return t in e},HasOwnProperty:function(e,t){return a.call(e,t)},IsCallable:function(e){return"function"==typeof e},ToInt32:function(e){return 0|e},ToUint32:function(e){return e>>>0}}),o=Math.LN2,s=Math.abs,c=Math.floor,l=Math.log,u=Math.min,p=Math.pow,d=Math.round;function m(e){if(f&&i){var t,a=f(e);for(t=0;t<a.length;t+=1)i(e,a[t],{value:e[a[t]],writable:!1,enumerable:!1,configurable:!1})}}i=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()?Object.defineProperty:function(e,t,a){if(!e===Object(e))throw new TypeError("Object.defineProperty called on non-object");return r.HasProperty(a,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(e,t,a.get),r.HasProperty(a,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(e,t,a.set),r.HasProperty(a,"value")&&(e[t]=a.value),e};var f=Object.getOwnPropertyNames||function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t,a=[];for(t in e)r.HasOwnProperty(e,t)&&a.push(t);return a};function h(e,t){var a=32-t;return e<<a>>a}function v(e,t){var a=32-t;return e<<a>>>a}function g(e){return[255&e]}function y(e){return h(e[0],8)}function b(e){return[255&e]}function _(e){return v(e[0],8)}function x(e){return[(e=d(Number(e)))<0?0:e>255?255:255&e]}function w(e){return[e>>8&255,255&e]}function P(e){return h(e[0]<<8|e[1],16)}function S(e){return[e>>8&255,255&e]}function O(e){return v(e[0]<<8|e[1],16)}function j(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function T(e){return h(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function E(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function k(e){return v(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function A(e,t,a){var i,n,r,d,m,f,h,v=(1<<t-1)-1;function g(e){var t=c(e),a=e-t;return a<.5?t:a>.5||t%2?t+1:t}for(e!=e?(n=(1<<t)-1,r=p(2,a-1),i=0):e===1/0||e===-1/0?(n=(1<<t)-1,r=0,i=e<0?1:0):0===e?(n=0,r=0,i=1/e==-1/0?1:0):(i=e<0,(e=s(e))>=p(2,1-v)?(n=u(c(l(e)/o),1023),(r=g(e/p(2,n)*p(2,a)))/p(2,a)>=2&&(n+=1,r=1),n>v?(n=(1<<t)-1,r=0):(n+=v,r-=p(2,a))):(n=0,r=g(e/p(2,1-v-a)))),m=[],d=a;d;d-=1)m.push(r%2?1:0),r=c(r/2);for(d=t;d;d-=1)m.push(n%2?1:0),n=c(n/2);for(m.push(i?1:0),m.reverse(),f=m.join(""),h=[];f.length;)h.push(parseInt(f.substring(0,8),2)),f=f.substring(8);return h}function C(e,t,a){var i,n,r,o,s,c,l,u,d=[];for(i=e.length;i;i-=1)for(r=e[i-1],n=8;n;n-=1)d.push(r%2?1:0),r>>=1;return d.reverse(),o=d.join(""),s=(1<<t-1)-1,c=parseInt(o.substring(0,1),2)?-1:1,l=parseInt(o.substring(1,1+t),2),u=parseInt(o.substring(1+t),2),l===(1<<t)-1?0!==u?NaN:c*(1/0):l>0?c*p(2,l-s)*(1+u/p(2,a)):0!==u?c*p(2,-(s-1))*(u/p(2,a)):c<0?-0:0}function I(e){return C(e,11,52)}function R(e){return A(e,11,52)}function z(e){return C(e,8,23)}function M(e){return A(e,8,23)}!function(){var t=function(e){if((e=r.ToInt32(e))<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");var t;for(this.byteLength=e,this._bytes=[],this._bytes.length=e,t=0;t<this.byteLength;t+=1)this._bytes[t]=0;m(this)};e.ArrayBuffer=e.ArrayBuffer||t;var a=function(){};function o(e,o,s){var c;return c=function(e,a,n){var o,s,l,u;if(arguments.length&&"number"!=typeof arguments[0])if("object"==typeof arguments[0]&&arguments[0].constructor===c)for(o=arguments[0],this.length=o.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0,l=0;l<this.length;l+=1)this._setter(l,o._getter(l));else if("object"!=typeof arguments[0]||arguments[0]instanceof t||"ArrayBuffer"===r.Class(arguments[0])){if("object"!=typeof arguments[0]||!(arguments[0]instanceof t||"ArrayBuffer"===r.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=e,this.byteOffset=r.ToUint32(a),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=r.ToUint32(n),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(s=arguments[0],this.length=r.ToUint32(s.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0,l=0;l<this.length;l+=1)u=s[l],this._setter(l,Number(u));else{if(this.length=r.ToInt32(arguments[0]),n<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0}this.constructor=c,m(this),function(e){if(i){if(e.length>1e5)throw new RangeError("Array too large for polyfill");var t;for(t=0;t<e.length;t+=1)a(t)}function a(t){i(e,t,{get:function(){return e._getter(t)},set:function(a){e._setter(t,a)},enumerable:!0,configurable:!1})}}(this)},c.prototype=new a,c.prototype.BYTES_PER_ELEMENT=e,c.prototype._pack=o,c.prototype._unpack=s,c.BYTES_PER_ELEMENT=e,c.prototype._getter=function(e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if((e=r.ToUint32(e))>=this.length)return n;var t,a,i=[];for(t=0,a=this.byteOffset+e*this.BYTES_PER_ELEMENT;t<this.BYTES_PER_ELEMENT;t+=1,a+=1)i.push(this.buffer._bytes[a]);return this._unpack(i)},c.prototype.get=c.prototype._getter,c.prototype._setter=function(e,t){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if((e=r.ToUint32(e))>=this.length)return n;var a,i,o=this._pack(t);for(a=0,i=this.byteOffset+e*this.BYTES_PER_ELEMENT;a<this.BYTES_PER_ELEMENT;a+=1,i+=1)this.buffer._bytes[i]=o[a]},c.prototype.set=function(e,t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var a,i,n,o,s,c,l,u,p,d;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(a=arguments[0],(n=r.ToUint32(arguments[1]))+a.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(u=this.byteOffset+n*this.BYTES_PER_ELEMENT,p=a.length*this.BYTES_PER_ELEMENT,a.buffer===this.buffer){for(d=[],s=0,c=a.byteOffset;s<p;s+=1,c+=1)d[s]=a.buffer._bytes[c];for(s=0,l=u;s<p;s+=1,l+=1)this.buffer._bytes[l]=d[s]}else for(s=0,c=a.byteOffset,l=u;s<p;s+=1,c+=1,l+=1)this.buffer._bytes[l]=a.buffer._bytes[c]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(i=arguments[0],o=r.ToUint32(i.length),(n=r.ToUint32(arguments[1]))+o>this.length)throw new RangeError("Offset plus length of array is out of range");for(s=0;s<o;s+=1)c=i[s],this._setter(n+s,Number(c))}},c.prototype.subarray=function(e,t){function a(e,t,a){return e<t?t:e>a?a:e}e=r.ToInt32(e),t=r.ToInt32(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=a(e,0,this.length);var i=(t=a(t,0,this.length))-e;return i<0&&(i=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,i)},c}var s=o(1,g,y),c=o(1,b,_),l=o(1,x,_),u=o(2,w,P),p=o(2,S,O),d=o(4,j,T),f=o(4,E,k),h=o(4,M,z),v=o(8,R,I);e.Int8Array=e.Int8Array||s,e.Uint8Array=e.Uint8Array||c,e.Uint8ClampedArray=e.Uint8ClampedArray||l,e.Int16Array=e.Int16Array||u,e.Uint16Array=e.Uint16Array||p,e.Int32Array=e.Int32Array||d,e.Uint32Array=e.Uint32Array||f,e.Float32Array=e.Float32Array||h,e.Float64Array=e.Float64Array||v}(),function(){function t(e,t){return r.IsCallable(e.get)?e.get(t):e[t]}var a,i=(a=new e.Uint16Array([4660]),18===t(new e.Uint8Array(a.buffer),0)),n=function(t,a,i){if(0===arguments.length)t=new e.ArrayBuffer(0);else if(!(t instanceof e.ArrayBuffer||"ArrayBuffer"===r.Class(t)))throw new TypeError("TypeError");if(this.buffer=t||new e.ArrayBuffer(0),this.byteOffset=r.ToUint32(a),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteLength=arguments.length<3?this.buffer.byteLength-this.byteOffset:r.ToUint32(i),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");m(this)};function o(a){return function(n,o){if((n=r.ToUint32(n))+a.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");n+=this.byteOffset;var s,c=new e.Uint8Array(this.buffer,n,a.BYTES_PER_ELEMENT),l=[];for(s=0;s<a.BYTES_PER_ELEMENT;s+=1)l.push(t(c,s));return Boolean(o)===Boolean(i)&&l.reverse(),t(new a(new e.Uint8Array(l).buffer),0)}}function s(a){return function(n,o,s){if((n=r.ToUint32(n))+a.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var c,l=new a([o]),u=new e.Uint8Array(l.buffer),p=[];for(c=0;c<a.BYTES_PER_ELEMENT;c+=1)p.push(t(u,c));Boolean(s)===Boolean(i)&&p.reverse(),new e.Uint8Array(this.buffer,n,a.BYTES_PER_ELEMENT).set(p)}}n.prototype.getUint8=o(e.Uint8Array),n.prototype.getInt8=o(e.Int8Array),n.prototype.getUint16=o(e.Uint16Array),n.prototype.getInt16=o(e.Int16Array),n.prototype.getUint32=o(e.Uint32Array),n.prototype.getInt32=o(e.Int32Array),n.prototype.getFloat32=o(e.Float32Array),n.prototype.getFloat64=o(e.Float64Array),n.prototype.setUint8=s(e.Uint8Array),n.prototype.setInt8=s(e.Int8Array),n.prototype.setUint16=s(e.Uint16Array),n.prototype.setInt16=s(e.Int16Array),n.prototype.setUint32=s(e.Uint32Array),n.prototype.setInt32=s(e.Int32Array),n.prototype.setFloat32=s(e.Float32Array),n.prototype.setFloat64=s(e.Float64Array),e.DataView=e.DataView||n}()}(wx)),wx).Uint8Array;else jx=Uint8Array;function Tx(e,t){if(!(this instanceof Tx))return new Tx(e,t);"function"==typeof e&&(t=e,e={}),e||(e={});var a=e.encoding,i=!1;a?"u8"!==(a=String(a).toLowerCase())&&"uint8"!==a||(a="uint8array"):i=!0,Px.call(this,{objectMode:!0}),this.encoding=a,this.shouldInferEncoding=i,t&&this.on("finish",function(){t(this.getBody())}),this.body=[]}var Ex=Tx;function kx(e){return"string"==typeof e||(t=e,/Array\]$/.test(Object.prototype.toString.call(t)))||e&&"function"==typeof e.subarray;var t}Sx(Tx,Px),Tx.prototype._write=function(e,t,a){this.body.push(e),a()},Tx.prototype.inferEncoding=function(e){var t=void 0===e?this.body[0]:e;return Buffer.isBuffer(t)?"buffer":"undefined"!=typeof Uint8Array&&t instanceof Uint8Array?"uint8array":Array.isArray(t)?"array":"string"==typeof t?"string":"[object Object]"===Object.prototype.toString.call(t)?"object":"buffer"},Tx.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?function(e){for(var t=[],a=0;a<e.length;a++)t.push.apply(t,e[a]);return t}(this.body):"string"===this.encoding?function(e){for(var t=[],a=0;a<e.length;a++){var i=e[a];"string"==typeof i||Buffer.isBuffer(i)?t.push(i):kx(i)?t.push(Ox(i)):t.push(Ox(String(i)))}t=Buffer.isBuffer(e[0])?(t=Buffer.concat(t)).toString("utf8"):t.join("");return t}(this.body):"buffer"===this.encoding?function(e){for(var t=[],a=0;a<e.length;a++){var i=e[a];Buffer.isBuffer(i)?t.push(i):kx(i)?t.push(Ox(i)):t.push(Ox(String(i)))}return Buffer.concat(t)}(this.body):"uint8array"===this.encoding?function(e){for(var t=0,a=0;a<e.length;a++)"string"==typeof e[a]&&(e[a]=Ox(e[a])),t+=e[a].length;for(var i=new jx(t),n=(a=0,0);a<e.length;a++)for(var r=e[a],o=0;o<r.length;o++)i[n++]=r[o];return i}(this.body):this.body):[]};var Ax=Ex;function Cx(e){}Cx.prototype._handleFile=function(e,t,a){t.stream.pipe(Ax({encoding:"buffer"},function(e){a(null,{buffer:e,size:e.length})}))},Cx.prototype._removeFile=function(e,t,a){delete t.buffer,a(null)};var Ix=i_,Rx=function(e){return new v_(e)},zx=function(e){return new Cx},Mx=Bb;function qx(e,t,a){a(null,!0)}function Lx(e){e.storage?this.storage=e.storage:e.dest?this.storage=Rx({destination:e.dest}):this.storage=zx(),this.limits=e.limits,this.preservePath=e.preservePath,this.fileFilter=e.fileFilter||qx}Lx.prototype._makeMiddleware=function(e,t){return Ix(function(){var a=this.fileFilter,i=Object.create(null);return e.forEach(function(e){"number"==typeof e.maxCount?i[e.name]=e.maxCount:i[e.name]=1/0}),{limits:this.limits,preservePath:this.preservePath,storage:this.storage,fileFilter:function(e,t,n){if((i[t.fieldname]||0)<=0)return n(new Mx("LIMIT_UNEXPECTED_FILE",t.fieldname));i[t.fieldname]-=1,a(e,t,n)},fileStrategy:t}}.bind(this))},Lx.prototype.single=function(e){return this._makeMiddleware([{name:e,maxCount:1}],"VALUE")},Lx.prototype.array=function(e,t){return this._makeMiddleware([{name:e,maxCount:t}],"ARRAY")},Lx.prototype.fields=function(e){return this._makeMiddleware(e,"OBJECT")},Lx.prototype.none=function(){return this._makeMiddleware([],"NONE")},Lx.prototype.any=function(){return Ix(function(){return{limits:this.limits,preservePath:this.preservePath,storage:this.storage,fileFilter:this.fileFilter,fileStrategy:"ARRAY"}}.bind(this))},py.exports=function(e){if(void 0===e)return new Lx({});if("object"==typeof e&&null!==e)return new Lx(e);throw new TypeError("Expected object for argument options")},py.exports.diskStorage=Rx,py.exports.memoryStorage=zx,py.exports.MulterError=Mx;var Jx=A(py.exports);const Ux=Jx({storage:Jx.memoryStorage(),limits:{fileSize:5242880},fileFilter:(e,t,a)=>{["image/jpeg","image/png","image/gif","image/webp"].includes(t.mimetype)?a(null,!0):a(new Error("Invalid file type. Only JPEG, PNG, GIF, and WebP images are allowed."))}});const Bx=[{name:"recent-view-hook",config:({action:e},{services:t,database:a,getSchema:i})=>{const{ItemsService:n}=t;async function r(e,t,a){try{const{payload:r,query:o}=t;let s=null;o?.filter?.id?._eq?s=o.filter.id._eq:r&&Array.isArray(r)&&1===r.length&&r[0]?.id&&(s=r[0].id),s?(await async function(e,t,a){try{if(!a?.user)return void console.log("No authenticated user, skipping tracking");const r=await i(),o=new n("recent_views",{schema:r,accountability:a});console.log("Recent views service created",a.user,e,t);const s=await o.readByQuery({filter:{_and:[{user_created:{_eq:a.user}},{collection:{_eq:e}},{item_id:{_eq:t}}]},limit:1});console.log("Existing view check result:",s);const c=(new Date).toISOString();if(s.length>0){const a=await o.updateOne(s[0].id,{date_updated:c});console.log(`Updated recent view for ${e}:${t}`,a)}else{const i=await o.createOne({collection:e,item_id:t,date_updated:c});console.log(`Created recent view for ${e}:${t}`,i),await async function(e,t,a=100){try{const i=await t.readByQuery({filter:{user_created:{_eq:e}},sort:["-date_updated"],limit:-1,fields:["id","date_updated"]});if(i.length>a){const n=i.slice(a),r=n.map(e=>e.id);await t.deleteMany(r),console.log(`Cleaned up ${n.length} old recent views for user ${e}`)}}catch(e){console.error("Error enforcing recent views limit:",e)}}(a.user,o)}}catch(e){console.error("Error tracking recent view:",e),console.error("Error stack:",e.stack)}}(e,s,a),console.log(`Tracked single item view: ${e}:${s}`)):console.log(`Skipped tracking for ${e} - list view or multiple items`)}catch(t){console.error(`Error handling ${e} read:`,t)}}console.log("Recent Views Action Hook: Registered"),e("projects.items.read",async(e,t)=>{await r("projects",e,t.accountability)}),e("companies.items.read",async(e,t)=>{await r("companies",e,t.accountability)}),e("projects_tenders.items.read",async(e,t)=>{await r("projects_tenders",e,t.accountability)}),e("main_news.items.read",async(e,t)=>{await r("main_news",e,t.accountability)}),e("experts_analysts.items.read",async(e,t)=>{await r("experts_analysts",e,t.accountability)})}},{name:"favorites-counter",config:({filter:e,action:t})=>{t("favorites.items.create",async({payload:e},{database:t})=>{const{collection:a,item_id:i}=e;await t(a).where("id",i).increment("favorites_count",1)}),t("favorites.items.delete",async({keys:e},{database:t})=>{const a=await t("favorites").whereIn("id",e).select("collection","item_id");for(const e of a)await t(e.collection).where("id",e.item_id).decrement("favorites_count",1)})}},{name:"slug",config:({action:e},{services:t,getSchema:a})=>{const{ItemsService:i}=t;console.log("Auto Slug Hook: Registered and listening for events");const n={projects:{sourceField:"title",slugField:"slug",unique:!0,maxLength:100},companies:{sourceField:"name",slugField:"slug",unique:!0,maxLength:100},main_news:{sourceField:"title",slugField:"slug",unique:!0,maxLength:100},projects_tenders:{sourceField:"title",slugField:"slug",unique:!0,maxLength:100},experts_analysts:{sourceField:"name",slugField:"slug",unique:!0,maxLength:100},blog:{sourceField:"title",slugField:"slug",unique:!0,maxLength:100},events:{sourceField:"title",slugField:"slug",unique:!0,maxLength:100},countries:{sourceField:"name",slugField:"slug",unique:!0,maxLength:100},sectors:{sourceField:"name",slugField:"slug",unique:!0,maxLength:100},subsectors:{sourceField:"name",slugField:"slug",unique:!0,maxLength:100},regions:{sourceField:"name",slugField:"slug",unique:!0,maxLength:100},project_status:{sourceField:"name",slugField:"slug",unique:!0,maxLength:100}};async function r(e,t,r,o){try{console.log(`Auto Slug: Processing ${o} for ${e}`,t);const s=n[e];if(!s)return;const c=await a(),l=new i(e,{schema:c,accountability:r});let u;if("create"===o)u=t.payload;else if("update"===o){u={...await l.readOne(t.key,{fields:[s.slugField,s.sourceField]}),...t.payload}}if(u[s.slugField]&&""!==u[s.slugField].trim())return void console.log(`Auto Slug: ${e} already has slug: ${u[s.slugField]}`);const p=u[s.sourceField];if(!p||""===p.trim())return void console.warn(`Auto Slug: Cannot generate slug for ${e} - source field "${s.sourceField}" is empty`);console.log(`Auto Slug: Generating slug for ${e} from: "${p}"`);let d=function(e,t=100){if(!e)return"";let a=e.toLowerCase();a=a.replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),a.length>t&&(a=a.substring(0,t),a.endsWith("-")&&(a=a.substring(0,a.length-1)));a&&""!==a.trim()||(a="item-"+Date.now());return a}(p,s.maxLength),m=d;s.unique&&(m=await async function(e,t,a,i,n=null){let r=a,o=1,s=!1;for(;!s&&o<100;)try{const e=await i.readByQuery({filter:{[t]:{_eq:r}},limit:1,fields:["id"]});e.length>0&&(!n||e[0].id!==n)?(r=`${a}-${o}`,o++):s=!0}catch(t){console.error(`Auto Slug: Error checking slug uniqueness for ${e}:`,t),s=!0}return r}(e,s.slugField,d,l,t.key)),console.log(`Auto Slug: Generated slug for ${e}: ${m}`),("create"===o||"update"===o)&&(t.payload[s.slugField]=m)}catch(t){console.error(`Auto Slug: Error generating slug for ${e}:`,t)}}Object.keys(n).forEach(t=>{e(`${t}.items.create`,async(e,{accountability:a})=>{await r(t,e,a,"create")}),e(`${t}.items.update`,async(e,{accountability:a})=>{await r(t,e,a,"update")})})}},{name:"project-news-hook",config:({action:e},{services:t,database:a})=>{const{ItemsService:i}=t;e("news_updates.items.create",async({payload:e,key:t,collection:a},{schema:n,accountability:r})=>{try{console.log("[NEWS_UPDATE_HOOK] News update created:",t);const a=e.project;if(!a)return void console.log("[NEWS_UPDATE_HOOK] No project_id found in payload");console.log("[NEWS_UPDATE_HOOK] Updating project:",a);const o=new i("projects",{schema:n,accountability:r});await o.updateOne(a,{news_update_at:(new Date).toISOString()}),console.log("[NEWS_UPDATE_HOOK] Successfully updated project news_update_at")}catch(e){console.error("[NEWS_UPDATE_HOOK] Error updating project:",e)}}),e("news_updates.items.update",async({payload:e,keys:t,collection:a},{schema:n,accountability:r})=>{try{console.log("[NEWS_UPDATE_HOOK] News update edited:",t);const e=new i("news_updates",{schema:n,accountability:r});for(const a of t){const t=(await e.readOne(a,{fields:["project","project"]})).project;if(!t){console.log("[NEWS_UPDATE_HOOK] No project_id found for news update:",a);continue}console.log("[NEWS_UPDATE_HOOK] Updating project:",t);const o=new i("projects",{schema:n,accountability:r});await o.updateOne(t,{news_update_at:(new Date).toISOString()}),console.log("[NEWS_UPDATE_HOOK] Successfully updated project news_update_at")}}catch(e){console.error("[NEWS_UPDATE_HOOK] Error updating project:",e)}})}}],Dx=[{name:"projects",config:(e,{services:t,exceptions:a,getSchema:i,database:n})=>{const{ItemsService:r,AssetsService:o}=t;function s(e,t="id"){return e&&Array.isArray(e)?e.map(e=>{const a=e[`${t}_id`]||e;return a&&a.id?{id:a.id,name:a.name||"Unnamed"}:null}).filter(Boolean):[]}e.get("/",async(e,t,a)=>{try{const{accountability:a}=e,o=await i(),s=new r("projects",{schema:o,accountability:e.accountability}),c=e.query.groupBy,l=parseInt(e.query.limit)||25,u=parseInt(e.query.page)||1,p=(u-1)*l;let d=0,m=0;try{const t=e.query.filter||{};let a=n("projects").count("* as count");const i=await a;d=parseInt(i[0]?.count)||0,m=(Object.keys(t).length,d),console.log("Total count from DB:",d)}catch(e){console.error("Error getting count:",e),d=f?.length||0,m=d}const f=await s.readByQuery({fields:["id","title","slug","contract_value_usd","summary","description","news_updated_at","estimated_project_value_usd","value_range","construction_start_date","location","current_stage","current_status.id","current_status.name","current_status.slug","email","countries.countries_id.id","countries.countries_id.name","countries.countries_id.slug","regions.regions_id.id","regions.regions_id.name","regions.regions_id.slug","types.types_id.id","types.types_id.name","sectors.sectors_id.id","sectors.sectors_id.name","sectors.sectors_id.slug","subsector.subsectors_id.id","subsector.subsectors_id.name","current_status","current_status.id","current_status.name","current_status.slug","featured_image","featured_image.id","featured_image.filename_disk","featured_image.title","featured_image.filesize"],limit:c?-1:l,sort:["-date_created"],offset:c?0:p,filter:e.query.filter||{}}),h={total_count:d,filter_count:m,limit:l,page:u,page_count:Math.ceil(d/l)};console.log("Final meta:",h);const v=f.map(e=>{let t=!1;if(e.news_updated_at){const a=new Date(e.news_updated_at),i=new Date;i.setDate(i.getDate()-30),t=a>i}e.featured_image&&"object"==typeof e.featured_image&&e.featured_image.id&&(e.featured_image.url=`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}`,e.featured_image.thumbnail_url=`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}?width=400&height=300&fit=cover`);const a=e.countries?[...e.countries]:[],i=e.regions?[...e.regions]:[],n=e.types?[...e.types]:[],r=e.sectors?[...e.sectors]:[];return e.countries&&Array.isArray(e.countries)&&(e.countries=e.countries.map(e=>e.countries_id).filter(Boolean)),e.regions&&Array.isArray(e.regions)&&(e.regions=e.regions.map(e=>e.regions_id).filter(Boolean)),e.types&&Array.isArray(e.types)&&(e.types=e.types.map(e=>e.types_id).filter(Boolean)),e.sectors&&Array.isArray(e.sectors)&&(e.sectors=e.sectors.map(e=>e.sectors_id).filter(Boolean)),c&&(e._originals={countries:a,regions:i,types:n,sectors:r}),e.has_recent_update=t,e});if(c){const a=function(e,t){const a=new Map;return e.forEach(e=>{let i=[];switch(t){case"country":i=e._originals.countries.map(e=>({id:e.countries_id?.id,name:e.countries_id?.name||"Unknown Country",data:e.countries_id}));break;case"region":i=e._originals.regions.map(e=>({id:e.regions_id?.id,name:e.regions_id?.name||"Unknown Region",data:e.regions_id}));break;case"sector":i=e._originals.sectors.map(e=>({id:e.sectors_id?.id,name:e.sectors_id?.name||"Unknown Sector",data:e.sectors_id}));break;case"type":i=e._originals.types.map(e=>({id:e.types_id?.id,name:e.types_id?.name||"Unknown Type",data:e.types_id}));break;case"company":i=e._originals.companies.map(e=>({id:e.companies_id?.id,name:e.companies_id?.name||"Unknown Company",data:e.companies_id}));break;default:i=[{id:"all",name:"All Projects",data:null}]}0===i.length&&(i=[{id:"unknown",name:`Unknown ${t}`,data:null}]),i.forEach(t=>{a.has(t.id)||a.set(t.id,{id:t.id,name:t.name,data:t.data,projects:[],count:0,totalValue:0});const i=a.get(t.id),n={...e};delete n._originals,i.projects.push(n),i.count++,e.contract_value_usd&&(i.totalValue+=parseFloat(e.contract_value_usd)||0)})}),Array.from(a.values()).sort((e,t)=>e.name.localeCompare(t.name))}(v,c),i=parseInt(e.query.limit)||5,n=parseInt(e.query.page)||1,r=a.length,o=(n-1)*i,s=o+i,l=a.slice(o,s);return t.json({data:l,meta:{total_groups:r,groupBy:c,page:n,limit:i,page_count:Math.ceil(r/i)}})}let g;return g=a?.user?await async function(e,t,a,i){if(!e||0===e.length)return e;try{const n=new r("favourites",{schema:a,accountability:i}),o=e.map(e=>e.id),s=await n.readByQuery({filter:{_and:[{user_created:{_eq:t}},{collection:{_eq:"projects"}},{item_id:{_in:o}}]},fields:["id","item_id"],limit:-1}),c=new Map;return s.forEach(e=>{c.set(e.item_id,e.id)}),e.map(e=>({...e,is_favorited:c.has(e.id),favorite_id:c.get(e.id)||null}))}catch(e){throw console.error("Error in addFavoritesStatus:",e),e}}(v,a.user,o,e.accountability):v.map(e=>({...e,is_favorited:!1,favorite_id:null})),t.json({data:g,meta:h})}catch(e){console.error("Projects error:",e),a(e)}}),e.get("/stats/filters",async(e,t,a)=>{try{const a=await i(),{q:n}=e.query;if(!n||!["type","sector","region"].includes(n))return t.status(400).json({error:"Invalid filter parameter. Must be one of: type, sector, region"});const o=new r("projects",{schema:a,accountability:e.accountability}),s={type:"types.types_id.*",sector:"sectors.sectors_id.*",region:"regions.regions_id.*"},c=await o.readByQuery({fields:["id",s[n]],limit:-1}),l="type"===n?"types":"sector"===n?"sectors":"regions",u=("type"===n?"types":"sector"===n?"sectors":"regions")+"_id",p=new Map;let d=0;c.forEach(e=>{e[l]&&Array.isArray(e[l])&&e[l].forEach(e=>{if(e[u]){const t=e[u],a=t.id;p.has(a)||p.set(a,{id:t.id,name:t.name,slug:t.slug||null,count:0}),p.get(a).count++,d++}})});const m=Array.from(p.values()).map(e=>({...e,percentage:d>0?Math.round(e.count/d*100*10)/10:0})).sort((e,t)=>t.count-e.count);return t.json({data:{filter:n,total_projects:c.length,total_relations:d,stats:m}})}catch(e){console.error("Project stats error:",e),a(e)}}),e.get("/:id",async(e,t,a)=>{try{const a=await i(),{accountability:n}=e,o=e.params.id,s=new r("projects",{schema:a,accountability:e.accountability}),c=await s.readOne(o,{fields:["*","countries.countries_id.id","countries.countries_id.name","countries.countries_id.slug","sectors.sectors_id.slug","regions.regions_id.slug","regions.regions_id.id","regions.regions_id.name","types.types_id.id","sectors.sectors_id.name","sectors.sectors_id.id","types.types_id.name","current_status.id","current_status.name","current_status.slug","companies.id","companies.company_id.id","companies.company_id.name","companies.company_id.email","companies.company_id.phone","companies.role_id.id","companies.role_id.name","companies.role_id.slug","contacts.company_contacts_id.id","contacts.company_contacts_id.name","contacts.company_contacts_id.company","contacts.company_contacts_id.company.id","contacts.company_contacts_id.company.name","contacts.company_contacts_id.company.email","contacts.company_contacts_id.email","contacts.company_contacts_id.phone","featured_image.*","news.*"]});c.featured_image&&"object"==typeof c.featured_image&&c.featured_image.id&&(c.featured_image.url=`${process.env.PUBLIC_URL}/assets/${c.featured_image.id}`,c.featured_image.thumbnail_url=`${process.env.PUBLIC_URL}/assets/${c.featured_image.id}?width=400&height=300&fit=cover`),c.countries&&Array.isArray(c.countries)&&(c.countries=c.countries.map(e=>e.countries_id).filter(Boolean)),c.regions&&Array.isArray(c.regions)&&(c.regions=c.regions.map(e=>e.regions_id).filter(Boolean)),c.types&&Array.isArray(c.types)&&(c.types=c.types.map(e=>e.types_id).filter(Boolean)),c.sectors&&Array.isArray(c.sectors)&&(c.sectors=c.sectors.map(e=>e.sectors_id).filter(Boolean)),c.companies&&Array.isArray(c.companies)?c.companies=c.companies.filter(e=>e.company_id).map(e=>({id:e.id,company:{id:e.company_id.id,name:e.company_id.name||null,email:e.company_id.email||null,phone:e.company_id.phone||null},role:e.role_id?{id:e.role_id.id,name:e.role_id.name,slug:e.role_id.slug||null}:null})):c.companies=[],c.contacts&&Array.isArray(c.contacts)?c.contacts=c.contacts.filter(e=>e.company_contacts_id).map(e=>({id:e.company_contacts_id.id,name:e.company_contacts_id.name||null,company:{id:e.company_contacts_id.company.id||null,name:e.company_contacts_id.company.name||null,email:e.company_contacts_id.company.email||null},email:e.company_contacts_id.email||null,phone:e.company_contacts_id.phone||null,role:e.company_contacts_id.role||null})):c.contacts=[];let l=!1,u=null;if(n?.user)try{const e=new r("favourites",{schema:a,accountability:n}),t=await e.readByQuery({filter:{_and:[{user_created:{_eq:n.user}},{collection:{_eq:"projects"}},{item_id:{_eq:o}}]},limit:1});t.length>0&&(l=!0,u=t[0].id)}catch(e){console.warn("Failed to fetch favorite status:",e.message)}const p={...c,is_favorited:l,favorite_id:u,authenticated:!!n?.user};return t.json({data:p})}catch(e){console.error("Project by ID error:",e),a(e)}}),e.get("/public/recent",async(e,t,a)=>{try{const a=new r("projects",{schema:e.schema,accountability:null}),i=Math.min(parseInt(e.query.limit)||10,50),n=await a.readByQuery({fields:["id","title","slug","summary","description","current_stage","contract_value_usd","sectors.sectors_id.name","sectors.sectors_id.id","sectors.sectors_id.slug","countries.countries_id.id","countries.countries_id.name","countries.countries_id.slug","regions.regions_id.id","regions.regions_id.name","featured_image.id","featured_image.filename_disk","featured_image.title"],limit:i,sort:["-date_created"],filter:{status:{_eq:"published"}}}),o=(n.data||n).map(e=>{e.featured_image&&"object"==typeof e.featured_image&&e.featured_image.id&&(e.featured_image={id:e.featured_image.id,url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}`,thumbnail_url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}?width=400&height=300&fit=cover`,title:e.featured_image.title});const t=s(e.sectors,"sectors"),a=s(e.countries,"countries"),i=s(e.regions,"regions");return{id:e.id,title:e.title,slug:e.slug,summary:e.summary,description:e.description,current_stage:e.current_stage,contract_value_usd:e.contract_value_usd,location:e.location,date_created:e.date_created,featured_image:e.featured_image,sectors:t,countries:a,regions:i}});t.json({data:o,meta:{total:o.length}})}catch(e){a(e)}}),e.get("/public/trending",async(e,t,a)=>{try{const a=new r("projects",{schema:e.schema,accountability:null}),i=Math.min(parseInt(e.query.limit)||10,50),n=await a.readByQuery({fields:["id","title","slug","summary","description","current_stage","contract_value_usd","sectors.sectors_id.name","sectors.sectors_id.id","sectors.sectors_id.slug","countries.countries_id.id","countries.countries_id.name","countries.countries_id.slug","regions.regions_id.id","regions.regions_id.name","featured_image.id","featured_image.filename_disk","featured_image.title"],limit:i,sort:["-date_created"],filter:{status:{_eq:"published"},is_trending:{_eq:!0}}}),o=n.data||n,c=o.map(e=>{e.featured_image&&"object"==typeof e.featured_image&&e.featured_image.id&&(e.featured_image={id:e.featured_image.id,url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}`,thumbnail_url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}?width=400&height=300&fit=cover`,title:e.featured_image.title});const t=s(e.sectors,"sectors"),a=s(e.countries,"countries"),i=s(e.regions,"regions");return{id:e.id,title:e.title,slug:e.slug,summary:e.summary,description:e.description,current_stage:e.current_stage,contract_value_usd:e.contract_value_usd,location:e.location,date_created:e.date_created,featured_image:e.featured_image,sectors:t,countries:a,regions:i}});t.json({data:c,meta:{total:o.length}})}catch(e){console.log("trending error: ",e),a(e)}})}},{name:"favourites",config:(e,t)=>{const{services:a,exceptions:i,database:n,env:r,logger:o,getSchema:s}=t,{ItemsService:c}=a,l=["projects","companies","main_news","tenders","blog","experts_analysts"];function u(e,t){if(t&&e)try{const a=t.split(".");let i=e;for(const e of a){if(!i||"object"!=typeof i||!(e in i))return;i=i[e]}return i}catch(e){return void console.warn(`Error getting field ${t}:`,e)}}e.post("/toggle",async(e,t)=>{try{const{collection:a,item_id:i}=e.body,{accountability:r}=e;if(console.log("Toggle request:",{collection:a,item_id:i,user:r?.user}),!r?.user)return t.status(403).json({success:!1,error:"You must be authenticated to manage favorites"});if(!a||!i)return t.status(400).json({success:!1,error:"Collection and item_id are required"});if(!l.includes(a))return t.status(400).json({success:!1,error:`Invalid collection. Must be one of: ${l.join(", ")}`});const o=await s(),u=new c("favourites",{schema:o,accountability:e.accountability});console.log(`Proceeding without item existence check for ${a}:${i}`);const p=await u.readByQuery({filter:{_and:[{user_created:{_eq:r.user}},{collection:{_eq:a}},{item_id:{_eq:i}}]},limit:1});if(p.length>0){await u.deleteOne(p[0].id);try{await n(a).where("id",i).decrement("favorites_count",1)}catch(e){console.warn(`Could not decrement favorites_count for ${a}:`,e.message)}return t.json({success:!0,action:"removed",favorited:!1,message:"Removed from favorites"})}{const e=await u.createOne({collection:a,item_id:i});try{await n(a).where("id",i).increment("favorites_count",1)}catch(e){console.warn(`Could not increment favorites_count for ${a}:`,e.message)}return t.json({success:!0,action:"added",favorited:!0,favorite_id:e.id,message:"Added to favorites"})}}catch(a){return console.error("Toggle favorite error:",a),a.message.includes("foreign key")||a.message.includes("constraint")?t.status(404).json({success:!1,error:`Item not found in ${e.body.collection}`}):t.status(500).json({success:!1,error:"Failed to toggle favorite",details:a.message})}}),e.post("/check-batch",async(e,t)=>{try{const{items:a}=e.body,{accountability:i}=e;if(!i?.user)return t.json({success:!0,authenticated:!1,results:{}});if(!a||!Array.isArray(a)||0===a.length)return t.status(400).json({success:!1,error:"Items array is required"});if(a.length>100)return t.status(400).json({success:!1,error:"Maximum 100 items per batch request"});for(const e of a){if(!e.collection||!e.item_id)return t.status(400).json({success:!1,error:"Each item must have collection and item_id"});if(!l.includes(e.collection))return t.status(400).json({success:!1,error:`Invalid collection: ${e.collection}`})}const n=new c("favorites",{schema:await s(),accountability:e.accountability}),r=a.map(e=>({_and:[{user_created:{_eq:i.user}},{collection:{_eq:e.collection}},{item_id:{_eq:e.item_id}}]})),o=await n.readByQuery({filter:{_or:r},limit:-1}),u={};return a.forEach(e=>{const t=`${e.collection}:${e.item_id}`,a=o.find(t=>t.collection===e.collection&&t.item_id===e.item_id);u[t]={collection:e.collection,item_id:e.item_id,favorited:!!a,favorite_id:a?.id||null,date_created:a?.date_created||null}}),t.json({success:!0,authenticated:!0,total:a.length,favorited_count:o.length,results:u})}catch(e){return console.error("Batch check error:",e),t.status(500).json({success:!1,error:"Failed to check favorites",details:e.message})}}),e.get("/popular/:collection",async(e,t)=>{try{const{collection:a}=e.params,{limit:i=10,period:n="all"}=e.query;if(!l.includes(a))return t.status(400).json({success:!1,error:`Invalid collection. Must be one of: ${l.join(", ")}`});const r=new c(a,{schema:await s(),accountability:e.accountability});let o={};if("all"!==n){const e=new Date;let t;switch(n){case"day":t=new Date(e.setDate(e.getDate()-1));break;case"week":t=new Date(e.setDate(e.getDate()-7));break;case"month":t=new Date(e.setMonth(e.getMonth()-1));break;default:t=null}t&&(o.date_created={_gte:t.toISOString()})}const u=(await r.readByQuery({filter:{favorites_count:{_gt:0},status:{_eq:"published"},...o},sort:["-favorites_count","-date_created"],limit:parseInt(i)})).map((e,t)=>({rank:t+1,...e}));return t.json({success:!0,collection:a,period:n,total:u.length,popular:u})}catch(e){return console.error("Get popular items error:",e),t.status(500).json({success:!1,error:"Failed to fetch popular items",details:e.message})}}),e.get("/stats",async(e,t)=>{try{const{accountability:a}=e;if(!a?.user)return t.status(403).json({success:!1,error:"Authentication required"});const i=new c("favourites",{schema:await s(),accountability:e.accountability}),n=await i.readByQuery({filter:{user_created:{_eq:a.user},collection:{_eq:"projects"}},aggregate:{count:"*"}}),r=await i.readByQuery({filter:{user_created:{_eq:a.user},collection:{_eq:"companies"}},aggregate:{count:"*"}}),o=await i.readByQuery({filter:{user_created:{_eq:a.user},collection:{_eq:"main_news"}},aggregate:{count:"*"}}),l=await i.readByQuery({filter:{user_created:{_eq:a.user}},sort:["-date_created"],limit:5});return t.json({success:!0,stats:{total:(n[0]?.count||0)+(r[0]?.count||0)+(o[0]?.count||0),by_collection:{projects:n[0]?.count||0,companies:r[0]?.count||0,main_news:o[0]?.count||0},recent:l}})}catch(e){return console.error("Get stats error:",e),t.status(500).json({success:!1,error:"Failed to fetch statistics",details:e.message})}}),e.get("/:collection/:item_id/check",async(e,t)=>{try{const{collection:a,item_id:i}=e.params,{accountability:n}=e;if(!n?.user)return t.json({favorited:!1,favorite_id:null,authenticated:!1});if(!l.includes(a))return t.status(400).json({success:!1,error:`Invalid collection. Must be one of: ${l.join(", ")}`});const r=new c("favourites",{schema:await s(),accountability:e.accountability}),o=await r.readByQuery({filter:{_and:[{user_created:{_eq:n.user}},{collection:{_eq:a}},{item_id:{_eq:i}}]},limit:1}),u=o.length>0;return t.json({favorited:u,favorite_id:u?o[0].id:null,date_created:u?o[0].date_created:null,authenticated:!0})}catch(e){return console.error("Check favorite error:",e),t.status(500).json({success:!1,error:"Failed to check favorite status",details:e.message})}}),e.delete("/clear",async(e,t)=>{try{const{accountability:a}=e,{collection:i}=e.query;if(!a?.user)return t.status(403).json({success:!1,error:"Authentication required"});const r=new c("favourites",{schema:await s(),accountability:e.accountability}),o={user_created:{_eq:a.user}};if(i){if(!l.includes(i))return t.status(400).json({success:!1,error:`Invalid collection. Must be one of: ${l.join(", ")}`});o.collection={_eq:i}}const u=await r.readByQuery({filter:o,limit:-1,fields:["id","collection","item_id"]});if(0===u.length)return t.json({success:!0,message:"No favorites to delete",deleted:0});const p=u.map(e=>e.id);await r.deleteMany(p);const d={};u.forEach(e=>{d[e.collection]||(d[e.collection]={}),d[e.collection][e.item_id]||(d[e.collection][e.item_id]=0),d[e.collection][e.item_id]++});for(const[e,t]of Object.entries(d))for(const[a,i]of Object.entries(t))try{await n(e).where("id",a).decrement("favorites_count",i)}catch(t){console.warn(`Could not decrement favorites_count for ${e}:`,t.message)}return t.json({success:!0,message:`Deleted ${u.length} favorite(s)`,deleted:u.length,collection:i||"all"})}catch(e){return console.error("Clear favorites error:",e),t.status(500).json({success:!1,error:"Failed to clear favorites",details:e.message})}}),e.get("/",async(e,t)=>{try{const{accountability:a}=e,{collection:i,limit:n=100,offset:r=0,sort:o="-date_created"}=e.query;if(!a?.user)return t.status(403).json({success:!1,error:"You must be authenticated to view favorites"});const p=await s(),d=new c("favourites",{schema:p,accountability:e.accountability}),m={user_created:{_eq:a.user}};if(i){if(!l.includes(i))return t.status(400).json({success:!1,error:`Invalid collection filter. Must be one of: ${l.join(", ")}`});m.collection={_eq:i}}console.log("Fetching favorites with filter:",JSON.stringify(m));const f=await d.readByQuery({filter:m,sort:[o],fields:["*"]});if(console.log("Favorites result count:",f.length),!Array.isArray(f))return console.error("Favorites is not an array:",typeof f,f),t.status(500).json({success:!1,error:"Invalid response format from favorites service"});let h=0;try{const e=await d.readByQuery({filter:m,aggregate:{count:["*"]}});Array.isArray(e)&&e.length>0?h=e[0]?.count||0:e&&"object"==typeof e&&(h=e.count||0),console.log("Total count:",h)}catch(e){console.warn("Could not get total count:",e.message),h=f.length}const v=[],g={projects:0,companies:0,main_news:0,tenders:0,experts_analysts:0,blog:0};if(f.length>0)for(const t of f)if(t.collection&&t.item_id)try{const a=new c(t.collection,{schema:p,accountability:e.accountability});let i=["id","status"];const n={projects:{title:"title",image:"featured_image",summary:"summary",slug:"slug",date:"date_created",current_stage:"current_stage",current_status:"current_status.name",contract_value_usd:"contract_value_usd",location:"location",countries:"countries.countries_id.*",sectors:"sectors.sectors_id.*",regions:"regions.regions_id.*"},companies:{title:"name",image:"logo",summary:"description",slug:"slug",date:"date_created",company_role:"company_role",countries:"countries.countries_id.*",sectors:"sectors.sectors_id.*"},main_news:{title:"title",image:"featured_image",summary:"summary",slug:"slug",date:"date_created"},tenders:{title:"title",image:"featured_image",summary:"summary",slug:"slug",date:"date_created",countries:"countries.countries_id.*",sectors:"sectors.sectors_id.*"},experts_analysts:{title:"name",image:"photo",summary:"bio",slug:"slug",date:"date_created"},blog:{title:"title",image:"featured_image",summary:"summary",slug:"slug",date:"date_created"}}[t.collection];if(n){const e=Object.values(n);i=[...new Set([...i,...e])]}console.log(`Fetching ${t.collection} item ${t.item_id} with fields:`,i);const r=await a.readOne(t.item_id,{fields:i});if(r){const e=(e,t="id")=>e&&Array.isArray(e)?e.map(e=>{const a=e[`${t}_id`]||e;return a&&a.id?{id:a.id,name:a.name||"Unnamed",slug:a.slug}:null}).filter(Boolean):[];let a=[],i=[],o=[];"projects"!==t.collection&&"tenders"!==t.collection&&"companies"!==t.collection||(a=e(r.countries,"countries"),i=e(r.sectors,"sectors"),"projects"===t.collection&&(o=e(r.regions,"regions")));let s=u(r,n?.image);s&&"object"==typeof s&&s.id&&(s={id:s.id,url:`${process.env.PUBLIC_URL}/assets/${s.id}`,thumbnail_url:`${process.env.PUBLIC_URL}/assets/${s.id}?width=400&height=300&fit=cover`,title:s.title,...s});const c={id:r.id,collection:t.collection,favorite_id:t.id,favorite_date:t.date_created,title:u(r,n?.title),image:s,summary:u(r,n?.summary),slug:u(r,n?.slug),status:r.status,date_created:u(r,n?.date),..."projects"===t.collection&&{current_stage:r.current_stage,current_status:r.current_status,contract_value_usd:r.contract_value_usd,location:r.location,countries:a,sectors:i,regions:o},..."companies"===t.collection&&{company_role:r.company_role,employees:r.employees,projects_completed:r.projects_completed,countries:a,sectors:i},..."tenders"===t.collection&&{countries:a,sectors:i},..."main_news"===t.collection&&{category:r.is_trending?"Trending News":"Main News"},..."experts_analysts"===t.collection&&{title_role:r.title},..."blog"===t.collection&&{},...(a.length>0||i.length>0||o.length>0)&&{stats:{...a.length>0&&{countries_count:a.length},...i.length>0&&{sectors_count:i.length},...o.length>0&&{regions_count:o.length}}}};Object.keys(c).forEach(e=>{void 0===c[e]&&delete c[e]}),v.push(c),g[t.collection]++,console.log(`Added ${t.collection} item to results:`,c.title)}else console.warn(`Item not found: ${t.collection} - ${t.item_id}`)}catch(e){console.warn(`Could not fetch ${t.collection} item ${t.item_id}:`,e.message),v.push({id:t.item_id,collection:t.collection,favorite_id:t.id,favorite_date:t.date_created,title:`Item ${t.item_id}`,status:"unavailable",error:"Item could not be loaded"}),g[t.collection]++}else console.warn("Invalid favorite item:",t);const y={projects:v.filter(e=>"projects"===e.collection),companies:v.filter(e=>"companies"===e.collection),news:v.filter(e=>"main_news"===e.collection),tenders:v.filter(e=>"tenders"===e.collection),opinions:v.filter(e=>"experts_analysts"===e.collection),blog:v.filter(e=>"blog"===e.collection)};return console.log("Final results count:",v.length),console.log("Collection counts:",g),t.json({success:!0,total:h,limit:parseInt(n),offset:parseInt(r),counts:g,data:v,group:y})}catch(e){return console.error("Get favorites error:",e),t.status(500).json({success:!1,error:"Failed to fetch favorites",details:e.message})}}),e.get("/:collection",async(e,t)=>{try{const{accountability:a}=e,{collection:i}=e.params,{limit:n=100,offset:r=0,sort:o="-date_created"}=e.query;if(!a?.user)return t.status(403).json({success:!1,error:"You must be authenticated to view favorites"});if(!l.includes(i))return t.status(400).json({success:!1,error:`Invalid collection. Must be one of: ${l.join(", ")}`});const u=await s(),p=new c("favourites",{schema:u,accountability:e.accountability}),d={_and:[{user_created:{_eq:a.user}},{collection:{_eq:i}}]};console.log("Fetching favorites with filter:",JSON.stringify(d));const m=await p.readByQuery({filter:d,sort:[o],limit:parseInt(n),offset:parseInt(r),fields:["*"]});if(console.log("Favorites result count:",m.length),!Array.isArray(m))return console.error("Favorites is not an array:",typeof m,m),t.status(500).json({success:!1,error:"Invalid response format from favorites service"});let f=0;try{const e=await p.readByQuery({filter:d,aggregate:{count:["*"]}});Array.isArray(e)&&e.length>0?f=e[0]?.count||0:e&&"object"==typeof e&&(f=e.count||0),console.log("Total count:",f)}catch(e){console.warn("Could not get total count:",e.message),f=m.length}const h=[];if(m.length>0)for(const t of m)if(t.collection&&t.item_id)try{const a=new c(t.collection,{schema:u,accountability:e.accountability});let i=["id","status"];const n={projects:{title:"title",image:"featured_image",summary:"summary",slug:"slug",date:"date_created",current_stage:"current_stage",current_status:"current_status.name",contract_value_usd:"contract_value_usd",location:"location",countries:"countries.countries_id.*",sectors:"sectors.sectors_id.*",regions:"regions.regions_id.*"},companies:{title:"name",image:"logo",summary:"description",slug:"slug",date:"date_created",company_role:"company_role",countries:"countries.countries_id.*",sectors:"sectors.sectors_id.*"},main_news:{title:"title",image:"featured_image",summary:"summary",slug:"slug",date:"date_created"},tenders:{title:"title",image:"featured_image",summary:"summary",slug:"slug",date:"date_created",countries:"countries.countries_id.*",sectors:"sectors.sectors_id.*"},experts_analysts:{title:"name",image:"photo",summary:"bio",slug:"slug",date:"date_created"},blog:{title:"title",image:"featured_image",summary:"summary",slug:"slug",date:"date_created"}}[t.collection];if(n){const e=Object.values(n);i=[...new Set([...i,...e])]}console.log(`Fetching ${t.collection} item ${t.item_id} with fields:`,i);const r=await a.readOne(t.item_id,{fields:i});if(r){const e=(e,t="id")=>e&&Array.isArray(e)?e.map(e=>{const a=e[`${t}_id`]||e;return a&&a.id?{id:a.id,name:a.name||"Unnamed",slug:a.slug}:null}).filter(Boolean):[],a=(e,t)=>{if(t)return t.split(".").reduce((e,t)=>e?.[t],e)};let i=[],o=[],s=[];"projects"!==t.collection&&"tenders"!==t.collection&&"companies"!==t.collection||(i=e(r.countries,"countries"),o=e(r.sectors,"sectors"),"projects"===t.collection&&(s=e(r.regions,"regions")));let c=a(r,n?.image);c&&"object"==typeof c&&c.id&&(c={id:c.id,url:`${process.env.PUBLIC_URL}/assets/${c.id}`,thumbnail_url:`${process.env.PUBLIC_URL}/assets/${c.id}?width=400&height=300&fit=cover`,title:c.title,...c});const l={id:r.id,collection:t.collection,favorite_id:t.id,favorite_date:t.date_created,title:a(r,n?.title),image:c,summary:a(r,n?.summary),slug:a(r,n?.slug),status:r.status,date_created:a(r,n?.date),..."projects"===t.collection&&{current_stage:r.current_stage,current_status:r.current_status,contract_value_usd:r.contract_value_usd,location:r.location,countries:i,sectors:o,regions:s},..."companies"===t.collection&&{company_role:r.company_role,employees:r.employees,projects_completed:r.projects_completed,countries:i,sectors:o},..."tenders"===t.collection&&{countries:i,sectors:o},..."main_news"===t.collection&&{category:r.is_trending?"Trending News":"Main News"},..."experts_analysts"===t.collection&&{title_role:r.title},...(i.length>0||o.length>0||s.length>0)&&{stats:{...i.length>0&&{countries_count:i.length},...o.length>0&&{sectors_count:o.length},...s.length>0&&{regions_count:s.length}}}};Object.keys(l).forEach(e=>{void 0===l[e]&&delete l[e]}),h.push(l),console.log(`Added ${t.collection} item to results:`,l.title)}else console.warn(`Item not found: ${t.collection} - ${t.item_id}`)}catch(e){console.warn(`Could not fetch ${t.collection} item ${t.item_id}:`,e.message),h.push({id:t.item_id,collection:t.collection,favorite_id:t.id,favorite_date:t.date_created,title:`Item ${t.item_id}`,status:"unavailable",error:"Item could not be loaded"})}else console.warn("Invalid favorite item:",t);return console.log("Final results count:",h.length),t.json({success:!0,collection:i,total:f,limit:parseInt(n),offset:parseInt(r),data:h})}catch(e){return console.error("Get favorites error:",e),t.status(500).json({success:!1,error:"Failed to fetch favorites",details:e.message})}})}},{name:"recent-views",config:(e,t)=>{const{services:a,exceptions:i,database:n,env:r,logger:o,getSchema:s}=t,{ItemsService:c}=a,l=["projects","companies","main_news","tenders"];e.get("/",async(e,t)=>{try{const{accountability:a}=e,{collection:i,limit:n=20,offset:r=0}=e.query;if(!a?.user)return t.status(403).json({success:!1,error:"You must be authenticated to view recent history"});const o=await s(),u=new c("recent_views",{schema:o,accountability:e.accountability}),p={user_created:{_eq:a.user}};if(i){if(!l.includes(i))return t.status(400).json({success:!1,error:`Invalid collection filter. Must be one of: ${l.join(", ")}`});p.collection={_eq:i}}const d=await u.readByQuery({filter:p,sort:["-date_updated","-date_created"],limit:parseInt(n),offset:parseInt(r)}),m=await u.readByQuery({filter:p,aggregate:{count:["*"]}}),f={projects:[],companies:[],tenders:[],news:[]},h={projects:0,companies:0,tenders:0,news:0};for(const t of d)if(f[t.collection])try{const a=new c(t.collection,{schema:o,accountability:e.accountability});let i=["id","status","date_created","date_updated"];"projects"===t.collection?i.push("title","slug","summary","featured_image","contract_value_usd","current_stage","current_status.name"):"companies"===t.collection&&i.push("name","slug","company_role","logo","description");const n=await a.readOne(t.item_id,{fields:i});f[t.collection].push({view_id:t.id,view_date:t.date_created,last_viewed:t.date_updated,...n}),h[t.collection]++}catch(e){console.warn(`Could not fetch ${t.collection} item ${t.item_id}:`,e.message);try{await u.deleteOne(t.id)}catch(e){console.warn(`Could not delete orphaned recent view ${t.id}:`,e.message)}}return t.json({success:!0,total:m[0]?.count||0,limit:parseInt(n),offset:parseInt(r),counts:h,recent_views:f})}catch(e){return console.error("Get recent views error:",e),t.status(500).json({success:!1,error:"Failed to fetch recent views",details:e.message})}}),e.delete("/clear",async(e,t)=>{try{const{accountability:a}=e,{collection:i}=e.query;if(!a?.user)return t.status(403).json({success:!1,error:"Authentication required"});const n=await s(),r=new c("recent_views",{schema:n,accountability:e.accountability}),o={user_created:{_eq:a.user}};if(i){if(!l.includes(i))return t.status(400).json({success:!1,error:`Invalid collection. Must be one of: ${l.join(", ")}`});o.collection={_eq:i}}const u=await r.readByQuery({filter:o,limit:-1,fields:["id"]});if(0===u.length)return t.json({success:!0,message:"No recent views to delete",deleted:0});const p=u.map(e=>e.id);return await r.deleteMany(p),t.json({success:!0,message:`Deleted ${u.length} recent view(s)`,deleted:u.length,collection:i||"all"})}catch(e){return console.error("Clear recent views error:",e),t.status(500).json({success:!1,error:"Failed to clear recent views",details:e.message})}}),e.get("/stats",async(e,t)=>{try{const{accountability:a}=e,{period:i="week"}=e.query;if(!a?.user)return t.status(403).json({success:!1,error:"Authentication required"});const n=await s(),r=new c("recent_views",{schema:n,accountability:e.accountability}),o=new Date;let l;switch(i){case"day":l=new Date(o.setDate(o.getDate()-1));break;case"week":default:l=new Date(o.setDate(o.getDate()-7));break;case"month":l=new Date(o.setMonth(o.getMonth()-1))}const u=await r.readByQuery({filter:{user_created:{_eq:a.user},collection:{_eq:"projects"},date_created:{_gte:l.toISOString()}},aggregate:{count:["*"]}}),p=await r.readByQuery({filter:{user_created:{_eq:a.user},collection:{_eq:"companies"},date_created:{_gte:l.toISOString()}},aggregate:{count:["*"]}}),d=await r.readByQuery({filter:{user_created:{_eq:a.user},date_created:{_gte:l.toISOString()}},aggregate:{groupBy:["collection","item_id"],count:["*"]},sort:["-count"],limit:5});return t.json({success:!0,period:i,stats:{total:(u[0]?.count||0)+(p[0]?.count||0),by_collection:{projects:u[0]?.count||0,companies:p[0]?.count||0},start_date:l.toISOString(),frequent_items:d}})}catch(e){return console.error("Get recent views stats error:",e),t.status(500).json({success:!1,error:"Failed to fetch recent views statistics",details:e.message})}})}},{name:"search",config:(e,t)=>{const{services:a,exceptions:i,database:n,env:r,logger:o,getSchema:s}=t,{ItemsService:c}=a,l={projects:{fields:["title","summary","id","slug","status","date_created"],searchFields:["title","summary"],displayFields:{id:"id",title:"title",type:"project",summary:"summary",slug:"slug"},weight:1},companies:{fields:["name","description","id","slug","status","date_created"],searchFields:["name","description"],displayFields:{id:"id",title:"name",type:"company",summary:"description",slug:"slug"},weight:.9},main_news:{fields:["title","summary","id","slug","status","date_created"],searchFields:["title","summary"],displayFields:{id:"id",title:"title",type:"news",summary:"summary",slug:"slug"},weight:.8},tenders:{fields:["title","summary","slug","id","status","date_created"],searchFields:["title","summary"],displayFields:{id:"id",title:"title",type:"tenders",summary:"summary",slug:"slug"},weight:.7},experts_analysts:{fields:["title","id","slug","bio","status","date_created"],searchFields:["title","bio"],displayFields:{id:"id",title:"title",type:"experts_analysts",summary:"bio",slug:"slug"},weight:.6},blog:{fields:["title","summary","id","slug","status","date_created"],searchFields:["title","summary"],displayFields:{id:"id",title:"title",type:"blog",summary:"summary",slug:"slug"},weight:.5}};async function u(e,t,a,i,n,r){try{const o=l[e],s=new c(e,{schema:n,accountability:r}),u={_or:o.searchFields.map(e=>({[e]:{_icontains:t}}))};let p={_and:[u,{status:{_eq:"published"}}]};console.log(`[SEARCH] ${e} filter:`,JSON.stringify(p,null,2));let m=await s.readByQuery({filter:p,limit:a,offset:i,fields:o.fields,sort:["-date_created"]});console.log(`[SEARCH] ${e} found ${m.length} items with status filter`),0===m.length&&(console.log(`[SEARCH] ${e} - Trying without status filter...`),m=await s.readByQuery({filter:u,limit:a,offset:i,fields:o.fields,sort:["-date_created"]}),console.log(`[SEARCH] ${e} found ${m.length} items without status filter`));const f=m.map(t=>{const a={id:t.id,title:d(t,o.displayFields.title),type:o.displayFields.type,image:d(t,o.displayFields.image),summary:d(t,o.displayFields.summary),slug:d(t,o.displayFields.slug),date_created:t.date_created,status:t.status};return console.log(`[SEARCH] ${e} item:`,a.title,`(status: ${a.status})`),a}),h=await s.readByQuery({filter:p,aggregate:{count:["*"]},limit:1});return{items:f,total:h[0]?.count||0,limit:a,offset:i}}catch(t){throw console.error(`[SEARCH ERROR] ${e}:`,t),t}}async function p(e,t,a,i){const n={},r=e.map(async e=>{try{const r=l[e],o=new c(e,{schema:a,accountability:i}),s={_and:[{_or:r.searchFields.map(e=>({[e]:{_icontains:t}}))},{status:{_eq:"published"}}]},u=await o.readByQuery({filter:s,aggregate:{count:["*"]},limit:1});n[e]=u[0]?.count||0}catch(t){console.error(`[SEARCH ERROR] Getting count for ${e}:`,t),n[e]=0}});return await Promise.allSettled(r),n}function d(e,t){if(t&&e)try{const a=t.split(".");let i=e;for(const e of a){if(!i||"object"!=typeof i||!(e in i))return;i=i[e]}return i}catch(e){return void console.warn(`[SEARCH] Error getting field ${t}:`,e)}}e.get("/",async(e,t)=>{try{const{q:a,collections:i,limit:n=20,offset:r=0,include_total:o=!1}=e.query,{accountability:c}=e;if(!a||0===a.trim().length)return t.status(400).json({success:!1,error:"Search query (q) is required"});const d=a.trim();let m=Object.keys(l);if(i){const e=i.split(",").map(e=>e.trim());if(m=e.filter(e=>l[e]),0===m.length)return t.status(400).json({success:!1,error:`No valid collections specified. Available: ${Object.keys(l).join(", ")}`})}console.log(`[SEARCH] Query: "${d}" | Collections:`,m);const f=await s(),h={query:d,total_results:0,collections_searched:m,all_results:[]},v=m.map(e=>u(e,d,parseInt(n),parseInt(r),f,c));(await Promise.allSettled(v)).forEach((e,t)=>{const a=m[t];"fulfilled"===e.status?(h.total_results+=e.value.items.length,console.log(`[SEARCH] ${a}: Found ${e.value.items.length} items (Total: ${e.value.total})`),e.value.items.forEach(e=>{h.all_results.push({...e,collection:a,collection_weight:l[a].weight})})):console.error(`[SEARCH ERROR] ${a}:`,e.reason)}),h.all_results.sort((e,t)=>e.collection_weight!==t.collection_weight?t.collection_weight-e.collection_weight:void 0!==e._score&&void 0!==t._score?t._score-e._score:0);let g=null;return"true"===o&&(g=await p(m,d,f,c)),console.log(`[SEARCH] Total results: ${h.total_results}`),t.json({success:!0,total:g,limit:parseInt(n),offset:parseInt(r),data:h.all_results})}catch(e){return console.error("[SEARCH] Global search error:",e),t.status(500).json({success:!1,error:"Failed to perform search",details:e.message})}}),e.get("/v2",async(e,t)=>{try{const{q:a,collections:i,limit:n=20,offset:r=0,include_total:o=!1}=e.query,{accountability:c}=e;if(!a||0===a.trim().length)return t.status(400).json({success:!1,error:"Search query (q) is required"});const d=a.trim();let m=Object.keys(l);if(i){const e=i.split(",").map(e=>e.trim());if(m=e.filter(e=>l[e]),0===m.length)return t.status(400).json({success:!1,error:`No valid collections specified. Available: ${Object.keys(l).join(", ")}`})}console.log(`[SEARCH] Query: "${d}" | Collections:`,m);const f=await s(),h={query:d,total_results:0,collections_searched:m,all_results:[]},v=m.map(e=>u(e,d,parseInt(n),parseInt(r),f,c));(await Promise.allSettled(v)).forEach((e,t)=>{const a=m[t];"fulfilled"===e.status?(h.total_results+=e.value.items.length,console.log(`[SEARCH] ${a}: Found ${e.value.items.length} items (Total: ${e.value.total})`),e.value.items.forEach(e=>{h.all_results.push({...e,collection:a,collection_weight:l[a].weight})})):console.error(`[SEARCH ERROR] ${a}:`,e.reason)}),h.all_results.sort((e,t)=>e.collection_weight!==t.collection_weight?t.collection_weight-e.collection_weight:void 0!==e._score&&void 0!==t._score?t._score-e._score:0);let g=null;return"true"===o&&(g=await p(m,d,f,c)),console.log(`[SEARCH] Total results: ${h.total_results}`),t.json({success:!0,total:g,limit:parseInt(n),offset:parseInt(r),data:h.all_results})}catch(e){return console.error("[SEARCH] Global search error:",e),t.status(500).json({success:!1,error:"Failed to perform search",details:e.message})}})}},{name:"news",config:(e,{services:t,database:a,getSchema:i})=>{const{ItemsService:n}=t;e.get("/",async(e,t,r)=>{try{const{accountability:r}=e,o=await i(),s=new n("main_news",{schema:o,accountability:e.accountability}),c=e.query.groupBy,l=parseInt(e.query.limit)||25,u=parseInt(e.query.page)||1,p=(u-1)*l;let d=0,m=0;try{const t=e.query.filter||{},i=a,n=await i("main_news").count("* as count");d=parseInt(n[0]?.count)||0,m=(Object.keys(t).length,d),console.log("Total count from DB:",d)}catch(e){console.error("Error getting count:",e),d=f?.length||0,m=d}const f=await s.readByQuery({fields:["id","title","slug","summary","is_free_news","content","date_created","countries","countries.countries_id.id","countries.countries_id.name","countries.countries_id.slug","regions.regions_id.slug","regions.regions_id.id","regions.regions_id.name","sectors.sectors_id.slug","sectors.sectors_id.name","sectors.sectors_id.id","created_by.first_name","created_by.last_name","created_by.email","created_by.avatar","created_by.avatar.id","created_by.avatar.filename_disk","created_by.avatar.title","created_by.avatar.filesize","featured_image","featured_image.id","featured_image.filename_disk","featured_image.title","featured_image.filesize"],limit:c?-1:l,sort:["-date_created"],offset:c?0:p,filter:e.query.filter||{}}),h={total_count:d,filter_count:m,limit:l,page:u,page_count:Math.ceil(d/l)};console.log("Final meta:",h);const g=f.map(e=>{e.featured_image&&"object"==typeof e.featured_image&&e.featured_image.id&&(e.featured_image.url=`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}`,e.featured_image.thumbnail_url=`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}?width=400&height=300&fit=cover`);const t=e.countries?[...e.countries]:[],a=e.regions?[...e.regions]:[],i=e.sectors?[...e.sectors]:[];return e.countries&&Array.isArray(e.countries)&&(e.countries=e.countries.map(e=>e.countries_id).filter(Boolean)),e.regions&&Array.isArray(e.regions)&&(e.regions=e.regions.map(e=>e.regions_id).filter(Boolean)),e.sectors&&Array.isArray(e.sectors)&&(e.sectors=e.sectors.map(e=>e.sectors_id).filter(Boolean)),c&&(e._originals={countries:t,regions:a,sectors:i}),e});if(c){const a=function(e,t){const a=new Map;return e.forEach(e=>{let i=[];switch(t){case"country":i=e._originals.countries.map(e=>({id:e.countries_id?.id,name:e.countries_id?.name||"Unknown Country",data:e.countries_id}));break;case"region":i=e._originals.regions.map(e=>({id:e.regions_id?.id,name:e.regions_id?.name||"Unknown Region",data:e.regions_id}));break;case"sector":i=e._originals.sectors.map(e=>({id:e.sectors_id?.id,name:e.sectors_id?.name||"Unknown Sector",data:e.sectors_id}));break;default:i=[{id:"all",name:"All News",data:null}]}0===i.length&&(i=[{id:"unknown",name:`Unknown ${t}`,data:null}]),i.forEach(t=>{a.has(t.id)||a.set(t.id,{id:t.id,name:t.name,data:t.data,news:[],count:0,totalValue:0});const i=a.get(t.id),n={...e};delete n._originals,i.news.push(n),i.count++})}),Array.from(a.values()).sort((e,t)=>e.name.localeCompare(t.name))}(g,c),i=parseInt(e.query.limit)||5,n=parseInt(e.query.page)||1,r=a.length,o=(n-1)*i,s=o+i,l=a.slice(o,s);return t.json({data:l,meta:{total_groups:r,groupBy:c,page:n,limit:i,page_count:Math.ceil(r/i)}})}let y;return y=r?.user?await async function(e,t,a,i){return await v({items:e,collection:"main_news",userId:t,schema:a,accountability:i,ItemsService:n})}(g,r.user,o,e.accountability):g.map(e=>({...e,is_favorited:!1,favorite_id:null})),t.json({data:y,meta:h})}catch(e){console.error("News error:",e),r(e)}}),e.get("/stats/filters",async(e,t,a)=>{try{const a=await i(),{q:r}=e.query;if(!r||!["sector","region"].includes(r))return t.status(400).json({error:"Invalid filter parameter. Must be one of: sector, region"});const o=new n("main_news",{schema:a,accountability:e.accountability}),s={sector:"sectors.sectors_id.*",region:"regions.regions_id.*"},c=await o.readByQuery({fields:["id",s[r]],limit:-1}),l="sector"===r?"sectors":"regions",u=("type"===r?"types":"sector"===r?"sectors":"regions")+"_id",p=new Map;let d=0;c.forEach(e=>{e[l]&&Array.isArray(e[l])&&e[l].forEach(e=>{if(e[u]){const t=e[u],a=t.id;p.has(a)||p.set(a,{id:t.id,name:t.name,slug:t.slug||null,count:0}),p.get(a).count++,d++}})});const m=Array.from(p.values()).map(e=>({...e,percentage:d>0?Math.round(e.count/d*100*10)/10:0})).sort((e,t)=>t.count-e.count);return t.json({data:{filter:r,total:c.length,stats:m}})}catch(e){console.error("item stats error:",e),a(e)}}),e.get("/:id",async(e,t,a)=>{try{const a=await i(),{accountability:r}=e,o=e.params.id,s=new n("main_news",{schema:a,accountability:e.accountability}),c=await s.readOne(o,{fields:["*","countries.countries_id.id","countries.countries_id.name","countries.countries_id.slug","regions.regions_id.slug","regions.regions_id.id","regions.regions_id.name","sectors.sectors_id.slug","sectors.sectors_id.name","sectors.sectors_id.id","related_projects.projects_id.id","related_projects.projects_id.title","related_projects.projects_id.summary","related_projects.projects_id.current_status.name","related_projects.projects_id.contract_value_usd","related_projects.projects_id.value_range","related_projects.projects_id.countries.countries_id.id","related_projects.projects_id.countries.countries_id.name","related_projects.projects_id.countries.countries_id.slug","related_companies.companies_id.id","related_companies.companies_id.name","related_companies.companies_id.email","related_companies.companies_id.countries.countries_id.id","related_companies.companies_id.countries.countries_id.name","related_companies.companies_id.countries.countries_id.slug","related_news.news_id.id","related_news.news_id.title","related_news.news_id.slug","related_news.news_id.summary","related_news.news_id.is_trending","related_news.news_id.countries.countries_id.id","related_news.news_id.countries.countries_id.name","related_news.news_id.countries.countries_id.slug","created_by.id","created_by.first_name","created_by.last_name","created_by.email","created_by.facebook_url","created_by.linkedin_url","created_by.twitter_handle","created_by.avatar","created_by.avatar.id","created_by.avatar.filename_disk","created_by.avatar.title","created_by.avatar.filesize","featured_image.*"]});c.featured_image&&"object"==typeof c.featured_image&&c.featured_image.id&&(c.featured_image.url=`${process.env.PUBLIC_URL}/assets/${c.featured_image.id}`,c.featured_image.thumbnail_url=`${process.env.PUBLIC_URL}/assets/${c.featured_image.id}?width=400&height=300&fit=cover`),c.countries&&Array.isArray(c.countries)&&(c.countries=c.countries.map(e=>e.countries_id).filter(Boolean)),c.regions&&Array.isArray(c.regions)&&(c.regions=c.regions.map(e=>e.regions_id).filter(Boolean)),c.sectors&&Array.isArray(c.sectors)&&(c.sectors=c.sectors.map(e=>e.sectors_id).filter(Boolean));const{is_favorited:l,favorite_id:u}=r?.user?await g({itemId:o,collection:"main_news",userId:r.user,schema:a,accountability:r,ItemsService:n}):{is_favorited:!1,favorite_id:null},p={...c,is_favorited:l,favorite_id:u,authenticated:!!r?.user};return t.json({data:p})}catch(e){console.error("Project by ID error:",e),a(e)}}),e.get("/public/recent",async(e,t,a)=>{try{const a=new n("main_news",{schema:e.schema,accountability:null}),i=Math.min(parseInt(e.query.limit)||10,50),r=await a.readByQuery({fields:["id","title","slug","summary","content","is_free_news","featured_image.id","featured_image.filename_disk","featured_image.title"],limit:i,sort:["-date_created"],filter:{status:{_eq:"published"}}}),o=(r.data||r).map(e=>(e.featured_image&&"object"==typeof e.featured_image&&e.featured_image.id&&(e.featured_image={id:e.featured_image.id,url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}`,thumbnail_url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}?width=400&height=300&fit=cover`,title:e.featured_image.title}),{id:e.id,title:e.title,slug:e.slug,summary:e.summary,is_free_news:e.is_free_news,comments_count:e.comments_count,featured_image:e.featured_image}));t.json({data:o,meta:{total:o.length}})}catch(e){a(e)}}),e.get("/public/trending",async(e,t,a)=>{try{const a=new n("main_news",{schema:e.schema,accountability:null}),i=Math.min(parseInt(e.query.limit)||10,50),r=await a.readByQuery({fields:["id","title","slug","summary","content","is_free_news","featured_image.id","featured_image.filename_disk","featured_image.title"],limit:i,sort:["-date_created"],filter:{status:{_eq:"published"},is_trending:{_eq:!0}}}),o=r.data||r,s=o.map(e=>(e.featured_image&&"object"==typeof e.featured_image&&e.featured_image.id&&(e.featured_image={id:e.featured_image.id,url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}`,thumbnail_url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}?width=400&height=300&fit=cover`,title:e.featured_image.title}),{id:e.id,title:e.title,slug:e.slug,summary:e.summary,is_free_news:e.is_free_news,comments_count:e.comments_count,featured_image:e.featured_image}));t.json({data:s,meta:{total:o.length}})}catch(e){console.log("trending error: ",e),a(e)}}),e.get("/public/free",async(e,t,a)=>{try{const a=new n("main_news",{schema:e.schema,accountability:null}),i=Math.min(parseInt(e.query.limit)||10,50),r=await a.readByQuery({fields:["id","title","slug","summary","content","is_free_news","featured_image.id","featured_image.filename_disk","featured_image.title"],limit:i,sort:["-date_created"],filter:{status:{_eq:"published"},is_free_news:{_eq:!0}}}),o=r.data||r,s=o.map(e=>(e.featured_image&&"object"==typeof e.featured_image&&e.featured_image.id&&(e.featured_image={id:e.featured_image.id,url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}`,thumbnail_url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}?width=400&height=300&fit=cover`,title:e.featured_image.title}),{id:e.id,title:e.title,slug:e.slug,is_free_news:e.is_free_news,summary:e.summary,comments_count:e.comments_count,featured_image:e.featured_image}));t.json({data:s,meta:{total:o.length}})}catch(e){console.log("free error: ",e),a(e)}})}},{name:"tenders",config:(e,{services:t,database:a,getSchema:i})=>{const{ItemsService:n}=t;e.get("/",async(e,t,r)=>{try{const{accountability:r}=e,o=await i(),s=new n("tenders",{schema:o,accountability:e.accountability}),c=e.query.groupBy,l=parseInt(e.query.limit)||25,u=parseInt(e.query.page)||1,p=(u-1)*l;let d=0,m=0;try{const t=e.query.filter||{},i=a,n=await i("tenders").count("* as count");d=parseInt(n[0]?.count)||0,m=(Object.keys(t).length,d),console.log("Total count from DB:",d)}catch(e){console.error("Error getting count:",e),d=f?.length||0,m=d}const f=await s.readByQuery({fields:["id","title","slug","summary","content","promote","sticky","read_time","date_created","featured_image","featured_image.id","featured_image.filename_disk","featured_image.title","featured_image.filesize"],limit:c?-1:l,sort:["-date_created"],offset:c?0:p,filter:e.query.filter||{}}),h={total_count:d,filter_count:m,limit:l,page:u,page_count:Math.ceil(d/l)};console.log("Final meta:",h);const g=f.map(e=>{e.featured_image&&"object"==typeof e.featured_image&&e.featured_image.id&&(e.featured_image.url=`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}`,e.featured_image.thumbnail_url=`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}?width=400&height=300&fit=cover`);const t=e.countries?[...e.countries]:[],a=e.regions?[...e.regions]:[],i=e.sectors?[...e.sectors]:[];return e.countries&&Array.isArray(e.countries)&&(e.countries=e.countries.map(e=>e.countries_id).filter(Boolean)),e.regions&&Array.isArray(e.regions)&&(e.regions=e.regions.map(e=>e.regions_id).filter(Boolean)),e.sectors&&Array.isArray(e.sectors)&&(e.sectors=e.sectors.map(e=>e.sectors_id).filter(Boolean)),c&&(e._originals={countries:t,regions:a,sectors:i}),e});if(c){const a=function(e,t){const a=new Map;return e.forEach(e=>{let i=[];switch(t){case"country":i=e._originals.countries.map(e=>({id:e.countries_id?.id,name:e.countries_id?.name||"Unknown Country",data:e.countries_id}));break;case"region":i=e._originals.regions.map(e=>({id:e.regions_id?.id,name:e.regions_id?.name||"Unknown Region",data:e.regions_id}));break;case"sector":i=e._originals.sectors.map(e=>({id:e.sectors_id?.id,name:e.sectors_id?.name||"Unknown Sector",data:e.sectors_id}));break;default:i=[{id:"all",name:"All News",data:null}]}0===i.length&&(i=[{id:"unknown",name:`Unknown ${t}`,data:null}]),i.forEach(t=>{a.has(t.id)||a.set(t.id,{id:t.id,name:t.name,data:t.data,news:[],count:0,totalValue:0});const i=a.get(t.id),n={...e};delete n._originals,i.news.push(n),i.count++})}),Array.from(a.values()).sort((e,t)=>e.name.localeCompare(t.name))}(g,c),i=parseInt(e.query.limit)||5,n=parseInt(e.query.page)||1,r=a.length,o=(n-1)*i,s=o+i,l=a.slice(o,s);return t.json({data:l,meta:{total_groups:r,groupBy:c,page:n,limit:i,page_count:Math.ceil(r/i)}})}let y;return y=r?.user?await async function(e,t,a,i){return await v({items:e,collection:"tenders",userId:t,schema:a,accountability:i,ItemsService:n})}(g,r.user,o,e.accountability):g.map(e=>({...e,is_favorited:!1,favorite_id:null})),t.json({data:y,meta:h})}catch(e){console.error("News error:",e),r(e)}}),e.get("/stats/filters",async(e,t,a)=>{try{const a=await i(),{q:r}=e.query;if(!r||!["sector","region"].includes(r))return t.status(400).json({error:"Invalid filter parameter. Must be one of: sector, region"});const o=new n("tenders",{schema:a,accountability:e.accountability}),s={sector:"sectors.sectors_id.*",region:"regions.regions_id.*"},c=await o.readByQuery({fields:["id",s[r]],limit:-1}),l="sector"===r?"sectors":"regions",u=("type"===r?"types":"sector"===r?"sectors":"regions")+"_id",p=new Map;let d=0;c.forEach(e=>{e[l]&&Array.isArray(e[l])&&e[l].forEach(e=>{if(e[u]){const t=e[u],a=t.id;p.has(a)||p.set(a,{id:t.id,name:t.name,slug:t.slug||null,count:0}),p.get(a).count++,d++}})});const m=Array.from(p.values()).map(e=>({...e,percentage:d>0?Math.round(e.count/d*100*10)/10:0})).sort((e,t)=>t.count-e.count);return t.json({data:{filter:r,total:c.length,stats:m}})}catch(e){console.error("item stats error:",e),a(e)}}),e.get("/:id",async(e,t,a)=>{try{const a=await i(),{accountability:r}=e,o=e.params.id,s=new n("tenders",{schema:a,accountability:e.accountability}),c=await s.readOne(o,{fields:["*","countries.countries_id.id","countries.countries_id.name","countries.countries_id.slug","regions.regions_id.slug","regions.regions_id.id","regions.regions_id.name","sectors.sectors_id.slug","sectors.sectors_id.name","sectors.sectors_id.id","created_by.id","created_by.first_name","created_by.last_name","created_by.email","created_by.facebook_url","created_by.linkedin_url","created_by.twitter_handle","created_by.avatar","created_by.avatar.id","created_by.avatar.filename_disk","created_by.avatar.title","created_by.avatar.filesize","related_companies.companies_id.id","related_companies.companies_id.name","related_companies.companies_id.email","featured_image.*"]});c.featured_image&&"object"==typeof c.featured_image&&c.featured_image.id&&(c.featured_image.url=`${process.env.PUBLIC_URL}/assets/${c.featured_image.id}`,c.featured_image.thumbnail_url=`${process.env.PUBLIC_URL}/assets/${c.featured_image.id}?width=400&height=300&fit=cover`),c.countries&&Array.isArray(c.countries)&&(c.countries=c.countries.map(e=>e.countries_id).filter(Boolean)),c.regions&&Array.isArray(c.regions)&&(c.regions=c.regions.map(e=>e.regions_id).filter(Boolean)),c.sectors&&Array.isArray(c.sectors)&&(c.sectors=c.sectors.map(e=>e.sectors_id).filter(Boolean));const{is_favorited:l,favorite_id:u}=r?.user?await g({itemId:o,collection:"tenders",userId:r.user,schema:a,accountability:r,ItemsService:n}):{is_favorited:!1,favorite_id:null},p={...c,is_favorited:l,favorite_id:u,authenticated:!!r?.user};return t.json({data:p})}catch(e){console.error("Tender by ID error:",e),a(e)}}),e.get("/public/recent",async(e,t,a)=>{try{const a=new n("tenders",{schema:e.schema,accountability:null}),i=Math.min(parseInt(e.query.limit)||10,50),r=await a.readByQuery({fields:["id","title","slug","summary","content","featured_image.id","featured_image.filename_disk","featured_image.title"],limit:i,sort:["-date_created"],filter:{status:{_eq:"published"}}}),o=(r.data||r).map(e=>(e.featured_image&&"object"==typeof e.featured_image&&e.featured_image.id&&(e.featured_image={id:e.featured_image.id,url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}`,thumbnail_url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}?width=400&height=300&fit=cover`,title:e.featured_image.title}),{id:e.id,title:e.title,slug:e.slug,summary:e.summary,comments_count:e.comments_count,featured_image:e.featured_image}));t.json({data:o,meta:{total:o.length}})}catch(e){a(e)}}),e.get("/public/trending",async(e,t,a)=>{try{const a=new n("tenders",{schema:e.schema,accountability:null}),i=Math.min(parseInt(e.query.limit)||10,50),r=await a.readByQuery({fields:["id","title","slug","summary","content","featured_image.id","featured_image.filename_disk","featured_image.title"],limit:i,sort:["-date_created"],filter:{status:{_eq:"published"},is_trending:{_eq:!0}}}),o=r.data||r,s=o.map(e=>(e.featured_image&&"object"==typeof e.featured_image&&e.featured_image.id&&(e.featured_image={id:e.featured_image.id,url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}`,thumbnail_url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}?width=400&height=300&fit=cover`,title:e.featured_image.title}),{id:e.id,title:e.title,slug:e.slug,summary:e.summary,comments_count:e.comments_count,featured_image:e.featured_image}));t.json({data:s,meta:{total:o.length}})}catch(e){console.log("trending error: ",e),a(e)}}),e.get("/public/free",async(e,t,a)=>{try{const a=new n("tenders",{schema:e.schema,accountability:null}),i=Math.min(parseInt(e.query.limit)||10,50),r=await a.readByQuery({fields:["id","title","slug","summary","content","comments_count","featured_image.id","featured_image.filename_disk","featured_image.title"],limit:i,sort:["-date_created"],filter:{status:{_eq:"published"},is_free_news:{_eq:!0}}}),o=r.data||r,s=o.map(e=>(e.featured_image&&"object"==typeof e.featured_image&&e.featured_image.id&&(e.featured_image={id:e.featured_image.id,url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}`,thumbnail_url:`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}?width=400&height=300&fit=cover`,title:e.featured_image.title}),{id:e.id,title:e.title,slug:e.slug,summary:e.summary,comments_count:e.comments_count,featured_image:e.featured_image}));t.json({data:s,meta:{total:o.length}})}catch(e){console.log("trending error: ",e),a(e)}})}},{name:"opinions",config:(e,{services:t,database:a,getSchema:i})=>{const{ItemsService:n}=t;e.get("/",async(e,t,r)=>{try{const{accountability:r}=e,o=await i(),s=new n("experts_analysts",{schema:o,accountability:e.accountability}),c=e.query.groupBy,l=parseInt(e.query.limit)||25,u=parseInt(e.query.page)||1,p=(u-1)*l;let d=0,m=0;try{const t=e.query.filter||{},i=a,n=await i("experts_analysts").count("* as count");d=parseInt(n[0]?.count)||0,m=(Object.keys(t).length,d),console.log("Total count from DB:",d)}catch(e){console.error("Error getting count:",e),d=f?.length||0,m=d}const f=await s.readByQuery({fields:["id","title","slug","summary","content","date_created","photo","photo.id","photo.filename_disk","photo.title","photo.filesize","created_by.first_name","created_by.last_name","created_by.email","created_by.avatar","created_by.avatar.id","created_by.avatar.filename_disk","created_by.avatar.title","created_by.avatar.filesize"],limit:c?-1:l,sort:["-date_created"],offset:c?0:p,filter:e.query.filter||{}}),h={total_count:d,filter_count:m,limit:l,page:u,page_count:Math.ceil(d/l)};console.log("Final meta:",h);const v=f.map(e=>{e.photo&&"object"==typeof e.photo&&e.photo.id&&(e.photo.url=`${process.env.PUBLIC_URL}/assets/${e.photo.id}`,e.photo.thumbnail_url=`${process.env.PUBLIC_URL}/assets/${e.photo.id}?width=400&height=300&fit=cover`);const t=e.created_by?.avatar;return t&&"object"==typeof t&&t.id&&(e.created_by.avatar.url=`${process.env.PUBLIC_URL}/assets/${t.id}`,e.created_by.avatar.thumbnail_url=`${process.env.PUBLIC_URL}/assets/${t.id}?width=400&height=300&fit=cover`),e.countries&&Array.isArray(e.countries)&&(e.countries=e.countries.map(e=>e.countries_id).filter(Boolean)),e.regions&&Array.isArray(e.regions)&&(e.regions=e.regions.map(e=>e.regions_id).filter(Boolean)),e.sectors&&Array.isArray(e.sectors)&&(e.sectors=e.sectors.map(e=>e.sectors_id).filter(Boolean)),e});return t.json({data:v,meta:h})}catch(e){console.error("News error:",e),r(e)}}),e.get("/:id",async(e,t,a)=>{try{const a=await i(),{accountability:r}=e,o=e.params.id,s=new n("experts_analysts",{schema:a,accountability:e.accountability}),c=await s.readOne(o,{fields:["*","countries.countries_id.id","countries.countries_id.name","countries.countries_id.slug","regions.regions_id.slug","regions.regions_id.id","regions.regions_id.name","sectors.sectors_id.slug","sectors.sectors_id.name","sectors.sectors_id.id","created_by.id","created_by.first_name","created_by.last_name","created_by.email","created_by.avatar","created_by.avatar.id","created_by.avatar.filename_disk","created_by.avatar.title","created_by.avatar.filesize","photo.*"]});return c.photo&&"object"==typeof c.photo&&c.photo.id&&(c.photo.url=`${process.env.PUBLIC_URL}/assets/${c.photo.id}`,c.photo.thumbnail_url=`${process.env.PUBLIC_URL}/assets/${c.photo.id}?width=400&height=300&fit=cover`),c.countries&&Array.isArray(c.countries)&&(c.countries=c.countries.map(e=>e.countries_id).filter(Boolean)),c.regions&&Array.isArray(c.regions)&&(c.regions=c.regions.map(e=>e.regions_id).filter(Boolean)),c.sectors&&Array.isArray(c.sectors)&&(c.sectors=c.sectors.map(e=>e.sectors_id).filter(Boolean)),t.json({data:c})}catch(e){console.error("Opinion by ID error:",e),a(e)}}),e.get("/public/recent",async(e,t,a)=>{try{const a=new n("experts_analysts",{schema:e.schema,accountability:null}),i=Math.min(parseInt(e.query.limit)||10,50),r=await a.readByQuery({fields:["id","title","slug","summary","content","photo.id","photo.filename_disk","photo.title"],limit:i,sort:["-date_created"],filter:{status:{_eq:"published"}}}),o=(r.data||r).map(e=>(e.photo&&"object"==typeof e.photo&&e.photo.id&&(e.photo={id:e.photo.id,url:`${process.env.PUBLIC_URL}/assets/${e.photo.id}`,thumbnail_url:`${process.env.PUBLIC_URL}/assets/${e.photo.id}?width=400&height=300&fit=cover`,title:e.photo.title}),{id:e.id,title:e.title,slug:e.slug,summary:e.summary,comments_count:e.comments_count,photo:e.photo}));t.json({data:o,meta:{total:o.length}})}catch(e){a(e)}})}},{name:"companies",config:(e,{services:t,database:a,exceptions:i,getSchema:n})=>{const{ItemsService:r,AssetsService:o}=t;e.get("/",async(e,t,i)=>{try{const{accountability:i}=e,{sort:o="-date_created",filter:s={},search:c}=e.query,l=e.query.groupBy,u=parseInt(e.query.limit)||50,p=parseInt(e.query.page)||1,d=(p-1)*u,m=await n(),f=new r("companies",{schema:m,accountability:e.accountability});let h=0,g=0;try{const t=e.query.filter||{},i=a,n=await i("companies").count("* as count");h=parseInt(n[0]?.count)||0,g=(Object.keys(t).length,h),console.log("Total count from DB:",h)}catch(e){console.error("Error getting count:",e),h=b?.length||0,g=h}let y={limit:parseInt(u),offset:parseInt(d),sort:Array.isArray(o)?o:[o],fields:["id","name","slug","description","projects_completed","projects","logo.*","company_role","status","date_created","date_updated","favorites_count","countries.countries_id.id","countries.countries_id.name","countries.countries_id.slug","regions.regions_id.id","regions.regions_id.name","regions.regions_id.slug","sectors.sectors_id.id","sectors.sectors_id.name","sectors.sectors_id.slug","types.types_id.id","types.types_id.name"]};s&&Object.keys(s).length>0&&(y.filter=s),c&&(y.search=c);const b=await f.readByQuery(y),_={total_count:h,filter_count:g,limit:u,page:p,page_count:Math.ceil(h/u)},x=b.map(e=>{e.featured_image&&"object"==typeof e.featured_image&&e.featured_image.id&&(e.featured_image.url=`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}`,e.featured_image.thumbnail_url=`${process.env.PUBLIC_URL}/assets/${e.featured_image.id}?width=400&height=300&fit=cover`);const t=e.countries?[...e.countries]:[],a=e.regions?[...e.regions]:[],i=e.types?[...e.types]:[],n=e.sectors?[...e.sectors]:[];return e.countries&&Array.isArray(e.countries)&&(e.countries=e.countries.map(e=>e.countries_id).filter(Boolean)),e.regions&&Array.isArray(e.regions)&&(e.regions=e.regions.map(e=>e.regions_id).filter(Boolean)),e.types&&Array.isArray(e.types)&&(e.types=e.types.map(e=>e.types_id).filter(Boolean)),e.sectors&&Array.isArray(e.sectors)&&(e.sectors=e.sectors.map(e=>e.sectors_id).filter(Boolean)),l&&(e._originals={countries:t,regions:a,types:i,sectors:n}),e.projects_completed=e.projects&&Array.isArray(e.projects)?e.projects.length:0,e});if(l){const a=function(e,t){const a=new Map;return e.forEach(e=>{let i=[];switch(t){case"country":i=e._originals.countries.map(e=>({id:e.countries_id?.id,name:e.countries_id?.name||"Unknown Country",data:e.countries_id}));break;case"region":i=e._originals.regions.map(e=>({id:e.regions_id?.id,name:e.regions_id?.name||"Unknown Region",data:e.regions_id}));break;case"type":i=e._originals.types.map(e=>({id:e.types_id?.id,name:e.types_id?.name||"Unknown Type",data:e.types_id}));break;case"company":i=e._originals.companies.map(e=>({id:e.companies_id?.id,name:e.companies_id?.name||"Unknown Company",data:e.companies_id}));break;default:i=[{id:"all",name:"All companies",data:null}]}0===i.length&&(i=[{id:"unknown",name:`Unknown ${t}`,data:null}]),i.forEach(t=>{a.has(t.id)||a.set(t.id,{id:t.id,name:t.name,data:t.data,companies:[],count:0,totalValue:0});const i=a.get(t.id),n={...e};delete n._originals,i.companies.push(n),i.count++,e.contract_value_usd&&(i.totalValue+=parseFloat(e.contract_value_usd)||0)})}),Array.from(a.values()).sort((e,t)=>e.name.localeCompare(t.name))}(x,l),i=parseInt(e.query.limit)||5,n=parseInt(e.query.page)||1,r=a.length,o=(n-1)*i,s=o+i,c=a.slice(o,s);return t.json({data:c,meta:{total_groups:r,groupBy:l,page:n,limit:i,page_count:Math.ceil(r/i)}})}let w;return w=i?.user?await async function(e,t,a,i){return v({items:e,collection:"companies",userId:t,schema:a,accountability:i,ItemsService:r})}(b,i.user,m,e.accountability):x.map(e=>({...e,is_favorited:!1,favorite_id:null})),t.json({data:w,meta:_})}catch(e){return console.error("Get companies with favorites error:",e),t.status(500).json({success:!1,error:"Failed to fetch companies",details:e.message})}}),e.get("/public/recent",async(e,t,a)=>{try{const a=new r("companies",{schema:e.schema,accountability:null}),i=Math.min(parseInt(e.query.limit)||10,50),n=await a.readByQuery({fields:["id","name","slug","description","logo.id","logo.filename_disk","logo.title"],limit:i,sort:["-date_created"],filter:{status:{_eq:"published"}}}),o=(n.data||n).map(e=>(e.logo&&"object"==typeof e.logo&&e.logo.id&&(e.logo={id:e.logo.id,url:`${process.env.PUBLIC_URL}/assets/${e.logo.id}`,thumbnail_url:`${process.env.PUBLIC_URL}/assets/${e.logo.id}?width=400&height=300&fit=cover`,title:e.logo.title}),{id:e.id,title:e.title,slug:e.slug,summary:e.summary,logo:e.logo}));t.json({data:o,meta:{total:o.length}})}catch(e){a(e)}}),e.get("/public/trending",async(e,t,a)=>{try{const a=new r("companies",{schema:e.schema,accountability:null}),i=Math.min(parseInt(e.query.limit)||10,50),n=await a.readByQuery({fields:["id","name","slug","description","logo.id","logo.filename_disk","logo.title"],limit:i,sort:["-date_created"],filter:{status:{_eq:"published"},is_trending:{_eq:!0}}}),o=n.data||n,s=o.map(e=>(e.logo&&"object"==typeof e.logo&&e.logo.id&&(e.logo={id:e.logo.id,url:`${process.env.PUBLIC_URL}/assets/${e.logo.id}`,thumbnail_url:`${process.env.PUBLIC_URL}/assets/${e.logo.id}?width=400&height=300&fit=cover`,title:e.logo.title}),{id:e.id,title:e.title,slug:e.slug,summary:e.summary,logo:e.logo}));t.json({data:s,meta:{total:o.length}})}catch(e){console.log("trending error: ",e),a(e)}}),e.get("/public/free",async(e,t,a)=>{try{const a=new r("companies",{schema:e.schema,accountability:null}),i=Math.min(parseInt(e.query.limit)||10,50),n=await a.readByQuery({fields:["id","name","slug","description","logo.id","logo.filename_disk","logo.title"],limit:i,sort:["-date_created"],filter:{status:{_eq:"published"},is_trending:{_eq:!0}}}),o=n.data||n,s=o.map(e=>(e.logo&&"object"==typeof e.logo&&e.logo.id&&(e.logo={id:e.logo.id,url:`${process.env.PUBLIC_URL}/assets/${e.logo.id}`,thumbnail_url:`${process.env.PUBLIC_URL}/assets/${e.logo.id}?width=400&height=300&fit=cover`,title:e.logo.title}),{id:e.id,title:e.title,slug:e.slug,summary:e.summary,logo:e.logo}));t.json({data:s,meta:{total:o.length}})}catch(e){console.log("trending error: ",e),a(e)}}),e.get("/stats/filters",async(e,t,a)=>{try{const a=await n(),{q:i}=e.query;if(!i||!["type","sector","region"].includes(i))return t.status(400).json({error:"Invalid filter parameter. Must be one of: type, sector, region"});const o=new r("companies",{schema:a,accountability:e.accountability}),s={type:"types.types_id.*",sector:"sectors.sectors_id.*",region:"regions.regions_id.*"},c=await o.readByQuery({fields:["id",s[i]],limit:-1}),l="type"===i?"types":"sector"===i?"sectors":"regions",u=("type"===i?"types":"sector"===i?"sectors":"regions")+"_id",p=new Map;let d=0;c.forEach(e=>{e[l]&&Array.isArray(e[l])&&e[l].forEach(e=>{if(e[u]){const t=e[u],a=t.id;p.has(a)||p.set(a,{id:t.id,name:t.name,slug:t.slug||null,count:0}),p.get(a).count++,d++}})});const m=Array.from(p.values()).map(e=>({...e,percentage:d>0?Math.round(e.count/d*100*10)/10:0})).sort((e,t)=>t.count-e.count);return t.json({data:{filter:i,total:c.length,total_relations:d,stats:m}})}catch(e){console.error("Companies stats error:",e),a(e)}}),e.get("/:id",async(e,t,a)=>{try{const a=await n(),{accountability:i}=e,o=e.params.id,s=new r("companies",{schema:a,accountability:i}),c=await s.readOne(e.params.id,{fields:["*","countries.countries_id.id","countries.countries_id.name","countries.countries_id.slug","regions.regions_id.id","regions.regions_id.name","regions.regions_id.slug","sectors.sectors_id.id","sectors.sectors_id.name","sectors.sectors_id.slug","types.types_id.id","types.types_id.name","projects.project_id.id","projects.project_id.title","projects.project_id.current_status.name","projects.project_id.estimated_project_value_usd","projects.project_id.contract_value_usd","projects.project_id.value_range","projects.project_id.countries","projects.project_id.countries.countries_id.id","projects.project_id.countries.countries_id.name","projects.project_id.countries.countries_id.slug","projects.role_id.id","projects.role_id.name","projects.role_id.slug","contacts.*","logo.*"]});c.logo&&"object"==typeof c.logo&&c.logo.id&&(c.logo.url=`${process.env.PUBLIC_URL}/assets/${c.logo.id}`,c.logo.thumbnail_url=`${process.env.PUBLIC_URL}/assets/${c.logo.id}?width=400&height=300&fit=cover`),c.countries&&Array.isArray(c.countries)&&(c.countries=c.countries.map(e=>e.countries_id).filter(Boolean)),c.regions&&Array.isArray(c.regions)&&(c.regions=c.regions.map(e=>e.regions_id).filter(Boolean)),c.types&&Array.isArray(c.types)&&(c.types=c.types.map(e=>e.types_id).filter(Boolean)),c.sectors&&Array.isArray(c.sectors)&&(c.sectors=c.sectors.map(e=>e.sectors_id).filter(Boolean)),c.projects&&Array.isArray(c.projects)?c.projects=c.projects.filter(e=>e.project_id).map(e=>({id:e.id,project:{id:e.project_id.id,name:e.project_id.title||null,current_status:e.project_id.current_status?.name||null,estimated_project_value_usd:e.project_id?.estimated_project_value_usd||null,value_range:e.project_id?.value_range||null,contract_value_usd:e.project_id?.contract_value_usd||null,countries:e.project_id?.countries},role:e.role_id?{id:e.role_id.id,name:e.role_id.name||null,slug:e.role_id.slug||null}:null})):c.projects=[];const{is_favorited:l,favorite_id:u}=i?.user?await g({itemId:o,collection:"companies",userId:i.user,schema:a,accountability:i,ItemsService:r}):{is_favorited:!1,favorite_id:null},p={...c,is_favorited:l,favorite_id:u};t.json({data:p})}catch(e){a(e)}})}},{name:"subscriptions",config:(e,{services:t,env:a,logger:i,getSchema:n,database:r})=>{const{ItemsService:o}=t;e.post("/checkout",async(e,t)=>{try{console.log("starting subscription");if(!a.STRIPE_SECRET_KEY)return console.error("No Stripe secret key found. Checked:",{hasRegularKey:!!a.STRIPE_SECRET_KEY,allKeys:Object.keys(a)}),t.status(500).json({success:!1,error:"Stripe not configured"});const r=new tu(a.STRIPE_SECRET_KEY),{accountability:s}=e,{plan_id:c,success_url:l,cancel_url:u,payment_type:p="one_time"}=e.body;if(console.log("Request body:",{plan_id:c,success_url:l,cancel_url:u,payment_type:p}),!s?.user)return t.status(403).json({success:!1,error:"Authentication required"});if(!c)return t.status(400).json({success:!1,error:"plan_id is required"});const d=await n(),m=new o("subscription_plans",{schema:d,accountability:e.accountability}),f=await m.readOne(c);if(console.log("Plan details:",f),!f)return t.status(404).json({success:!1,error:"Subscription plan not found"});const h=new o("directus_users",{schema:d,accountability:{admin:!0}}),v=await h.readOne(s.user,{fields:["email","first_name","last_name"]});if(console.log("User details:",v),!v?.email)return t.status(400).json({success:!1,error:"User email not found"});let g={customer_email:v.email,mode:"subscription"===p?"subscription":"payment",success_url:l||`${a.PUBLIC_URL||"http://localhost:8055"}/subscription/success?session_id={CHECKOUT_SESSION_ID}`,cancel_url:u||`${a.PUBLIC_URL||"http://localhost:8055"}/subscription/cancel`,metadata:{user_id:s.user,plan_id:c,payment_type:p},payment_method_types:["card"]};console.log("Session params:",g);const y=f.price||f.amount||0,b=f.currency||"usd";g.line_items=[{price_data:{currency:b.toLowerCase(),unit_amount:Math.round(100*y),product_data:{name:f.name||"Subscription Plan"}},quantity:1}],console.log("Creating Stripe session...");const _=await r.checkout.sessions.create(g);console.log("Stripe session created:",_.id);const x=new o("transactions",{schema:d,accountability:e.accountability}),w=await x.createOne({user:s.user,provider_reference:_.id,reference:_.id,amount:f.amount,currency:(f.currency||"usd").toLowerCase(),status:"pending",payment_type:p,payable_id:c,payable_type:"subscription_plans"});return console.log("Transaction created:",w.id),i.info(`Checkout session created: ${_.id} for user ${s.user}`),t.json({success:!0,session_id:_.id,checkout_url:_.url,transaction_id:w.id})}catch(e){return console.error("Create checkout session error:",e),i.error("Create checkout session error details:",e),t.status(500).json({success:!1,error:"Failed to create checkout session",details:void 0})}}),e.get("/plans",async(e,t)=>{try{const a=new o("subscription_plans",{schema:e.schema}),i=await a.readByQuery({filter:{status:{_eq:"published"},is_active:{_eq:!0}},sort:["sort","price"],fields:["*"]});return t.json({success:!0,data:i})}catch(e){return console.error("Get plans error:",e),t.status(500).json({success:!1,error:"Failed to fetch subscription plans"})}}),e.get("/me",async(e,t)=>{try{const{accountability:a}=e;if(!a?.user)return t.status(403).json({success:!1,error:"Authentication required"});const i=new o("user_subscriptions",{schema:e.schema,accountability:e.accountability}),n=await i.readByQuery({filter:{user:{_eq:a.user},status:{_eq:"active"}},fields:["*","subscription_plan.*"],limit:1});if(0===n.length)return t.json({success:!0,data:null,message:"No active subscription"});const r=n[0];return t.json({success:!0,data:r})}catch(e){return console.error("Get subscription error:",e),t.status(500).json({success:!1,error:"Failed to fetch subscription"})}}),e.post("/cancel",async(e,t)=>{try{const{accountability:a}=e;if(!a?.user)return t.status(403).json({success:!1,error:"Authentication required"});const i=new o("user_subscriptions",{schema:e.schema,accountability:e.accountability}),n=await i.readByQuery({filter:{user:{_eq:a.user},status:{_eq:"active"}},limit:1});if(0===n.length)return t.status(404).json({success:!1,error:"No active subscription found"});await i.updateOne(n[0].id,{status:"cancelled",auto_renew:!1});const r=new o("directus_users",{schema:e.schema,accountability:{admin:!0}});return await r.updateOne(a.user,{subscription_status:"cancelled"}),t.json({success:!0,message:"Subscription cancelled successfully"})}catch(e){return console.error("Cancel error:",e),t.status(500).json({success:!1,error:"Failed to cancel subscription"})}}),e.post("/webho",async(e,t)=>{const r=e.headers["stripe-signature"],s=new tu(a.STRIPE_SECRET_KEY);let c;try{c=s.webhooks.constructEvent(e.body,r,a.STRIPE_WEBHOOK_SECRET)}catch(e){return i.error("Webhook signature verification failed:",e.message),t.status(400).send(`Webhook Error: ${e.message}`)}i.info(`Webhook received: ${c.type}`);const l=await n(),u=new o("transactions",{schema:l});try{switch(c.type){case"checkout.session.completed":{const e=c.data.object,t=await u.readByQuery({filter:{stripe_session_id:{_eq:e.id}},limit:1});if(0===t.length){i.warn(`Transaction not found for session: ${e.id}`);break}const a={provider_reference:e.payment_intent,status:"completed",completed_at:new Date};if("subscription"===e.mode){a.stripe_subscription_id=e.subscription,a.subscription_status="active";const t=await s.subscriptions.retrieve(e.subscription);a.subscription_period_start=new Date(1e3*t.current_period_start),a.subscription_period_end=new Date(1e3*t.current_period_end),a.amount=t.items.data[0].price.unit_amount/100,a.currency=t.currency}await u.updateOne(t[0].id,a),i.info(`Transaction updated: ${t[0].id} - Status: completed`);break}case"payment_intent.succeeded":{const e=c.data.object,t=await u.readByQuery({filter:{provider_reference:{_eq:e.id}},limit:1});t.length>0&&(await u.updateOne(t[0].id,{status:"completed",completed_at:new Date}),i.info(`Payment succeeded for transaction: ${t[0].id}`));break}case"payment_intent.payment_failed":{const e=c.data.object,t=await u.readByQuery({filter:{provider_reference:{_eq:e.id}},limit:1});t.length>0&&(await u.updateOne(t[0].id,{status:"failed",metadata:{...t[0].metadata,failure_message:e.last_payment_error?.message}}),i.info(`Payment failed for transaction: ${t[0].id}`));break}case"customer.subscription.updated":{const e=c.data.object,t=await u.readByQuery({filter:{stripe_subscription_id:{_eq:e.id}},limit:1});t.length>0&&(await u.updateOne(t[0].id,{subscription_status:e.status,subscription_period_start:new Date(1e3*e.current_period_start),subscription_period_end:new Date(1e3*e.current_period_end)}),i.info(`Subscription updated: ${t[0].id} - Status: ${e.status}`));break}case"customer.subscription.deleted":{const e=c.data.object,t=await u.readByQuery({filter:{stripe_subscription_id:{_eq:e.id}},limit:1});t.length>0&&(await u.updateOne(t[0].id,{subscription_status:"cancelled"}),i.info(`Subscription cancelled: ${t[0].id}`));break}case"invoice.payment_succeeded":{const e=c.data.object;if(e.subscription){const t=await u.readByQuery({filter:{stripe_subscription_id:{_eq:e.subscription}},limit:1});t.length>0&&(await u.createOne({user:t[0].user,stripe_customer_id:e.customer,stripe_subscription_id:e.subscription,provider_reference:e.payment_intent,amount:e.amount_paid/100,currency:e.currency,provider:"stripe",status:"completed",payment_type:"subscription",subscription_status:"active",metadata:{invoice_id:e.id,billing_reason:e.billing_reason}}),i.info(`Recurring payment recorded for subscription: ${e.subscription}`))}break}case"invoice.payment_failed":{const e=c.data.object;if(e.subscription){const t=await u.readByQuery({filter:{stripe_subscription_id:{_eq:e.subscription}},limit:1});t.length>0&&(await u.updateOne(t[0].id,{subscription_status:"past_due",metadata:{...t[0].metadata,last_payment_error:e.last_payment_error?.message}}),i.warn(`Payment failed for subscription: ${e.subscription}`))}break}default:i.info(`Unhandled event type: ${c.type}`)}t.json({received:!0})}catch(e){i.error("Webhook processing error:",e),t.status(500).json({error:"Webhook processing failed"})}})}},{name:"auth",config:(e,{services:t,exceptions:n,env:r,logger:o})=>{const{UsersService:s,MailService:c}=t;function l(){return a(32).toString("hex")}function u(e){return i("sha256").update(e).digest("hex")}e.post("/register/old",async(e,t)=>{o.info(" Custom register endpoint called - using Resend");try{const{email:a,password:i,first_name:n,last_name:c}=e.body;if(!a||!i)return t.status(422).send("Email and password are required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a))return t.status(422).send("Invalid email format");if(i.length<8)return t.status(422).send("Password must be at least 8 characters");const p=new s({schema:e.schema});if((await p.readByQuery({filter:{email:{_eq:a}},limit:1})).length>0)return t.status(422).send("User with this email already exists");const d=l(),m=u(d),f=r.PUBLIC_REGISTRATION_ROLE;if(!f)return t.status(400).send("PUBLIC_REGISTRATION_ROLE not configured");await p.createOne({email:a,password:i,first_name:n||null,last_name:c||null,role:f,status:"draft",email_verification_token:m,verification_status:!1});const h=`${r.PUBLIC_URL}/verify-email?token=${d}`,v=new uy("re_Hfimbfdi_3V7oLnVw81hb7hiSeZpbF9NM");try{const{data:e,error:t}=await v.emails.send({from:"no-reply@peercheck.africa",to:a,subject:"Verify your email address",html:`\n                    <h2>Welcome!</h2>\n                    <p>Thank you for registering. Please verify your email address by clicking the link below:</p>\n                    <p><a href="${h}">Verify Email</a></p>\n                    <p>Or copy and paste this link into your browser:</p>\n                    <p>${h}</p>\n                    <p>This link will expire in 24 hours.</p>\n                `});if(t)throw o.error("Resend API error:",t),new Error(`Failed to send email: ${t.message}`);o.info(`Registration email sent to ${a}, Email ID: ${e.id}`)}catch(e){return o.error("Email sending failed:",e),t.status(500).json({success:!1,message:"Registration successful but email verification could not be sent. Please contact support."})}return o.info(`Registration email sent to ${a}`),t.json({success:!0,message:"Registration successful. Please check your email to verify your account."})}catch(e){return o.error("Registration error:",e),t.status(500).json({success:!1,message:"Registration failed. Please try again."})}}),e.post("/register",async(e,t)=>{o.info(" Custom register endpoint called - using Resend");try{const{email:a,password:i,first_name:n,last_name:c}=e.body;if(!a||!i)return t.status(422).send("Email and password are required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a))return t.status(422).send("Invalid email format");if(i.length<8)return t.status(422).send("Password must be at least 8 characters");const p=new s({schema:e.schema});if((await p.readByQuery({filter:{email:{_eq:a}},limit:1})).length>0)return t.status(422).send("User with this email already exists");const d=l(),m=u(d),f=r.PUBLIC_REGISTRATION_ROLE;if(!f)return t.status(400).send("PUBLIC_REGISTRATION_ROLE not configured");const h=await p.createOne({email:a,password:i,first_name:n||null,last_name:c||null,role:f,status:"draft",email_verification_token:m,verification_status:!1});o.info(` User created with ID: ${h}`);const v=`${r.PUBLIC_URL}/verify-email?token=${d}`,g=new uy(r.EMAIL_SMTP_PASSWORD);o.info(` Attempting to send email to: ${a}`),o.info(" From address: onboarding@resend.dev"),o.info(` Verification URL: ${v}`);try{const{data:e,error:i}=await g.emails.send({from:"onboarding@resend.dev",to:a,subject:"Verify your email address",html:`\n                <h2>Welcome!</h2>\n                <p>Thank you for registering. Please verify your email address by clicking the link below:</p>\n                <p><a href="${v}">Verify Email</a></p>\n                <p>Or copy and paste this link into your browser:</p>\n                <p>${v}</p>\n                <p>This link will expire in 24 hours.</p>\n            `});if(i)throw o.error(" Resend API error details:",{message:i.message,name:i.name,statusCode:i.statusCode,fullError:JSON.stringify(i,null,2)}),i;return o.info(` Registration email sent successfully! Email ID: ${e.id}`),t.json({success:!0,message:"Registration successful. Please check your email to verify your account."})}catch(e){return o.error(" Email sending failed:",{message:e.message,stack:e.stack,fullError:JSON.stringify(e,null,2)}),t.status(500).json({success:!1,message:"Registration successful but email verification could not be sent. Please contact support.",debug:e.message})}}catch(e){return o.error(" Registration error:",{message:e.message,stack:e.stack}),t.status(500).json({success:!1,message:"Registration failed. Please try again."})}}),e.post("/register/new",async(e,t)=>{o.info(" Custom register endpoint called - using Resend");try{const{email:a,password:i,first_name:n,last_name:c}=e.body;if(!a||!i)return t.status(422).send("Email and password are required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a))return t.status(422).send("Invalid email format");if(i.length<8)return t.status(422).send("Password must be at least 8 characters");const p=new s({schema:e.schema});if((await p.readByQuery({filter:{email:{_eq:a}},limit:1})).length>0)return t.status(422).send("User with this email already exists");const d=l(),m=u(d),f=r.PUBLIC_REGISTRATION_ROLE;if(!f)return t.status(400).send("PUBLIC_REGISTRATION_ROLE not configured");const h=await p.createOne({email:a,password:i,first_name:n||null,last_name:c||null,role:f,status:"draft",email_verification_token:m,verification_status:!1});o.info(` User created with ID: ${h}`);const v=`${r.PUBLIC_URL}/verify-email?token=${d}`;try{o.info(" Sending email via direct HTTP request to Resend...");const e=await fetch("https://api.resend.com/emails",{method:"POST",headers:{Authorization:`Bearer ${r.EMAIL_SMTP_PASSWORD}`,"Content-Type":"application/json"},body:JSON.stringify({from:"onboarding@resend.dev",to:a,subject:"Verify your email address",html:`\n                        <h2>Welcome!</h2>\n                        <p>Thank you for registering. Please verify your email address by clicking the link below:</p>\n                        <p><a href="${v}">Verify Email</a></p>\n                        <p>Or copy and paste this link into your browser:</p>\n                        <p>${v}</p>\n                        <p>This link will expire in 24 hours.</p>\n                    `})}),i=await e.text();if(o.info(`Resend API response status: ${e.status}`),o.info(`Resend API response body: ${i}`),!e.ok)throw new Error(`Resend API error: ${e.status} - ${i}`);const n=JSON.parse(i);return o.info(` Registration email sent successfully! Email ID: ${n.id}`),t.json({success:!0,message:"Registration successful. Please check your email to verify your account."})}catch(e){return o.error(" Email sending failed:",{message:e.message,stack:e.stack}),t.status(500).json({success:!1,message:"Registration successful but email verification could not be sent. Please contact support.",debug:e.message})}}catch(e){return o.error(" Registration error:",{message:e.message,stack:e.stack}),t.status(500).json({success:!1,message:"Registration failed. Please try again."})}}),e.get("/test-resend",async(e,t)=>{try{const e=new uy(r.EMAIL_SMTP_PASSWORD),{data:a,error:i}=await e.emails.send({from:"onboarding@resend.dev",to:"delivered@resend.dev",subject:"Test Email",html:"<p>Test</p>"});return i?t.json({success:!1,error:i}):t.json({success:!0,data:a})}catch(e){return t.json({success:!1,error:e.message})}}),e.post("/verify-email",async(e,t)=>{try{const{token:a}=e.body;if(!a)return t.status(422).send("Verification token is required");const i=u(a),n=new s({schema:e.schema}),r=await n.readByQuery({filter:{email_verification_token:{_eq:i},status:{_eq:"draft"}},limit:1});if(0===r.length)return t.status(422).send("Invalid or expired verification token");const c=r[0];return await n.updateOne(c.id,{status:"active",verification_status:!0,email_verification_token:null}),o.info(`Email verified for user ${c.email}`),t.json({success:!0,message:"Email verified successfully. You can now log in."})}catch(e){return o.error("Verification error:",e),t.status(500).json({success:!1,message:"Verification failed. Please try again."})}}),e.post("/resend-verification",async(e,t)=>{try{const{email:a}=e.body;if(!a)return t.status(422).send("Email is required");const i=new s({schema:e.schema}),n=await i.readByQuery({filter:{email:{_eq:a},status:{_eq:"draft"}},limit:1});if(0===n.length)return t.json({success:!0,message:"If an unverified account exists, a new verification email has been sent."});const p=n[0],d=l(),m=u(d);await i.updateOne(p.id,{email_verification_token:m});const f=new c({schema:e.schema}),h=`${r.PUBLIC_URL}/verify-email?token=${d}`;return await f.send({to:a,subject:"Verify your email address",html:`\n\t\t\t\t\t<h2>Email Verification</h2>\n\t\t\t\t\t<p>Please verify your email address by clicking the link below:</p>\n\t\t\t\t\t<p><a href="${h}">Verify Email</a></p>\n\t\t\t\t\t<p>Or copy and paste this link into your browser:</p>\n\t\t\t\t\t<p>${h}</p>\n\t\t\t\t\t<p>This link will expire in 24 hours.</p>\n\t\t\t\t`}),o.info(`Verification email resent to ${a}`),t.json({success:!0,message:"If an unverified account exists, a new verification email has been sent."})}catch(e){return o.error("Resend verification error:",e),t.status(500).json({success:!1,message:"Failed to resend verification email. Please try again."})}}),e.post("/forgot-password",async(e,t)=>{o.info(" Forgot password request received");try{const{email:a}=e.body;if(!a)return t.status(422).json({success:!1,message:"Email is required"});if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a))return t.status(422).json({success:!1,message:"Invalid email format"});const i=new s({schema:e.schema}),n=await i.readByQuery({filter:{email:{_eq:a}},limit:1});if(0===n.length)return o.info(`Password reset requested for non-existent email: ${a}`),t.json({success:!0,message:"If an account with that email exists, a password reset link has been sent."});const c=n[0],p=l(),d=u(p),m=new Date(Date.now()+36e5);await i.updateOne(c.id,{email_verification_token:d,verification_token_expires:m});const f=`${r.PUBLIC_URL}/reset-password?token=${p}`;try{const e=await fetch("https://api.resend.com/emails",{method:"POST",headers:{Authorization:`Bearer ${r.EMAIL_SMTP_PASSWORD}`,"Content-Type":"application/json"},body:JSON.stringify({from:process.env.EMAIL_FROM||"onboarding@resend.dev",to:a,subject:"Reset Your Password",html:`\n                            <h2>Password Reset Request</h2>\n                            <p>You requested to reset your password. Click the link below to proceed:</p>\n                            <p><a href="${f}">Reset Password</a></p>\n                            <p>Or copy and paste this link into your browser:</p>\n                            <p>${f}</p>\n                            <p>This link will expire in 1 hour.</p>\n                            <p>If you didn't request this, please ignore this email.</p>\n                        `})});if(!e.ok){const t=await e.text();throw o.error("Failed to send reset email:",t),new Error("Failed to send email")}const t=await e.json();o.info(` Password reset email sent to ${a}, Email ID: ${t.id}`)}catch(e){return o.error(" Email sending failed:",e),t.status(500).json({success:!1,message:"Failed to send password reset email. Please try again.",data:f})}return t.json({success:!0,message:"If an account with that email exists, a password reset link has been sent.",data:f})}catch(e){return o.error(" Forgot password error:",e),t.status(500).json({success:!1,message:"An error occurred. Please try again.",data:resetUrl})}}),e.post("/reset-password",async(e,t)=>{o.info(" Password reset attempt received");try{const{token:a,password:i}=e.body;if(!a||!i)return t.status(422).json({success:!1,message:"Token and password are required"});if(i.length<8)return t.status(422).json({success:!1,message:"Password must be at least 8 characters"});const n=new s({schema:e.schema}),r=u(a),c=await n.readByQuery({filter:{_and:[{email_verification_token:{_eq:r}},{verification_token_expires:{_gt:(new Date).toISOString()}}]},limit:1});if(0===c.length)return o.warn("Invalid or expired reset token used"),t.status(400).json({success:!1,message:"Invalid or expired reset token"});const l=c[0];return await n.updateOne(l.id,{password:i,email_verification_token:null,verification_token_expires:null}),o.info(` Password successfully reset for user: ${l.email}`),t.json({success:!0,message:"Password has been reset successfully. You can now login with your new password."})}catch(e){return o.error(" Reset password error:",e),t.status(500).json({success:!1,message:"An error occurred. Please try again."})}}),e.post("/verify-reset-token",async(e,t)=>{try{const{token:a}=e.body;if(!a)return t.status(422).json({success:!1,message:"Token is required"});const i=new s({schema:e.schema}),n=u(a);return 0===(await i.readByQuery({filter:{_and:[{email_verification_token:{_eq:n}},{verification_token_expires:{_gt:(new Date).toISOString()}}]},limit:1})).length?t.status(400).json({success:!1,message:"Invalid or expired token"}):t.json({success:!0,message:"Token is valid"})}catch(e){return o.error(" Verify token error:",e),t.status(500).json({success:!1,message:"An error occurred"})}})}},{name:"ca-user",config:(e,{services:t,env:a,logger:i,getSchema:n})=>{const{ItemsService:r,UsersService:o,FilesService:s}=t;e.post("/avatar",Ux.single("avatar"),async(e,t)=>{i.info(" Avatar update request received");try{if(!e.accountability||!e.accountability.user)return i.error("No accountability found"),t.status(401).json({success:!1,message:"Authentication required"});const n=e.accountability.user;if(i.info(`User ID: ${n}`),!e.file)return i.error("No file in request"),t.status(422).json({success:!1,message:"No file uploaded. Please provide an avatar image."});i.info(`File received: ${e.file.originalname}, size: ${e.file.size}, type: ${e.file.mimetype}`);const r=new o({schema:e.schema,accountability:e.accountability}),c=new s({schema:e.schema,accountability:e.accountability});i.info("Services initialized");const l=await r.readOne(n,{fields:["id","avatar","email"]});i.info(`Current user fetched: ${l.email}`);const u=d.from(e.file.buffer),p={filename_download:e.file.originalname,filename_disk:`${n}_${Date.now()}_${e.file.originalname}`,type:e.file.mimetype,filesize:e.file.size,title:`Avatar for user ${n}`,storage:"s3"};i.info("About to upload file to Directus...");const m=await c.uploadOne(u,p);if(i.info(` File uploaded with ID: ${m}`),await r.updateOne(n,{avatar:m}),i.info(` Avatar updated for user: ${n}`),l.avatar)try{await c.deleteOne(l.avatar),i.info(` Old avatar deleted: ${l.avatar}`)}catch(e){i.warn("Failed to delete old avatar:",e)}return t.json({success:!0,message:"Avatar updated successfully",data:{avatar:`${a.PUBLIC_URL}/assets/${m}`}})}catch(e){return i.error(" Avatar update error:",{message:e.message,stack:e.stack,name:e.name,code:e.code}),e.message.includes("Invalid file type")?t.status(422).json({success:!1,message:e.message}):"LIMIT_FILE_SIZE"===e.code?t.status(422).json({success:!1,message:"File too large. Maximum size is 5MB."}):t.status(500).json({success:!1,message:"Failed to update avatar. Please try again.",debug:e.message})}}),e.get("/me/avatar",async(e,t)=>{try{if(!e.accountability||!e.accountability.user)return t.status(401).json({success:!1,message:"Authentication required"});const i=e.accountability.user,n=new o({schema:e.schema,accountability:e.accountability}),r=await n.readOne(i,{fields:["id","email","first_name","last_name","avatar.*"]});if(!r.avatar)return t.json({success:!0,message:"No avatar set",data:{avatar:null}});const s=`${a.PUBLIC_URL}/assets/${r.avatar.id}`;return t.json({success:!0,data:{avatar:{id:r.avatar.id,url:s,filename:r.avatar.filename_download,type:r.avatar.type,filesize:r.avatar.filesize}}})}catch(e){return i.error(" Get avatar error:",e),t.status(500).json({success:!1,message:"Failed to retrieve avatar"})}}),e.get("/editors",async(e,t,a)=>{try{const a=await n(),i=new r("directus_roles",{schema:a,accountability:e.accountability}),o=await i.readByQuery({filter:{name:{_eq:"Editor"}},limit:1});if(0===o.length)return t.status(404).json({error:"Editor role not found"});const s=o[0].id,c=new r("directus_users",{schema:a,accountability:e.accountability}),l=(await c.readByQuery({filter:{role:{_eq:s}},fields:["id","first_name","last_name","email","avatar","avatar.id","avatar.filename_disk","avatar.title","avatar.filesize","title","status"],sort:["first_name","last_name"]})).map(e=>({...e,avatar_url:e.avatar?`${process.env.PUBLIC_URL}/assets/${e.avatar}`:null}));return t.json({data:l,meta:{total:l.length}})}catch(e){console.error("Get editor users error:",e),a(e)}})}},{name:"ca-comments",config:(e,{services:t,env:a,logger:i,getSchema:n})=>{const{ItemsService:r,UsersService:o}=t;e.get("/",async(e,t)=>{i.info(" Get comments request received");try{const{entity_type:a,entity_id:i,page:n=1,limit:o=20}=e.query;if(!a||!i)return t.status(422).json({success:!1,message:"entity_type and entity_id are required"});const s=["projects","main_news","tenders"];if(!s.includes(a))return t.status(422).json({success:!1,message:`Invalid entity_type. Must be one of: ${s.join(", ")}`});const c=new r("comments",{schema:e.schema,accountability:e.accountability}),l=(Number(n)-1)*Number(o),u=await c.readByQuery({filter:{_and:[{entity_type:{_eq:a}},{entity_id:{_eq:i}}]},sort:["-date_created"],limit:Number(o),offset:l,meta:["total_count","filter_count"],fields:["*","user_created.email","user_created.first_name","user_created.last_name","user_created.avatar"]}),p=u.data||u,d=u.meta||{};return t.json({success:!0,data:p,meta:{page:Number(n),limit:Number(o),total_count:d.total_count??p.length,filter_count:d.filter_count??p.length,page_count:d.total_count?Math.ceil(d.total_count/o):1}})}catch(e){return i.error(" Get comments error:",{message:e.message,stack:e.stack}),t.status(500).json({success:!1,message:"Failed to fetch comments"})}}),e.post("/create",async(e,t)=>{i.info(" Create comment request received");try{if(!e.accountability||!e.accountability.user)return t.status(401).json({success:!1,message:"Authentication required"});const a=e.accountability.user,{subject:n,content:o,entity_type:s,entity_id:c}=e.body;if(!o||!s||!c)return t.status(422).json({success:!1,message:"Content, entity_type, and entity_id are required"});const l=["projects","main_news","tenders"];if(!l.includes(s))return t.status(422).json({success:!1,message:`Invalid entity_type. Must be one of: ${l.join(", ")}`});const u=new r(s,{schema:e.schema,accountability:e.accountability});try{await u.readOne(c)}catch(e){return t.status(404).json({success:!1,message:`${s} with ID ${c} not found`})}const p=new r("comments",{schema:e.schema,accountability:e.accountability}),d=await p.createOne({subject:n||null,content:o,entity_type:s,entity_id:c,user_created:a,date_created:(new Date).toISOString()});i.info(` Comment created with ID: ${d}`);const m=await p.readOne(d,{fields:["*","user_created.id","user_created.email","user_created.first_name","user_created.last_name","user_created.avatar"]});return t.json({success:!0,message:"Comment created successfully",data:m})}catch(e){return i.error(" Create comment error:",{message:e,stack:e.stack}),t.status(500).json({success:!1,message:"Failed to create comment. Please try again."})}})}},{name:"test",config:(e,{services:t,exceptions:a})=>{e.get("/",(e,t)=>{t.json({status:"ok",message:"Test endpoint works!"})})}}],$x=[];export{Dx as endpoints,Bx as hooks,$x as operations};
