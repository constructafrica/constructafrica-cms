openapi: 3.0.3
info:
  title: ConstructAfrica Content API
  description: API for managing news articles, blogs, tenders, authors, experts, and sectors
  version: 1.0.0
  contact:
    name: ConstructAfrica Support
    email: support@constructafrica.com
    url: https://constructafrica.com
servers:
  - url: https://api.constructafrica.com
    description: Production server

tags:
  - name: News
    description: News articles management
  - name: Blogs
    description: Blog posts management
  - name: Tenders
    description: Projects and tenders management
  - name: Authors
    description: News authors management
  - name: Experts
    description: Experts and analysts management
  - name: Sectors
    description: Sector categories management
  - name: Trending News
    description: Trending news management

paths:
  # News Endpoints
  /items/main_news:
    get:
      summary: List News Articles
      description: Retrieve paginated list of news articles with filtering options
      tags:
        - News
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/fieldsParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/offsetParam'
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/searchParam'
        - $ref: '#/components/parameters/metaParam'
        - name: filter[status][_eq]
          in: query
          schema:
            type: string
            enum: [published, draft]
        - name: filter[category_id][_eq]
          in: query
          schema:
            type: string
            format: uuid
        - name: filter[author_id][_eq]
          in: query
          schema:
            type: string
            format: uuid
        - name: filter[is_sponsored][_eq]
          in: query
          schema:
            type: boolean
        - name: filter[is_spotlight][_eq]
          in: query
          schema:
            type: boolean
        - name: filter[is_free_news][_eq]
          in: query
          schema:
            type: boolean
        - name: filter[promote][_eq]
          in: query
          schema:
            type: boolean
        - name: filter[sticky][_eq]
          in: query
          schema:
            type: boolean
        - name: filter[date_created][_gte]
          in: query
          schema:
            type: string
            format: date-time
        - name: filter[date_created][_lte]
          in: query
          schema:
            type: string
            format: date-time
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsListResponse'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

    post:
      summary: Create News Article
      description: Create a new news article
      tags:
        - News
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateNewsRequest'
      responses:
        '201':
          description: News article created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/News'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /items/main_news/{id}:
    get:
      summary: Get News Article
      description: Retrieve a specific news article by ID
      tags:
        - News
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - $ref: '#/components/parameters/fieldsParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/News'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

    patch:
      summary: Update News Article
      description: Update an existing news article
      tags:
        - News
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateNewsRequest'
      responses:
        '200':
          description: News article updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/News'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

    delete:
      summary: Delete News Article
      description: Delete a news article
      tags:
        - News
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: News article deleted successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  # News Relationships Endpoints
  /items/main_news/{id}/countries:
    get:
      summary: Get News Countries
      description: Retrieve countries associated with a news article
      tags:
        - News
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Country'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /items/main_news/{id}/sectors:
    get:
      summary: Get News Sectors
      description: Retrieve sectors associated with a news article
      tags:
        - News
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Sector'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  # Blog Endpoints
  /items/blog:
    get:
      summary: List Blog Posts
      description: Retrieve paginated list of blog posts
      tags:
        - Blogs
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/fieldsParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/offsetParam'
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/searchParam'
        - $ref: '#/components/parameters/metaParam'
        - name: filter[status][_eq]
          in: query
          schema:
            type: string
            enum: [published, draft]
        - name: filter[author_id][_eq]
          in: query
          schema:
            type: string
            format: uuid
        - name: filter[promote][_eq]
          in: query
          schema:
            type: boolean
        - name: filter[sticky][_eq]
          in: query
          schema:
            type: boolean
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlogListResponse'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

    post:
      summary: Create Blog Post
      description: Create a new blog post
      tags:
        - Blogs
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBlogRequest'
      responses:
        '201':
          description: Blog post created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/Blog'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /items/blog/{id}:
    get:
      summary: Get Blog Post
      description: Retrieve a specific blog post by ID
      tags:
        - Blogs
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - $ref: '#/components/parameters/fieldsParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/Blog'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  # Tenders Endpoints
  /items/projects_tenders:
    get:
      summary: List Tenders
      description: Retrieve paginated list of projects and tenders
      tags:
        - Tenders
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/fieldsParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/offsetParam'
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/searchParam'
        - $ref: '#/components/parameters/metaParam'
        - name: filter[status][_eq]
          in: query
          schema:
            type: string
            enum: [published, draft]
        - name: filter[is_free_tender][_eq]
          in: query
          schema:
            type: boolean
        - name: filter[promote][_eq]
          in: query
          schema:
            type: boolean
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenderListResponse'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

    post:
      summary: Create Tender
      description: Create a new project/tender
      tags:
        - Tenders
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTenderRequest'
      responses:
        '201':
          description: Tender created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/Tender'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  # Authors Endpoints
  /items/news_author:
    get:
      summary: List Authors
      description: Retrieve paginated list of news authors
      tags:
        - Authors
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/fieldsParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/offsetParam'
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/searchParam'
        - name: filter[status][_eq]
          in: query
          schema:
            type: string
            enum: [published, draft]
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthorListResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /items/news_author/{id}:
    get:
      summary: Get Author
      description: Retrieve a specific author by ID
      tags:
        - Authors
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/Author'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  # Experts Endpoints
  /items/experts_analysts:
    get:
      summary: List Experts
      description: Retrieve paginated list of experts and analysts
      tags:
        - Experts
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/fieldsParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/offsetParam'
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/searchParam'
        - name: filter[status][_eq]
          in: query
          schema:
            type: string
            enum: [published, draft]
        - name: filter[country_code][_eq]
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExpertListResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /items/experts_analysts/{id}:
    get:
      summary: Get Expert
      description: Retrieve a specific expert by ID
      tags:
        - Experts
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/Expert'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  # Sectors Endpoints
  /items/sector:
    get:
      summary: List Sectors
      description: Retrieve paginated list of sectors
      tags:
        - Sectors
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/fieldsParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/offsetParam'
        - $ref: '#/components/parameters/sortParam'
        - $ref: '#/components/parameters/searchParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SectorListResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /items/sector/{id}:
    get:
      summary: Get Sector
      description: Retrieve a specific sector by ID
      tags:
        - Sectors
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/Sector'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  # Trending News Endpoints
  /items/trending_news:
    get:
      summary: List Trending News
      description: Retrieve paginated list of trending news items
      tags:
        - Trending News
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/fieldsParam'
        - $ref: '#/components/parameters/limitParam'
        - $ref: '#/components/parameters/offsetParam'
        - $ref: '#/components/parameters/sortParam'
        - name: filter[status][_eq]
          in: query
          schema:
            type: string
            enum: [published, draft, archived]
        - name: filter[promote][_eq]
          in: query
          schema:
            type: boolean
        - name: sort
          in: query
          schema:
            type: string
            default: "sort_order"
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrendingNewsListResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

    post:
      summary: Create Trending News
      description: Create a new trending news item
      tags:
        - Trending News
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTrendingNewsRequest'
      responses:
        '201':
          description: Trending news created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/TrendingNews'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    # News Schemas
    News:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: "news-uuid-123"
        status:
          type: string
          enum: [published, draft]
          example: "published"
        title:
          type: string
          example: "Major Construction Project Announced"
        slug:
          type: string
          example: "major-construction-project-announced"
        summary:
          type: string
          example: "A new $500M infrastructure project has been announced..."
        content:
          type: string
          example: "<p>Detailed content about the construction project...</p>"
        featured_image:
          type: string
          format: uuid
          nullable: true
          example: "file-uuid-123"
        category_id:
          type: string
          format: uuid
          nullable: true
          example: "category-uuid-123"
        author_id:
          type: string
          format: uuid
          nullable: true
          example: "author-uuid-123"
        is_sponsored:
          type: boolean
          example: false
        sponsor_id:
          type: string
          format: uuid
          nullable: true
          example: "sponsor-uuid-123"
        sponsor_url:
          type: string
          nullable: true
          example: "https://sponsor.com"
        banner_link:
          type: string
          nullable: true
          example: "https://banner.com"
        is_spotlight:
          type: boolean
          example: true
        is_free_news:
          type: boolean
          example: false
        read_time:
          type: string
          nullable: true
          example: "5 min"
        promote:
          type: boolean
          example: true
        sticky:
          type: boolean
          example: false
        comments_enabled:
          type: boolean
          example: true
        comment_count:
          type: integer
          example: 15
        user_created:
          type: string
          format: uuid
          example: "user-uuid-123"
        date_created:
          type: string
          format: date-time
          example: "2024-01-15T10:00:00Z"
        date_updated:
          type: string
          format: date-time
          example: "2024-01-16T14:30:00Z"
        countries:
          type: array
          items:
            $ref: '#/components/schemas/Country'
        sectors:
          type: array
          items:
            $ref: '#/components/schemas/Sector'
        regions:
          type: array
          items:
            $ref: '#/components/schemas/Region'
        related_companies:
          type: array
          items:
            $ref: '#/components/schemas/Company'
        related_projects:
          type: array
          items:
            $ref: '#/components/schemas/Project'

    CreateNewsRequest:
      type: object
      required:
        - title
        - content
      properties:
        title:
          type: string
          example: "New Construction Technology Launched"
        slug:
          type: string
          example: "new-construction-technology-launched"
        summary:
          type: string
          example: "Summary of the new technology"
        content:
          type: string
          example: "<p>Detailed content about the technology...</p>"
        featured_image:
          type: string
          format: uuid
          nullable: true
        category_id:
          type: string
          format: uuid
          nullable: true
        author_id:
          type: string
          format: uuid
          nullable: true
        is_sponsored:
          type: boolean
          default: false
        sponsor_id:
          type: string
          format: uuid
          nullable: true
        sponsor_url:
          type: string
          nullable: true
        is_spotlight:
          type: boolean
          default: false
        is_free_news:
          type: boolean
          default: false
        read_time:
          type: string
          nullable: true
        promote:
          type: boolean
          default: false
        sticky:
          type: boolean
          default: false
        comments_enabled:
          type: boolean
          default: true
        status:
          type: string
          enum: [published, draft]
          default: "draft"

    UpdateNewsRequest:
      type: object
      properties:
        title:
          type: string
        slug:
          type: string
        summary:
          type: string
        content:
          type: string
        featured_image:
          type: string
          format: uuid
          nullable: true
        category_id:
          type: string
          format: uuid
          nullable: true
        author_id:
          type: string
          format: uuid
          nullable: true
        is_sponsored:
          type: boolean
        sponsor_id:
          type: string
          format: uuid
          nullable: true
        sponsor_url:
          type: string
          nullable: true
        is_spotlight:
          type: boolean
        is_free_news:
          type: boolean
        read_time:
          type: string
          nullable: true
        promote:
          type: boolean
        sticky:
          type: boolean
        comments_enabled:
          type: boolean
        status:
          type: string
          enum: [published, draft]

    # Blog Schemas
    Blog:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: "blog-uuid-123"
        status:
          type: string
          enum: [published, draft]
          example: "published"
        title:
          type: string
          example: "The Future of Sustainable Construction"
        slug:
          type: string
          example: "future-sustainable-construction"
        summary:
          type: string
          example: "Exploring sustainable practices in construction"
        content:
          type: string
          example: "<p>Detailed blog content...</p>"
        main_summary:
          type: string
          example: "Main summary for the blog post"
        featured_image:
          type: string
          format: uuid
          nullable: true
          example: "file-uuid-123"
        author_id:
          type: string
          format: uuid
          nullable: true
          example: "author-uuid-123"
        read_time_minutes:
          type: integer
          example: 5
        read_time_seconds:
          type: integer
          example: 300
        promote:
          type: boolean
          example: true
        sticky:
          type: boolean
          example: false
        comments_enabled:
          type: boolean
          example: true
        comment_count:
          type: integer
          example: 8
        user_created:
          type: string
          format: uuid
          example: "user-uuid-123"
        date_created:
          type: string
          format: date-time
          example: "2024-01-15T10:00:00Z"
        date_updated:
          type: string
          format: date-time
          example: "2024-01-16T14:30:00Z"

    CreateBlogRequest:
      type: object
      required:
        - title
        - content
      properties:
        title:
          type: string
        slug:
          type: string
        summary:
          type: string
        content:
          type: string
        main_summary:
          type: string
        featured_image:
          type: string
          format: uuid
          nullable: true
        author_id:
          type: string
          format: uuid
          nullable: true
        read_time_minutes:
          type: integer
        read_time_seconds:
          type: integer
        promote:
          type: boolean
          default: false
        sticky:
          type: boolean
          default: false
        comments_enabled:
          type: boolean
          default: true
        status:
          type: string
          enum: [published, draft]
          default: "draft"

    # Tender Schemas
    Tender:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: "tender-uuid-123"
        status:
          type: string
          enum: [published, draft]
          example: "published"
        title:
          type: string
          example: "Road Construction Tender - Phase 2"
        slug:
          type: string
          example: "road-construction-tender-phase-2"
        summary:
          type: string
          example: "Tender for road construction project"
        content:
          type: string
          example: "<p>Detailed tender information...</p>"
        featured_image:
          type: string
          format: uuid
          nullable: true
          example: "file-uuid-123"
        is_free_tender:
          type: boolean
          example: false
        read_time:
          type: string
          nullable: true
          example: "3 min"
        promote:
          type: boolean
          example: true
        sticky:
          type: boolean
          example: false
        user_created:
          type: string
          format: uuid
          example: "user-uuid-123"
        date_created:
          type: string
          format: date-time
          example: "2024-01-15T10:00:00Z"
        date_updated:
          type: string
          format: date-time
          example: "2024-01-16T14:30:00Z"

    CreateTenderRequest:
      type: object
      required:
        - title
        - content
      properties:
        title:
          type: string
        slug:
          type: string
        summary:
          type: string
        content:
          type: string
        featured_image:
          type: string
          format: uuid
          nullable: true
        is_free_tender:
          type: boolean
          default: false
        read_time:
          type: string
          nullable: true
        promote:
          type: boolean
          default: false
        sticky:
          type: boolean
          default: false
        status:
          type: string
          enum: [published, draft]
          default: "draft"

    # Author Schemas
    Author:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: "author-uuid-123"
        status:
          type: string
          enum: [published, draft]
          example: "published"
        name:
          type: string
          example: "John Doe"
        slug:
          type: string
          example: "john-doe"
        bio:
          type: string
          example: "Experienced construction journalist"
        photo:
          type: string
          format: uuid
          nullable: true
          example: "file-uuid-123"
        linkedin_url:
          type: string
          nullable: true
          example: "https://linkedin.com/in/johndoe"
        twitter_url:
          type: string
          nullable: true
          example: "https://twitter.com/johndoe"
        promote:
          type: boolean
          example: true
        sticky:
          type: boolean
          example: false
        user_created:
          type: string
          format: uuid
          example: "user-uuid-123"
        date_created:
          type: string
          format: date-time
          example: "2024-01-15T10:00:00Z"
        date_updated:
          type: string
          format: date-time
          example: "2024-01-16T14:30:00Z"

    # Expert Schemas
    Expert:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: "expert-uuid-123"
        status:
          type: string
          enum: [published, draft]
          example: "published"
        title:
          type: string
          example: "Senior Construction Analyst"
        name:
          type: string
          example: "Dr. Sarah Johnson"
        slug:
          type: string
          example: "sarah-johnson"
        bio:
          type: string
          example: "PhD in Civil Engineering with 15 years experience"
        email:
          type: string
          format: email
          nullable: true
          example: "sarah@example.com"
        organization:
          type: string
          nullable: true
          example: "Construction Analytics Ltd"
        address_line1:
          type: string
          nullable: true
          example: "123 Business Street"
        address_line2:
          type: string
          nullable: true
          example: "Suite 400"
        city:
          type: string
          nullable: true
          example: "Lagos"
        postal_code:
          type: string
          nullable: true
          example: "100001"
        country_code:
          type: string
          nullable: true
          example: "NG"
        twitter_url:
          type: string
          nullable: true
          example: "https://twitter.com/sarahj"
        linkedin_url:
          type: string
          nullable: true
          example: "https://linkedin.com/in/sarahj"
        facebook_url:
          type: string
          nullable: true
          example: "https://facebook.com/sarahj"
        photo:
          type: string
          format: uuid
          nullable: true
          example: "file-uuid-123"
        promote:
          type: boolean
          example: true
        sticky:
          type: boolean
          example: false
        user_created:
          type: string
          format: uuid
          example: "user-uuid-123"
        date_created:
          type: string
          format: date-time
          example: "2024-01-15T10:00:00Z"
        date_updated:
          type: string
          format: date-time
          example: "2024-01-16T14:30:00Z"

    # Sector Schemas
    Sector:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: "sector-uuid-123"
        name:
          type: string
          example: "Infrastructure"
        slug:
          type: string
          example: "infrastructure"
        description:
          type: string
          example: "Large-scale infrastructure projects"
        weight:
          type: integer
          example: 1
        meta_title:
          type: string
          nullable: true
          example: "Infrastructure Projects | ConstructAfrica"
        meta_description:
          type: string
          nullable: true
          example: "Latest infrastructure projects in Africa"
        meta_keywords:
          type: string
          nullable: true
          example: "infrastructure, construction, projects"
        canonical_url:
          type: string
          nullable: true
          example: "https://constructafrica.com/sectors/infrastructure"

    # Trending News Schemas
    TrendingNews:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: "trending-uuid-123"
        status:
          type: string
          enum: [published, draft, archived]
          example: "published"
        title:
          type: string
          example: "Internal Title"
        news_headline:
          type: string
          example: "Breaking: Major Construction Deal Signed"
        description:
          type: string
          example: "Description of the trending news"
        slug:
          type: string
          example: "major-construction-deal-signed"
        featured_image:
          type: string
          format: uuid
          nullable: true
          example: "file-uuid-123"
        media_id:
          type: string
          nullable: true
          example: "media-123"
        promote:
          type: boolean
          example: true
        sticky:
          type: boolean
          example: false
        sort_order:
          type: integer
          example: 1
        user_created:
          type: string
          format: uuid
          example: "user-uuid-123"
        date_created:
          type: string
          format: date-time
          example: "2024-01-15T10:00:00Z"
        date_updated:
          type: string
          format: date-time
          example: "2024-01-16T14:30:00Z"

    CreateTrendingNewsRequest:
      type: object
      required:
        - news_headline
      properties:
        title:
          type: string
        news_headline:
          type: string
        description:
          type: string
        slug:
          type: string
        featured_image:
          type: string
          format: uuid
          nullable: true
        media_id:
          type: string
          nullable: true
        promote:
          type: boolean
          default: false
        sticky:
          type: boolean
          default: false
        sort_order:
          type: integer
          default: 0
        status:
          type: string
          enum: [published, draft, archived]
          default: "draft"

    # Supporting Schemas
    Country:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        code:
          type: string

    Region:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string

    Company:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        logo:
          type: string
          format: uuid
          nullable: true

    Project:
      type: object
      properties:
        id:
          type: string
          format: uuid
        title:
          type: string
        featured_image:
          type: string
          format: uuid
          nullable: true

    # List Response Schemas
    NewsListResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/News'
        meta:
          $ref: '#/components/schemas/PaginationMeta'

    BlogListResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Blog'
        meta:
          $ref: '#/components/schemas/PaginationMeta'

    TenderListResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Tender'
        meta:
          $ref: '#/components/schemas/PaginationMeta'

    AuthorListResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Author'
        meta:
          $ref: '#/components/schemas/PaginationMeta'

    ExpertListResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Expert'
        meta:
          $ref: '#/components/schemas/PaginationMeta'

    SectorListResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Sector'
        meta:
          $ref: '#/components/schemas/PaginationMeta'

    TrendingNewsListResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/TrendingNews'
        meta:
          $ref: '#/components/schemas/PaginationMeta'

    # Pagination Schema
    PaginationMeta:
      type: object
      properties:
        total_count:
          type: integer
          example: 150
        filter_count:
          type: integer
          example: 25
        page_count:
          type: integer
          example: 6
        page:
          type: integer
          example: 1
        limit:
          type: integer
          example: 25

    # Error Schema
    Error:
      type: object
      properties:
        errors:
          type: array
          items:
            type: object
            properties:
              message:
                type: string
              extensions:
                type: object
                properties:
                  code:
                    type: string

  parameters:
    fieldsParam:
      name: fields
      in: query
      description: Comma-separated list of fields to return
      schema:
        type: string
        example: "id,title,slug,featured_image,author.name"
    limitParam:
      name: limit
      in: query
      description: Number of items per page (max 100)
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
    offsetParam:
      name: offset
      in: query
      description: Number of items to skip
      schema:
        type: integer
        minimum: 0
        default: 0
    sortParam:
      name: sort
      in: query
      description: Sort by field (prefix with - for DESC)
      schema:
        type: string
        example: "-date_created,title"
    searchParam:
      name: search
      in: query
      description: Full-text search
      schema:
        type: string
    metaParam:
      name: meta
      in: query
      description: Include metadata
      schema:
        type: string
        example: "total_count,filter_count"

  responses:
    BadRequestError:
      description: Bad Request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    UnauthorizedError:
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    ForbiddenError:
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    NotFoundError:
      description: Not Found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'

security:
  - bearerAuth: []